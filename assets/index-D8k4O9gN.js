var n5=Object.defineProperty;var r5=(n,e,t)=>e in n?n5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Te=(n,e,t)=>r5(n,typeof e!="symbol"?e+"":e,t);function i5(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function y2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yw={exports:{}},sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD;function s5(){if(wD)return sf;wD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return sf.Fragment=e,sf.jsx=t,sf.jsxs=t,sf}var bD;function a5(){return bD||(bD=1,Yw.exports=s5()),Yw.exports}var x=a5(),Ww={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD;function o5(){if(TD)return je;TD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function I(U,oe,ge){this.props=U,this.context=oe,this.refs=A,this.updater=ge||b}I.prototype.isReactComponent={},I.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=I.prototype;function V(U,oe,ge){this.props=U,this.context=oe,this.refs=A,this.updater=ge||b}var N=V.prototype=new C;N.constructor=V,T(N,I.prototype),N.isPureReactComponent=!0;var q=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function k(U,oe,ge,me,Re,Be){return ge=Be.ref,{$$typeof:n,type:U,key:oe,ref:ge!==void 0?ge:null,props:Be}}function D(U,oe){return k(U.type,oe,void 0,void 0,void 0,U.props)}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return oe[ge]})}var j=/\/+/g;function $(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):oe.toString(36)}function F(){}function Ve(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(F,F):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ie(U,oe,ge,me,Re){var Be=typeof U;(Be==="undefined"||Be==="boolean")&&(U=null);var Pe=!1;if(U===null)Pe=!0;else switch(Be){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(U.$$typeof){case n:case e:Pe=!0;break;case p:return Pe=U._init,Ie(Pe(U._payload),oe,ge,me,Re)}}if(Pe)return Re=Re(U),Pe=me===""?"."+$(U,0):me,q(Re)?(ge="",Pe!=null&&(ge=Pe.replace(j,"$&/")+"/"),Ie(Re,oe,ge,"",function(En){return En})):Re!=null&&(M(Re)&&(Re=D(Re,ge+(Re.key==null||U&&U.key===Re.key?"":(""+Re.key).replace(j,"$&/")+"/")+Pe)),oe.push(Re)),1;Pe=0;var Vt=me===""?".":me+":";if(q(U))for(var rt=0;rt<U.length;rt++)me=U[rt],Be=Vt+$(me,rt),Pe+=Ie(me,oe,ge,Be,Re);else if(rt=v(U),typeof rt=="function")for(U=rt.call(U),rt=0;!(me=U.next()).done;)me=me.value,Be=Vt+$(me,rt++),Pe+=Ie(me,oe,ge,Be,Re);else if(Be==="object"){if(typeof U.then=="function")return Ie(Ve(U),oe,ge,me,Re);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function K(U,oe,ge){if(U==null)return U;var me=[],Re=0;return Ie(U,me,"","",function(Be){return oe.call(ge,Be,Re++)}),me}function ie(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var de=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ee(){}return je.Children={map:K,forEach:function(U,oe,ge){K(U,function(){oe.apply(this,arguments)},ge)},count:function(U){var oe=0;return K(U,function(){oe++}),oe},toArray:function(U){return K(U,function(oe){return oe})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},je.Component=I,je.Fragment=t,je.Profiler=i,je.PureComponent=V,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,je.__COMPILER_RUNTIME={__proto__:null,c:function(U){return z.H.useMemoCache(U)}},je.cache=function(U){return function(){return U.apply(null,arguments)}},je.cloneElement=function(U,oe,ge){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var me=T({},U.props),Re=U.key,Be=void 0;if(oe!=null)for(Pe in oe.ref!==void 0&&(Be=void 0),oe.key!==void 0&&(Re=""+oe.key),oe)!Y.call(oe,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&oe.ref===void 0||(me[Pe]=oe[Pe]);var Pe=arguments.length-2;if(Pe===1)me.children=ge;else if(1<Pe){for(var Vt=Array(Pe),rt=0;rt<Pe;rt++)Vt[rt]=arguments[rt+2];me.children=Vt}return k(U.type,Re,void 0,void 0,Be,me)},je.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},je.createElement=function(U,oe,ge){var me,Re={},Be=null;if(oe!=null)for(me in oe.key!==void 0&&(Be=""+oe.key),oe)Y.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Re[me]=oe[me]);var Pe=arguments.length-2;if(Pe===1)Re.children=ge;else if(1<Pe){for(var Vt=Array(Pe),rt=0;rt<Pe;rt++)Vt[rt]=arguments[rt+2];Re.children=Vt}if(U&&U.defaultProps)for(me in Pe=U.defaultProps,Pe)Re[me]===void 0&&(Re[me]=Pe[me]);return k(U,Be,void 0,void 0,null,Re)},je.createRef=function(){return{current:null}},je.forwardRef=function(U){return{$$typeof:u,render:U}},je.isValidElement=M,je.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:ie}},je.memo=function(U,oe){return{$$typeof:f,type:U,compare:oe===void 0?null:oe}},je.startTransition=function(U){var oe=z.T,ge={};z.T=ge;try{var me=U(),Re=z.S;Re!==null&&Re(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ee,de)}catch(Be){de(Be)}finally{z.T=oe}},je.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},je.use=function(U){return z.H.use(U)},je.useActionState=function(U,oe,ge){return z.H.useActionState(U,oe,ge)},je.useCallback=function(U,oe){return z.H.useCallback(U,oe)},je.useContext=function(U){return z.H.useContext(U)},je.useDebugValue=function(){},je.useDeferredValue=function(U,oe){return z.H.useDeferredValue(U,oe)},je.useEffect=function(U,oe,ge){var me=z.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(U,oe)},je.useId=function(){return z.H.useId()},je.useImperativeHandle=function(U,oe,ge){return z.H.useImperativeHandle(U,oe,ge)},je.useInsertionEffect=function(U,oe){return z.H.useInsertionEffect(U,oe)},je.useLayoutEffect=function(U,oe){return z.H.useLayoutEffect(U,oe)},je.useMemo=function(U,oe){return z.H.useMemo(U,oe)},je.useOptimistic=function(U,oe){return z.H.useOptimistic(U,oe)},je.useReducer=function(U,oe,ge){return z.H.useReducer(U,oe,ge)},je.useRef=function(U){return z.H.useRef(U)},je.useState=function(U){return z.H.useState(U)},je.useSyncExternalStore=function(U,oe,ge){return z.H.useSyncExternalStore(U,oe,ge)},je.useTransition=function(){return z.H.useTransition()},je.version="19.1.0",je}var ED;function pE(){return ED||(ED=1,Ww.exports=o5()),Ww.exports}var P=pE();const se=y2(P),v2=i5({__proto__:null,default:se},[P]);var Gw={exports:{}},af={},Kw={exports:{}},Qw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD;function l5(){return SD||(SD=1,function(n){function e(K,ie){var de=K.length;K.push(ie);e:for(;0<de;){var Ee=de-1>>>1,U=K[Ee];if(0<i(U,ie))K[Ee]=ie,K[de]=U,de=Ee;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],de=K.pop();if(de!==ie){K[0]=de;e:for(var Ee=0,U=K.length,oe=U>>>1;Ee<oe;){var ge=2*(Ee+1)-1,me=K[ge],Re=ge+1,Be=K[Re];if(0>i(me,de))Re<U&&0>i(Be,me)?(K[Ee]=Be,K[Re]=de,Ee=Re):(K[Ee]=me,K[ge]=de,Ee=ge);else if(Re<U&&0>i(Be,de))K[Ee]=Be,K[Re]=de,Ee=Re;else break e}}return ie}function i(K,ie){var de=K.sortIndex-ie.sortIndex;return de!==0?de:K.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,y=null,v=3,b=!1,T=!1,A=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function q(K){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=K)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function z(K){if(A=!1,q(K),!T)if(t(d)!==null)T=!0,Y||(Y=!0,$());else{var ie=t(f);ie!==null&&Ie(z,ie.startTime-K)}}var Y=!1,k=-1,D=5,M=-1;function L(){return I?!0:!(n.unstable_now()-M<D)}function j(){if(I=!1,Y){var K=n.unstable_now();M=K;var ie=!0;try{e:{T=!1,A&&(A=!1,V(k),k=-1),b=!0;var de=v;try{t:{for(q(K),y=t(d);y!==null&&!(y.expirationTime>K&&L());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,v=y.priorityLevel;var U=Ee(y.expirationTime<=K);if(K=n.unstable_now(),typeof U=="function"){y.callback=U,q(K),ie=!0;break t}y===t(d)&&r(d),q(K)}else r(d);y=t(d)}if(y!==null)ie=!0;else{var oe=t(f);oe!==null&&Ie(z,oe.startTime-K),ie=!1}}break e}finally{y=null,v=de,b=!1}ie=void 0}}finally{ie?$():Y=!1}}}var $;if(typeof N=="function")$=function(){N(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Ve=F.port2;F.port1.onmessage=j,$=function(){Ve.postMessage(null)}}else $=function(){C(j,0)};function Ie(K,ie){k=C(function(){K(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(K){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var de=v;v=ie;try{return K()}finally{v=de}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=v;v=K;try{return ie()}finally{v=de}},n.unstable_scheduleCallback=function(K,ie,de){var Ee=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=de+U,K={id:p++,callback:ie,priorityLevel:K,startTime:de,expirationTime:U,sortIndex:-1},de>Ee?(K.sortIndex=de,e(f,K),t(d)===null&&K===t(f)&&(A?(V(k),k=-1):A=!0,Ie(z,de-Ee))):(K.sortIndex=U,e(d,K),T||b||(T=!0,Y||(Y=!0,$()))),K},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(K){var ie=v;return function(){var de=v;v=ie;try{return K.apply(this,arguments)}finally{v=de}}}}(Qw)),Qw}var xD;function c5(){return xD||(xD=1,Kw.exports=l5()),Kw.exports}var Xw={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function u5(){if(AD)return Gn;AD=1;var n=pE();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},Gn.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Gn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Gn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Gn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Gn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Gn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Gn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Gn.requestFormReset=function(d){r.d.r(d)},Gn.unstable_batchedUpdates=function(d,f){return d(f)},Gn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var ID;function _2(){if(ID)return Xw.exports;ID=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xw.exports=u5(),Xw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD;function d5(){if(DD)return af;DD=1;var n=c5(),e=pE(),t=_2();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function d(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,h=o;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return u(g),a;if(_===h)return u(g),o;_=_.sibling}throw Error(r(188))}if(c.return!==h.return)c=g,h=_;else{for(var S=!1,R=g.child;R;){if(R===c){S=!0,c=g,h=_;break}if(R===h){S=!0,h=g,c=_;break}R=R.sibling}if(!S){for(R=_.child;R;){if(R===c){S=!0,c=_,h=g;break}if(R===h){S=!0,h=_,c=g;break}R=R.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),N=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function Ve(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case Y:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case N:return(a.displayName||"Context")+".Provider";case V:return(a._context.displayName||"Context")+".Consumer";case q:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return o=a.displayName||null,o!==null?o:Ve(a.type)||"Memo";case D:o=a._payload,a=a._init;try{return Ve(a(o))}catch{}}return null}var Ie=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],U=-1;function oe(a){return{current:a}}function ge(a){0>U||(a.current=Ee[U],Ee[U]=null,U--)}function me(a,o){U++,Ee[U]=a.current,a.current=o}var Re=oe(null),Be=oe(null),Pe=oe(null),Vt=oe(null);function rt(a,o){switch(me(Pe,o),me(Be,a),me(Re,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?GI(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=GI(o),a=KI(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ge(Re),me(Re,a)}function En(){ge(Re),ge(Be),ge(Pe)}function jr(a){a.memoizedState!==null&&me(Vt,a);var o=Re.current,c=KI(o,a.type);o!==c&&(me(Be,a),me(Re,c))}function gr(a){Be.current===a&&(ge(Re),ge(Be)),Vt.current===a&&(ge(Vt),Jh._currentValue=de)}var Hn=Object.prototype.hasOwnProperty,jo=n.unstable_scheduleCallback,zo=n.unstable_cancelCallback,Qd=n.unstable_shouldYield,vm=n.unstable_requestPaint,zr=n.unstable_now,Y_=n.unstable_getCurrentPriorityLevel,Xd=n.unstable_ImmediatePriority,Ec=n.unstable_UserBlockingPriority,$o=n.unstable_NormalPriority,W_=n.unstable_LowPriority,Sc=n.unstable_IdlePriority,Zd=n.log,_m=n.unstable_setDisableYieldValue,Ht=null,dt=null;function xr(a){if(typeof Zd=="function"&&_m(a),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Ht,a)}catch{}}var Yn=Math.clz32?Math.clz32:qo,wm=Math.log,G_=Math.LN2;function qo(a){return a>>>=0,a===0?32:31-(wm(a)/G_|0)|0}var Ho=256,Yo=4194304;function fi(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function xc(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var g=0,_=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var R=h&134217727;return R!==0?(h=R&~_,h!==0?g=fi(h):(S&=R,S!==0?g=fi(S):c||(c=R&~a,c!==0&&(g=fi(c))))):(R=h&~_,R!==0?g=fi(R):S!==0?g=fi(S):c||(c=h&~a,c!==0&&(g=fi(c)))),g===0?0:o!==0&&o!==g&&(o&_)===0&&(_=g&-g,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:g}function Wo(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Jd(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(){var a=Ho;return Ho<<=1,(Ho&4194048)===0&&(Ho=256),a}function th(){var a=Yo;return Yo<<=1,(Yo&62914560)===0&&(Yo=4194304),a}function Ss(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function xs(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function nh(a,o,c,h,g,_){var S=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var R=a.entanglements,B=a.expirationTimes,J=a.hiddenUpdates;for(c=S&~c;0<c;){var le=31-Yn(c),ue=1<<le;R[le]=0,B[le]=-1;var ee=J[le];if(ee!==null)for(J[le]=null,le=0;le<ee.length;le++){var te=ee[le];te!==null&&(te.lane&=-536870913)}c&=~ue}h!==0&&Ii(a,h,0),_!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=_&~(S&~o))}function Ii(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Yn(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&4194090}function rh(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-Yn(c),g=1<<h;g&o|a[h]&o&&(a[h]|=o),c&=~g}}function ba(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ac(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ta(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:pD(a.type))}function bm(a,o){var c=ie.p;try{return ie.p=a,o()}finally{ie.p=c}}var Dt=Math.random().toString(36).slice(2),gn="__reactFiber$"+Dt,cn="__reactProps$"+Dt,$r="__reactContainer$"+Dt,ih="__reactEvents$"+Dt,K_="__reactListeners$"+Dt,Ea="__reactHandles$"+Dt,Tm="__reactResources$"+Dt,Go="__reactMarker$"+Dt;function Sa(a){delete a[gn],delete a[cn],delete a[ih],delete a[K_],delete a[Ea]}function As(a){var o=a[gn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[$r]||c[gn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=JI(a);a!==null;){if(c=a[gn])return c;a=JI(a)}return o}a=c,c=a.parentNode}return null}function Di(a){if(a=a[gn]||a[$r]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Ri(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function rr(a){var o=a[Tm];return o||(o=a[Tm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Jt(a){a[Go]=!0}var sh=new Set,Ic={};function pi(a,o){Is(a,o),Is(a+"Capture",o)}function Is(a,o){for(Ic[a]=o,a=0;a<o.length;a++)sh.add(o[a])}var Em=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sm={},Ko={};function xm(a){return Hn.call(Ko,a)?!0:Hn.call(Sm,a)?!1:Em.test(a)?Ko[a]=!0:(Sm[a]=!0,!1)}function xa(a,o,c){if(xm(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Ci(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function On(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}var Qo,Am;function Ds(a){if(Qo===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Qo=o&&o[1]||"",Am=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qo+a+Am}var Dc=!1;function Rc(a,o){if(!a||Dc)return"";Dc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(te){ee=te}a.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),S=_[0],R=_[1];if(S&&R){var B=S.split(`
`),J=R.split(`
`);for(g=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(h===B.length||g===J.length)for(h=B.length-1,g=J.length-1;1<=h&&0<=g&&B[h]!==J[g];)g--;for(;1<=h&&0<=g;h--,g--)if(B[h]!==J[g]){if(h!==1||g!==1)do if(h--,g--,0>g||B[h]!==J[g]){var le=`
`+B[h].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=h&&0<=g);break}}}finally{Dc=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ds(c):""}function ah(a){switch(a.tag){case 26:case 27:case 5:return Ds(a.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 15:return Rc(a.type,!1);case 11:return Rc(a.type.render,!1);case 1:return Rc(a.type,!0);case 31:return Ds("Activity");default:return""}}function Cc(a){try{var o="";do o+=ah(a),a=a.return;while(a);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ir(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function oh(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Q_(a){var o=oh(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),h=""+a[o];if(!a.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(a,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Pc(a){a._valueTracker||(a._valueTracker=Q_(a))}function lh(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=oh(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function Xo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var X_=/[\n"\\]/g;function un(a){return a.replace(X_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ar(a,o,c,h,g,_,S,R){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),o!=null?S==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ir(o)):a.value!==""+ir(o)&&(a.value=""+ir(o)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),o!=null?Aa(a,S,ir(o)):c!=null?Aa(a,S,ir(c)):h!=null&&a.removeAttribute("value"),g==null&&_!=null&&(a.defaultChecked=!!_),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+ir(R):a.removeAttribute("name")}function Zo(a,o,c,h,g,_,S,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;c=c!=null?""+ir(c):"",o=o!=null?""+ir(o):c,R||o===a.value||(a.value=o),a.defaultValue=o}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=R?a.checked:!!h,a.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S)}function Aa(a,o,c){o==="number"&&Xo(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Rs(a,o,c,h){if(a=a.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<a.length;c++)g=o.hasOwnProperty("$"+a[c].value),a[c].selected!==g&&(a[c].selected=g),g&&h&&(a[c].defaultSelected=!0)}else{for(c=""+ir(c),o=null,g=0;g<a.length;g++){if(a[g].value===c){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}o!==null||a[g].disabled||(o=a[g])}o!==null&&(o.selected=!0)}}function vt(a,o,c){if(o!=null&&(o=""+ir(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+ir(c):""}function Jo(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(Ie(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=ir(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h)}function qr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var el=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Im(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||el.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function ch(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var g in o)h=o[g],o.hasOwnProperty(g)&&c[g]!==h&&Im(a,g,h)}else for(var _ in o)o.hasOwnProperty(_)&&Im(a,_,o[_])}function uh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),J_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kc(a){return J_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Cs=null;function Hr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ps=null,ks=null;function dh(a){var o=Di(a);if(o&&(a=o.stateNode)){var c=a[cn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Ar(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+un(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var g=h[cn]||null;if(!g)throw Error(r(90));Ar(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&lh(h)}break e;case"textarea":vt(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Rs(a,!!c.multiple,o,!1)}}}var Pi=!1;function Dm(a,o,c){if(Pi)return a(o,c);Pi=!0;try{var h=a(o);return h}finally{if(Pi=!1,(Ps!==null||ks!==null)&&(bg(),Ps&&(o=Ps,a=ks,ks=Ps=null,dh(o),a)))for(o=0;o<a.length;o++)dh(a[o])}}function tl(a,o){var c=a.stateNode;if(c===null)return null;var h=c[cn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(mi)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Yr=!1}var ki=null,Ia=null,Ms=null;function hh(){if(Ms)return Ms;var a,o=Ia,c=o.length,h,g="value"in ki?ki.value:ki.textContent,_=g.length;for(a=0;a<c&&o[a]===g[a];a++);var S=c-a;for(h=1;h<=S&&o[c-h]===g[_-h];h++);return Ms=g.slice(a,1<h?1-h:void 0)}function Mi(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Oi(){return!0}function fh(){return!1}function Sn(a){function o(c,h,g,_,S){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(c=a[R],this[R]=c?c(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Oi:fh,this.isPropagationStopped=fh,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),o}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Sn(lt),rl=p({},lt,{view:0,detail:0}),Rm=Sn(rl),Oc,Nc,Ni,il=p({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ol,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ni&&(Ni&&a.type==="mousemove"?(Oc=a.screenX-Ni.screenX,Nc=a.screenY-Ni.screenY):Nc=Oc=0,Ni=a),Oc)},movementY:function(a){return"movementY"in a?a.movementY:Nc}}),Wr=Sn(il),Cm=p({},il,{dataTransfer:0}),e0=Sn(Cm),sl=p({},rl,{relatedTarget:0}),Vc=Sn(sl),ph=p({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=Sn(ph),Pm=p({},lt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fc=Sn(Pm),t0=p({},lt,{data:0}),mh=Sn(t0),al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Mm[a])?!!o[a]:!1}function ol(){return gh}var Om=p({},rl,{key:function(a){if(a.key){var o=al[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Mi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?km[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ol,charCode:function(a){return a.type==="keypress"?Mi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bc=Sn(Om),Nm=p({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=Sn(Nm),Os=p({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ol}),Vm=Sn(Os),Lm=p({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fm=Sn(Lm),Bm=p({},il,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=Sn(Bm),sr=p({},lt,{newState:0,oldState:0}),Um=Sn(sr),jm=[9,13,27,32],Vi=mi&&"CompositionEvent"in window,m=null;mi&&"documentMode"in document&&(m=document.documentMode);var w=mi&&"TextEvent"in window&&!m,E=mi&&(!Vi||m&&8<m&&11>=m),O=" ",Q=!1;function re(a,o){switch(a){case"keyup":return jm.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xe=!1;function yn(a,o){switch(a){case"compositionend":return ye(o);case"keypress":return o.which!==32?null:(Q=!0,O);case"textInput":return a=o.data,a===O&&Q?null:a;default:return null}}function Ze(a,o){if(Xe)return a==="compositionend"||!Vi&&re(a,o)?(a=hh(),Ms=Ia=ki=null,Xe=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return E&&o.locale!=="ko"?null:o.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!xn[a.type]:o==="textarea"}function Ns(a,o,c,h){Ps?ks?ks.push(h):ks=[h]:Ps=h,o=Ig(o,"onChange"),0<o.length&&(c=new Mc("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var Nn=null,Li=null;function vh(a){$I(a,0)}function zm(a){var o=Ri(a);if(lh(o))return a}function ux(a,o){if(a==="change")return o}var dx=!1;if(mi){var n0;if(mi){var r0="oninput"in document;if(!r0){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),r0=typeof hx.oninput=="function"}n0=r0}else n0=!1;dx=n0&&(!document.documentMode||9<document.documentMode)}function fx(){Nn&&(Nn.detachEvent("onpropertychange",px),Li=Nn=null)}function px(a){if(a.propertyName==="value"&&zm(Li)){var o=[];Ns(o,Li,a,Hr(a)),Dm(vh,o)}}function k3(a,o,c){a==="focusin"?(fx(),Nn=o,Li=c,Nn.attachEvent("onpropertychange",px)):a==="focusout"&&fx()}function M3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return zm(Li)}function O3(a,o){if(a==="click")return zm(o)}function N3(a,o){if(a==="input"||a==="change")return zm(o)}function V3(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Ir=typeof Object.is=="function"?Object.is:V3;function _h(a,o){if(Ir(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Hn.call(o,g)||!Ir(a[g],o[g]))return!1}return!0}function mx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gx(a,o){var c=mx(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=mx(c)}}function yx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?yx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function vx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Xo(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Xo(a.document)}return o}function i0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var L3=mi&&"documentMode"in document&&11>=document.documentMode,jc=null,s0=null,wh=null,a0=!1;function _x(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;a0||jc==null||jc!==Xo(h)||(h=jc,"selectionStart"in h&&i0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),wh&&_h(wh,h)||(wh=h,h=Ig(s0,"onSelect"),0<h.length&&(o=new Mc("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=jc)))}function ll(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var zc={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},o0={},wx={};mi&&(wx=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function cl(a){if(o0[a])return o0[a];if(!zc[a])return a;var o=zc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in wx)return o0[a]=o[c];return a}var bx=cl("animationend"),Tx=cl("animationiteration"),Ex=cl("animationstart"),F3=cl("transitionrun"),B3=cl("transitionstart"),U3=cl("transitioncancel"),Sx=cl("transitionend"),xx=new Map,l0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");l0.push("scrollEnd");function gi(a,o){xx.set(a,o),pi(o,[a])}var Ax=new WeakMap;function Gr(a,o){if(typeof a=="object"&&a!==null){var c=Ax.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Cc(o)},Ax.set(a,o),o)}return{value:a,source:o,stack:Cc(o)}}var Kr=[],$c=0,c0=0;function $m(){for(var a=$c,o=c0=$c=0;o<a;){var c=Kr[o];Kr[o++]=null;var h=Kr[o];Kr[o++]=null;var g=Kr[o];Kr[o++]=null;var _=Kr[o];if(Kr[o++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}_!==0&&Ix(c,g,_)}}function qm(a,o,c,h){Kr[$c++]=a,Kr[$c++]=o,Kr[$c++]=c,Kr[$c++]=h,c0|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function u0(a,o,c,h){return qm(a,o,c,h),Hm(a)}function qc(a,o){return qm(a,null,null,o),Hm(a)}function Ix(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var g=!1,_=a.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(g=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,g&&o!==null&&(g=31-Yn(c),a=_.hiddenUpdates,h=a[g],h===null?a[g]=[o]:h.push(o),o.lane=c|536870912),_):null}function Hm(a){if(50<Hh)throw Hh=0,gw=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Hc={};function j3(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(a,o,c,h){return new j3(a,o,c,h)}function d0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Vs(a,o){var c=a.alternate;return c===null?(c=Dr(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Dx(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ym(a,o,c,h,g,_){var S=0;if(h=a,typeof a=="function")d0(a)&&(S=1);else if(typeof a=="string")S=$6(a,c,Re.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=Dr(31,c,o,g),a.elementType=M,a.lanes=_,a;case T:return ul(c.children,g,_,o);case A:S=8,g|=24;break;case I:return a=Dr(12,c,o,g|2),a.elementType=I,a.lanes=_,a;case z:return a=Dr(13,c,o,g),a.elementType=z,a.lanes=_,a;case Y:return a=Dr(19,c,o,g),a.elementType=Y,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case N:S=10;break e;case V:S=9;break e;case q:S=11;break e;case k:S=14;break e;case D:S=16,h=null;break e}S=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=Dr(S,c,o,g),o.elementType=a,o.type=h,o.lanes=_,o}function ul(a,o,c,h){return a=Dr(7,a,h,o),a.lanes=c,a}function h0(a,o,c){return a=Dr(6,a,null,o),a.lanes=c,a}function f0(a,o,c){return o=Dr(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Yc=[],Wc=0,Wm=null,Gm=0,Qr=[],Xr=0,dl=null,Ls=1,Fs="";function hl(a,o){Yc[Wc++]=Gm,Yc[Wc++]=Wm,Wm=a,Gm=o}function Rx(a,o,c){Qr[Xr++]=Ls,Qr[Xr++]=Fs,Qr[Xr++]=dl,dl=a;var h=Ls;a=Fs;var g=32-Yn(h)-1;h&=~(1<<g),c+=1;var _=32-Yn(o)+g;if(30<_){var S=g-g%5;_=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Ls=1<<32-Yn(o)+g|c<<g|h,Fs=_+a}else Ls=1<<_|c<<g|h,Fs=a}function p0(a){a.return!==null&&(hl(a,1),Rx(a,1,0))}function m0(a){for(;a===Wm;)Wm=Yc[--Wc],Yc[Wc]=null,Gm=Yc[--Wc],Yc[Wc]=null;for(;a===dl;)dl=Qr[--Xr],Qr[Xr]=null,Fs=Qr[--Xr],Qr[Xr]=null,Ls=Qr[--Xr],Qr[Xr]=null}var ar=null,Yt=null,at=!1,fl=null,Fi=!1,g0=Error(r(519));function pl(a){var o=Error(r(418,""));throw Eh(Gr(o,a)),g0}function Cx(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[gn]=a,o[cn]=h,c){case"dialog":We("cancel",o),We("close",o);break;case"iframe":case"object":case"embed":We("load",o);break;case"video":case"audio":for(c=0;c<Wh.length;c++)We(Wh[c],o);break;case"source":We("error",o);break;case"img":case"image":case"link":We("error",o),We("load",o);break;case"details":We("toggle",o);break;case"input":We("invalid",o),Zo(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Pc(o);break;case"select":We("invalid",o);break;case"textarea":We("invalid",o),Jo(o,h.value,h.defaultValue,h.children),Pc(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||WI(o.textContent,c)?(h.popover!=null&&(We("beforetoggle",o),We("toggle",o)),h.onScroll!=null&&We("scroll",o),h.onScrollEnd!=null&&We("scrollend",o),h.onClick!=null&&(o.onclick=Dg),o=!0):o=!1,o||pl(a)}function Px(a){for(ar=a.return;ar;)switch(ar.tag){case 5:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:ar=ar.return}}function bh(a){if(a!==ar)return!1;if(!at)return Px(a),at=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||kw(a.type,a.memoizedProps)),c=!c),c&&Yt&&pl(a),Px(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(o===0){Yt=vi(a.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;a=a.nextSibling}Yt=null}}else o===27?(o=Yt,$a(a.type)?(a=Vw,Vw=null,Yt=a):Yt=o):Yt=ar?vi(a.stateNode.nextSibling):null;return!0}function Th(){Yt=ar=null,at=!1}function kx(){var a=fl;return a!==null&&(_r===null?_r=a:_r.push.apply(_r,a),fl=null),a}function Eh(a){fl===null?fl=[a]:fl.push(a)}var y0=oe(null),ml=null,Bs=null;function Da(a,o,c){me(y0,o._currentValue),o._currentValue=c}function Us(a){a._currentValue=y0.current,ge(y0)}function v0(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function _0(a,o,c,h){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var _=g.dependencies;if(_!==null){var S=g.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=g;for(var B=0;B<o.length;B++)if(R.context===o[B]){_.lanes|=c,R=_.alternate,R!==null&&(R.lanes|=c),v0(_.return,c,a),h||(S=null);break e}_=R.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=c,_=S.alternate,_!==null&&(_.lanes|=c),v0(S,c,a),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===a){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Sh(a,o,c,h){a=null;for(var g=o,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var R=g.type;Ir(g.pendingProps.value,S.value)||(a!==null?a.push(R):a=[R])}}else if(g===Vt.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(Jh):a=[Jh])}g=g.return}a!==null&&_0(o,a,c,h),o.flags|=262144}function Km(a){for(a=a.firstContext;a!==null;){if(!Ir(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function gl(a){ml=a,Bs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Wn(a){return Mx(ml,a)}function Qm(a,o){return ml===null&&gl(a),Mx(a,o)}function Mx(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Bs===null){if(a===null)throw Error(r(308));Bs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Bs=Bs.next=o;return c}var z3=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},$3=n.unstable_scheduleCallback,q3=n.unstable_NormalPriority,_n={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function w0(){return{controller:new z3,data:new Map,refCount:0}}function xh(a){a.refCount--,a.refCount===0&&$3(q3,function(){a.controller.abort()})}var Ah=null,b0=0,Gc=0,Kc=null;function H3(a,o){if(Ah===null){var c=Ah=[];b0=0,Gc=Ew(),Kc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return b0++,o.then(Ox,Ox),o}function Ox(){if(--b0===0&&Ah!==null){Kc!==null&&(Kc.status="fulfilled");var a=Ah;Ah=null,Gc=0,Kc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Y3(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Nx=K.S;K.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&H3(a,o),Nx!==null&&Nx(a,o)};var yl=oe(null);function T0(){var a=yl.current;return a!==null?a:Et.pooledCache}function Xm(a,o){o===null?me(yl,yl.current):me(yl,o.pool)}function Vx(){var a=T0();return a===null?null:{parent:_n._currentValue,pool:a}}var Ih=Error(r(460)),Lx=Error(r(474)),Zm=Error(r(542)),E0={then:function(){}};function Fx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Jm(){}function Bx(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Jm,Jm),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,jx(a),a;default:if(typeof o.status=="string")o.then(Jm,Jm);else{if(a=Et,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=h}},function(h){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,jx(a),a}throw Dh=o,Ih}}var Dh=null;function Ux(){if(Dh===null)throw Error(r(459));var a=Dh;return Dh=null,a}function jx(a){if(a===Ih||a===Zm)throw Error(r(483))}var Ra=!1;function S0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function x0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ca(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Pa(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(ht&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,o=Hm(a),Ix(a,null,c),o}return qm(a,h,o,c),Hm(a)}function Rh(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,rh(a,c)}}function A0(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?g=_=S:_=_.next=S,c=c.next}while(c!==null);_===null?g=_=o:_=_.next=o}else g=_=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var I0=!1;function Ch(){if(I0){var a=Kc;if(a!==null)throw a}}function Ph(a,o,c,h){I0=!1;var g=a.updateQueue;Ra=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var B=R,J=B.next;B.next=null,S===null?_=J:S.next=J,S=B;var le=a.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==S&&(R===null?le.firstBaseUpdate=J:R.next=J,le.lastBaseUpdate=B))}if(_!==null){var ue=g.baseState;S=0,le=J=B=null,R=_;do{var ee=R.lane&-536870913,te=ee!==R.lane;if(te?(Je&ee)===ee:(h&ee)===ee){ee!==0&&ee===Gc&&(I0=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Le=a,Me=R;ee=o;var bt=c;switch(Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){ue=Le.call(bt,ue,ee);break e}ue=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,ee=typeof Le=="function"?Le.call(bt,ue,ee):Le,ee==null)break e;ue=p({},ue,ee);break e;case 2:Ra=!0}}ee=R.callback,ee!==null&&(a.flags|=64,te&&(a.flags|=8192),te=g.callbacks,te===null?g.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(J=le=te,B=ue):le=le.next=te,S|=ee;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;te=R,R=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);le===null&&(B=ue),g.baseState=B,g.firstBaseUpdate=J,g.lastBaseUpdate=le,_===null&&(g.shared.lanes=0),Ba|=S,a.lanes=S,a.memoizedState=ue}}function zx(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function $x(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)zx(c[a],o)}var Qc=oe(null),eg=oe(0);function qx(a,o){a=Ws,me(eg,a),me(Qc,o),Ws=a|o.baseLanes}function D0(){me(eg,Ws),me(Qc,Qc.current)}function R0(){Ws=eg.current,ge(Qc),ge(eg)}var ka=0,$e=null,_t=null,dn=null,tg=!1,Xc=!1,vl=!1,ng=0,kh=0,Zc=null,W3=0;function en(){throw Error(r(321))}function C0(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Ir(a[c],o[c]))return!1;return!0}function P0(a,o,c,h,g,_){return ka=_,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?IA:DA,vl=!1,_=c(h,g),vl=!1,Xc&&(_=Yx(o,c,h,g)),Hx(a),_}function Hx(a){K.H=lg;var o=_t!==null&&_t.next!==null;if(ka=0,dn=_t=$e=null,tg=!1,kh=0,Zc=null,o)throw Error(r(300));a===null||An||(a=a.dependencies,a!==null&&Km(a)&&(An=!0))}function Yx(a,o,c,h){$e=a;var g=0;do{if(Xc&&(Zc=null),kh=0,Xc=!1,25<=g)throw Error(r(301));if(g+=1,dn=_t=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}K.H=e6,_=o(c,h)}while(Xc);return _}function G3(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Mh(o):o,a=a.useState()[0],(_t!==null?_t.memoizedState:null)!==a&&($e.flags|=1024),o}function k0(){var a=ng!==0;return ng=0,a}function M0(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function O0(a){if(tg){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}tg=!1}ka=0,dn=_t=$e=null,Xc=!1,kh=ng=0,Zc=null}function yr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?$e.memoizedState=dn=a:dn=dn.next=a,dn}function hn(){if(_t===null){var a=$e.alternate;a=a!==null?a.memoizedState:null}else a=_t.next;var o=dn===null?$e.memoizedState:dn.next;if(o!==null)dn=o,_t=a;else{if(a===null)throw $e.alternate===null?Error(r(467)):Error(r(310));_t=a,a={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},dn===null?$e.memoizedState=dn=a:dn=dn.next=a}return dn}function N0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mh(a){var o=kh;return kh+=1,Zc===null&&(Zc=[]),a=Bx(Zc,a,o),o=$e,(dn===null?o.memoizedState:dn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?IA:DA),a}function rg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mh(a);if(a.$$typeof===N)return Wn(a)}throw Error(r(438,String(a)))}function V0(a){var o=null,c=$e.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=$e.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=N0(),$e.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=L;return o.index++,c}function js(a,o){return typeof o=="function"?o(a):o}function ig(a){var o=hn();return L0(o,_t,a)}function L0(a,o,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var g=a.baseQueue,_=h.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}o.baseQueue=g=_,h.pending=null}if(_=a.baseState,g===null)a.memoizedState=_;else{o=g.next;var R=S=null,B=null,J=o,le=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Je&ue)===ue:(ka&ue)===ue){var ee=J.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Gc&&(le=!0);else if((ka&ee)===ee){J=J.next,ee===Gc&&(le=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(R=B=ue,S=_):B=B.next=ue,$e.lanes|=ee,Ba|=ee;ue=J.action,vl&&c(_,ue),_=J.hasEagerState?J.eagerState:c(_,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(R=B=ee,S=_):B=B.next=ee,$e.lanes|=ue,Ba|=ue;J=J.next}while(J!==null&&J!==o);if(B===null?S=_:B.next=R,!Ir(_,a.memoizedState)&&(An=!0,le&&(c=Kc,c!==null)))throw c;a.memoizedState=_,a.baseState=S,a.baseQueue=B,h.lastRenderedState=_}return g===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function F0(a){var o=hn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,g=c.pending,_=o.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do _=a(_,S.action),S=S.next;while(S!==g);Ir(_,o.memoizedState)||(An=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function Wx(a,o,c){var h=$e,g=hn(),_=at;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var S=!Ir((_t||g).memoizedState,c);S&&(g.memoizedState=c,An=!0),g=g.queue;var R=Qx.bind(null,h,g,a);if(Oh(2048,8,R,[a]),g.getSnapshot!==o||S||dn!==null&&dn.memoizedState.tag&1){if(h.flags|=2048,Jc(9,sg(),Kx.bind(null,h,g,c,o),null),Et===null)throw Error(r(349));_||(ka&124)!==0||Gx(h,o,c)}return c}function Gx(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=$e.updateQueue,o===null?(o=N0(),$e.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function Kx(a,o,c,h){o.value=c,o.getSnapshot=h,Xx(o)&&Zx(a)}function Qx(a,o,c){return c(function(){Xx(o)&&Zx(a)})}function Xx(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Ir(a,c)}catch{return!0}}function Zx(a){var o=qc(a,2);o!==null&&Mr(o,a,2)}function B0(a){var o=yr();if(typeof a=="function"){var c=a;if(a=c(),vl){xr(!0);try{c()}finally{xr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:a},o}function Jx(a,o,c,h){return a.baseState=c,L0(a,_t,typeof h=="function"?h:js)}function K3(a,o,c,h,g){if(og(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};K.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,eA(o,_)):(_.next=c.next,o.pending=c.next=_)}}function eA(a,o){var c=o.action,h=o.payload,g=a.state;if(o.isTransition){var _=K.T,S={};K.T=S;try{var R=c(g,h),B=K.S;B!==null&&B(S,R),tA(a,o,R)}catch(J){U0(a,o,J)}finally{K.T=_}}else try{_=c(g,h),tA(a,o,_)}catch(J){U0(a,o,J)}}function tA(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){nA(a,o,h)},function(h){return U0(a,o,h)}):nA(a,o,c)}function nA(a,o,c){o.status="fulfilled",o.value=c,rA(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,eA(a,c)))}function U0(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,rA(o),o=o.next;while(o!==h)}a.action=null}function rA(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function iA(a,o){return o}function sA(a,o){if(at){var c=Et.formState;if(c!==null){e:{var h=$e;if(at){if(Yt){t:{for(var g=Yt,_=Fi;g.nodeType!==8;){if(!_){g=null;break t}if(g=vi(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Yt=vi(g.nextSibling),h=g.data==="F!";break e}}pl(h)}h=!1}h&&(o=c[0])}}return c=yr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iA,lastRenderedState:o},c.queue=h,c=SA.bind(null,$e,h),h.dispatch=c,h=B0(!1),_=H0.bind(null,$e,!1,h.queue),h=yr(),g={state:o,dispatch:null,action:a,pending:null},h.queue=g,c=K3.bind(null,$e,g,_,c),g.dispatch=c,h.memoizedState=a,[o,c,!1]}function aA(a){var o=hn();return oA(o,_t,a)}function oA(a,o,c){if(o=L0(a,o,iA)[0],a=ig(js)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Mh(o)}catch(S){throw S===Ih?Zm:S}else h=o;o=hn();var g=o.queue,_=g.dispatch;return c!==o.memoizedState&&($e.flags|=2048,Jc(9,sg(),Q3.bind(null,g,c),null)),[h,_,a]}function Q3(a,o){a.action=o}function lA(a){var o=hn(),c=_t;if(c!==null)return oA(o,c,a);hn(),o=o.memoizedState,c=hn();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Jc(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=$e.updateQueue,o===null&&(o=N0(),$e.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function sg(){return{destroy:void 0,resource:void 0}}function cA(){return hn().memoizedState}function ag(a,o,c,h){var g=yr();h=h===void 0?null:h,$e.flags|=a,g.memoizedState=Jc(1|o,sg(),c,h)}function Oh(a,o,c,h){var g=hn();h=h===void 0?null:h;var _=g.memoizedState.inst;_t!==null&&h!==null&&C0(h,_t.memoizedState.deps)?g.memoizedState=Jc(o,_,c,h):($e.flags|=a,g.memoizedState=Jc(1|o,_,c,h))}function uA(a,o){ag(8390656,8,a,o)}function dA(a,o){Oh(2048,8,a,o)}function hA(a,o){return Oh(4,2,a,o)}function fA(a,o){return Oh(4,4,a,o)}function pA(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function mA(a,o,c){c=c!=null?c.concat([a]):null,Oh(4,4,pA.bind(null,o,a),c)}function j0(){}function gA(a,o){var c=hn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&C0(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function yA(a,o){var c=hn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&C0(o,h[1]))return h[0];if(h=a(),vl){xr(!0);try{a()}finally{xr(!1)}}return c.memoizedState=[h,o],h}function z0(a,o,c){return c===void 0||(ka&1073741824)!==0?a.memoizedState=o:(a.memoizedState=c,a=wI(),$e.lanes|=a,Ba|=a,c)}function vA(a,o,c,h){return Ir(c,o)?c:Qc.current!==null?(a=z0(a,c,h),Ir(a,o)||(An=!0),a):(ka&42)===0?(An=!0,a.memoizedState=c):(a=wI(),$e.lanes|=a,Ba|=a,o)}function _A(a,o,c,h,g){var _=ie.p;ie.p=_!==0&&8>_?_:8;var S=K.T,R={};K.T=R,H0(a,!1,o,c);try{var B=g(),J=K.S;if(J!==null&&J(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=Y3(B,h);Nh(a,o,le,kr(a))}else Nh(a,o,h,kr(a))}catch(ue){Nh(a,o,{then:function(){},status:"rejected",reason:ue},kr())}finally{ie.p=_,K.T=S}}function X3(){}function $0(a,o,c,h){if(a.tag!==5)throw Error(r(476));var g=wA(a).queue;_A(a,g,o,de,c===null?X3:function(){return bA(a),c(h)})}function wA(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:de},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function bA(a){var o=wA(a).next.queue;Nh(a,o,{},kr())}function q0(){return Wn(Jh)}function TA(){return hn().memoizedState}function EA(){return hn().memoizedState}function Z3(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=kr();a=Ca(c);var h=Pa(o,a,c);h!==null&&(Mr(h,o,c),Rh(h,o,c)),o={cache:w0()},a.payload=o;return}o=o.return}}function J3(a,o,c){var h=kr();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},og(a)?xA(o,c):(c=u0(a,o,c,h),c!==null&&(Mr(c,a,h),AA(c,o,h)))}function SA(a,o,c){var h=kr();Nh(a,o,c,h)}function Nh(a,o,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(og(a))xA(o,g);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,R=_(S,c);if(g.hasEagerState=!0,g.eagerState=R,Ir(R,S))return qm(a,o,g,0),Et===null&&$m(),!1}catch{}finally{}if(c=u0(a,o,g,h),c!==null)return Mr(c,a,h),AA(c,o,h),!0}return!1}function H0(a,o,c,h){if(h={lane:2,revertLane:Ew(),action:h,hasEagerState:!1,eagerState:null,next:null},og(a)){if(o)throw Error(r(479))}else o=u0(a,c,h,2),o!==null&&Mr(o,a,2)}function og(a){var o=a.alternate;return a===$e||o!==null&&o===$e}function xA(a,o){Xc=tg=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function AA(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,rh(a,c)}}var lg={readContext:Wn,use:rg,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},IA={readContext:Wn,use:rg,useCallback:function(a,o){return yr().memoizedState=[a,o===void 0?null:o],a},useContext:Wn,useEffect:uA,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,ag(4194308,4,pA.bind(null,o,a),c)},useLayoutEffect:function(a,o){return ag(4194308,4,a,o)},useInsertionEffect:function(a,o){ag(4,2,a,o)},useMemo:function(a,o){var c=yr();o=o===void 0?null:o;var h=a();if(vl){xr(!0);try{a()}finally{xr(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=yr();if(c!==void 0){var g=c(o);if(vl){xr(!0);try{c(o)}finally{xr(!1)}}}else g=o;return h.memoizedState=h.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},h.queue=a,a=a.dispatch=J3.bind(null,$e,a),[h.memoizedState,a]},useRef:function(a){var o=yr();return a={current:a},o.memoizedState=a},useState:function(a){a=B0(a);var o=a.queue,c=SA.bind(null,$e,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:j0,useDeferredValue:function(a,o){var c=yr();return z0(c,a,o)},useTransition:function(){var a=B0(!1);return a=_A.bind(null,$e,a.queue,!0,!1),yr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=$e,g=yr();if(at){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Et===null)throw Error(r(349));(Je&124)!==0||Gx(h,o,c)}g.memoizedState=c;var _={value:c,getSnapshot:o};return g.queue=_,uA(Qx.bind(null,h,_,a),[a]),h.flags|=2048,Jc(9,sg(),Kx.bind(null,h,_,c,o),null),c},useId:function(){var a=yr(),o=Et.identifierPrefix;if(at){var c=Fs,h=Ls;c=(h&~(1<<32-Yn(h)-1)).toString(32)+c,o="«"+o+"R"+c,c=ng++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=W3++,o="«"+o+"r"+c.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:q0,useFormState:sA,useActionState:sA,useOptimistic:function(a){var o=yr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=H0.bind(null,$e,!0,c),c.dispatch=o,[a,o]},useMemoCache:V0,useCacheRefresh:function(){return yr().memoizedState=Z3.bind(null,$e)}},DA={readContext:Wn,use:rg,useCallback:gA,useContext:Wn,useEffect:dA,useImperativeHandle:mA,useInsertionEffect:hA,useLayoutEffect:fA,useMemo:yA,useReducer:ig,useRef:cA,useState:function(){return ig(js)},useDebugValue:j0,useDeferredValue:function(a,o){var c=hn();return vA(c,_t.memoizedState,a,o)},useTransition:function(){var a=ig(js)[0],o=hn().memoizedState;return[typeof a=="boolean"?a:Mh(a),o]},useSyncExternalStore:Wx,useId:TA,useHostTransitionStatus:q0,useFormState:aA,useActionState:aA,useOptimistic:function(a,o){var c=hn();return Jx(c,_t,a,o)},useMemoCache:V0,useCacheRefresh:EA},e6={readContext:Wn,use:rg,useCallback:gA,useContext:Wn,useEffect:dA,useImperativeHandle:mA,useInsertionEffect:hA,useLayoutEffect:fA,useMemo:yA,useReducer:F0,useRef:cA,useState:function(){return F0(js)},useDebugValue:j0,useDeferredValue:function(a,o){var c=hn();return _t===null?z0(c,a,o):vA(c,_t.memoizedState,a,o)},useTransition:function(){var a=F0(js)[0],o=hn().memoizedState;return[typeof a=="boolean"?a:Mh(a),o]},useSyncExternalStore:Wx,useId:TA,useHostTransitionStatus:q0,useFormState:lA,useActionState:lA,useOptimistic:function(a,o){var c=hn();return _t!==null?Jx(c,_t,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:V0,useCacheRefresh:EA},eu=null,Vh=0;function cg(a){var o=Vh;return Vh+=1,eu===null&&(eu=[]),Bx(eu,a,o)}function Lh(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function ug(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function RA(a){var o=a._init;return o(a._payload)}function CA(a){function o(G,H){if(a){var Z=G.deletions;Z===null?(G.deletions=[H],G.flags|=16):Z.push(H)}}function c(G,H){if(!a)return null;for(;H!==null;)o(G,H),H=H.sibling;return null}function h(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function g(G,H){return G=Vs(G,H),G.index=0,G.sibling=null,G}function _(G,H,Z){return G.index=Z,a?(Z=G.alternate,Z!==null?(Z=Z.index,Z<H?(G.flags|=67108866,H):Z):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function S(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function R(G,H,Z,ce){return H===null||H.tag!==6?(H=h0(Z,G.mode,ce),H.return=G,H):(H=g(H,Z),H.return=G,H)}function B(G,H,Z,ce){var Se=Z.type;return Se===T?le(G,H,Z.props.children,ce,Z.key):H!==null&&(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===D&&RA(Se)===H.type)?(H=g(H,Z.props),Lh(H,Z),H.return=G,H):(H=Ym(Z.type,Z.key,Z.props,null,G.mode,ce),Lh(H,Z),H.return=G,H)}function J(G,H,Z,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=f0(Z,G.mode,ce),H.return=G,H):(H=g(H,Z.children||[]),H.return=G,H)}function le(G,H,Z,ce,Se){return H===null||H.tag!==7?(H=ul(Z,G.mode,ce,Se),H.return=G,H):(H=g(H,Z),H.return=G,H)}function ue(G,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=h0(""+H,G.mode,Z),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return Z=Ym(H.type,H.key,H.props,null,G.mode,Z),Lh(Z,H),Z.return=G,Z;case b:return H=f0(H,G.mode,Z),H.return=G,H;case D:var ce=H._init;return H=ce(H._payload),ue(G,H,Z)}if(Ie(H)||$(H))return H=ul(H,G.mode,Z,null),H.return=G,H;if(typeof H.then=="function")return ue(G,cg(H),Z);if(H.$$typeof===N)return ue(G,Qm(G,H),Z);ug(G,H)}return null}function ee(G,H,Z,ce){var Se=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:R(G,H,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?B(G,H,Z,ce):null;case b:return Z.key===Se?J(G,H,Z,ce):null;case D:return Se=Z._init,Z=Se(Z._payload),ee(G,H,Z,ce)}if(Ie(Z)||$(Z))return Se!==null?null:le(G,H,Z,ce,null);if(typeof Z.then=="function")return ee(G,H,cg(Z),ce);if(Z.$$typeof===N)return ee(G,H,Qm(G,Z),ce);ug(G,Z)}return null}function te(G,H,Z,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(Z)||null,R(H,G,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return G=G.get(ce.key===null?Z:ce.key)||null,B(H,G,ce,Se);case b:return G=G.get(ce.key===null?Z:ce.key)||null,J(H,G,ce,Se);case D:var He=ce._init;return ce=He(ce._payload),te(G,H,Z,ce,Se)}if(Ie(ce)||$(ce))return G=G.get(Z)||null,le(H,G,ce,Se,null);if(typeof ce.then=="function")return te(G,H,Z,cg(ce),Se);if(ce.$$typeof===N)return te(G,H,Z,Qm(H,ce),Se);ug(H,ce)}return null}function Le(G,H,Z,ce){for(var Se=null,He=null,Ce=H,Oe=H=0,Dn=null;Ce!==null&&Oe<Z.length;Oe++){Ce.index>Oe?(Dn=Ce,Ce=null):Dn=Ce.sibling;var it=ee(G,Ce,Z[Oe],ce);if(it===null){Ce===null&&(Ce=Dn);break}a&&Ce&&it.alternate===null&&o(G,Ce),H=_(it,H,Oe),He===null?Se=it:He.sibling=it,He=it,Ce=Dn}if(Oe===Z.length)return c(G,Ce),at&&hl(G,Oe),Se;if(Ce===null){for(;Oe<Z.length;Oe++)Ce=ue(G,Z[Oe],ce),Ce!==null&&(H=_(Ce,H,Oe),He===null?Se=Ce:He.sibling=Ce,He=Ce);return at&&hl(G,Oe),Se}for(Ce=h(Ce);Oe<Z.length;Oe++)Dn=te(Ce,G,Oe,Z[Oe],ce),Dn!==null&&(a&&Dn.alternate!==null&&Ce.delete(Dn.key===null?Oe:Dn.key),H=_(Dn,H,Oe),He===null?Se=Dn:He.sibling=Dn,He=Dn);return a&&Ce.forEach(function(Ga){return o(G,Ga)}),at&&hl(G,Oe),Se}function Me(G,H,Z,ce){if(Z==null)throw Error(r(151));for(var Se=null,He=null,Ce=H,Oe=H=0,Dn=null,it=Z.next();Ce!==null&&!it.done;Oe++,it=Z.next()){Ce.index>Oe?(Dn=Ce,Ce=null):Dn=Ce.sibling;var Ga=ee(G,Ce,it.value,ce);if(Ga===null){Ce===null&&(Ce=Dn);break}a&&Ce&&Ga.alternate===null&&o(G,Ce),H=_(Ga,H,Oe),He===null?Se=Ga:He.sibling=Ga,He=Ga,Ce=Dn}if(it.done)return c(G,Ce),at&&hl(G,Oe),Se;if(Ce===null){for(;!it.done;Oe++,it=Z.next())it=ue(G,it.value,ce),it!==null&&(H=_(it,H,Oe),He===null?Se=it:He.sibling=it,He=it);return at&&hl(G,Oe),Se}for(Ce=h(Ce);!it.done;Oe++,it=Z.next())it=te(Ce,G,Oe,it.value,ce),it!==null&&(a&&it.alternate!==null&&Ce.delete(it.key===null?Oe:it.key),H=_(it,H,Oe),He===null?Se=it:He.sibling=it,He=it);return a&&Ce.forEach(function(t5){return o(G,t5)}),at&&hl(G,Oe),Se}function bt(G,H,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===T&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;H!==null;){if(H.key===Se){if(Se=Z.type,Se===T){if(H.tag===7){c(G,H.sibling),ce=g(H,Z.props.children),ce.return=G,G=ce;break e}}else if(H.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===D&&RA(Se)===H.type){c(G,H.sibling),ce=g(H,Z.props),Lh(ce,Z),ce.return=G,G=ce;break e}c(G,H);break}else o(G,H);H=H.sibling}Z.type===T?(ce=ul(Z.props.children,G.mode,ce,Z.key),ce.return=G,G=ce):(ce=Ym(Z.type,Z.key,Z.props,null,G.mode,ce),Lh(ce,Z),ce.return=G,G=ce)}return S(G);case b:e:{for(Se=Z.key;H!==null;){if(H.key===Se)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){c(G,H.sibling),ce=g(H,Z.children||[]),ce.return=G,G=ce;break e}else{c(G,H);break}else o(G,H);H=H.sibling}ce=f0(Z,G.mode,ce),ce.return=G,G=ce}return S(G);case D:return Se=Z._init,Z=Se(Z._payload),bt(G,H,Z,ce)}if(Ie(Z))return Le(G,H,Z,ce);if($(Z)){if(Se=$(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Me(G,H,Z,ce)}if(typeof Z.then=="function")return bt(G,H,cg(Z),ce);if(Z.$$typeof===N)return bt(G,H,Qm(G,Z),ce);ug(G,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(c(G,H.sibling),ce=g(H,Z),ce.return=G,G=ce):(c(G,H),ce=h0(Z,G.mode,ce),ce.return=G,G=ce),S(G)):c(G,H)}return function(G,H,Z,ce){try{Vh=0;var Se=bt(G,H,Z,ce);return eu=null,Se}catch(Ce){if(Ce===Ih||Ce===Zm)throw Ce;var He=Dr(29,Ce,null,G.mode);return He.lanes=ce,He.return=G,He}finally{}}}var tu=CA(!0),PA=CA(!1),Zr=oe(null),Bi=null;function Ma(a){var o=a.alternate;me(wn,wn.current&1),me(Zr,a),Bi===null&&(o===null||Qc.current!==null||o.memoizedState!==null)&&(Bi=a)}function kA(a){if(a.tag===22){if(me(wn,wn.current),me(Zr,a),Bi===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Bi=a)}}else Oa()}function Oa(){me(wn,wn.current),me(Zr,Zr.current)}function zs(a){ge(Zr),Bi===a&&(Bi=null),ge(wn)}var wn=oe(0);function dg(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Nw(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Y0(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var W0={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=kr(),g=Ca(h);g.payload=o,c!=null&&(g.callback=c),o=Pa(a,g,h),o!==null&&(Mr(o,a,h),Rh(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=kr(),g=Ca(h);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=Pa(a,g,h),o!==null&&(Mr(o,a,h),Rh(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=kr(),h=Ca(c);h.tag=2,o!=null&&(h.callback=o),o=Pa(a,h,c),o!==null&&(Mr(o,a,c),Rh(o,a,c))}};function MA(a,o,c,h,g,_,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,_,S):o.prototype&&o.prototype.isPureReactComponent?!_h(c,h)||!_h(g,_):!0}function OA(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&W0.enqueueReplaceState(o,o.state,null)}function _l(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=p({},c));for(var g in a)c[g]===void 0&&(c[g]=a[g])}return c}var hg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function NA(a){hg(a)}function VA(a){console.error(a)}function LA(a){hg(a)}function fg(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function FA(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function G0(a,o,c){return c=Ca(c),c.tag=3,c.payload={element:null},c.callback=function(){fg(a,o)},c}function BA(a){return a=Ca(a),a.tag=3,a}function UA(a,o,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;a.payload=function(){return g(_)},a.callback=function(){FA(o,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){FA(o,c,h),typeof g!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function t6(a,o,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Sh(o,c,g,!0),c=Zr.current,c!==null){switch(c.tag){case 13:return Bi===null?vw():c.alternate===null&&Wt===0&&(Wt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===E0?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),ww(a,h,g)),!1;case 22:return c.flags|=65536,h===E0?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),ww(a,h,g)),!1}throw Error(r(435,c.tag))}return ww(a,h,g),vw(),!1}if(at)return o=Zr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,h!==g0&&(a=Error(r(422),{cause:h}),Eh(Gr(a,c)))):(h!==g0&&(o=Error(r(423),{cause:h}),Eh(Gr(o,c))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,h=Gr(h,c),g=G0(a.stateNode,h,g),A0(a,g),Wt!==4&&(Wt=2)),!1;var _=Error(r(520),{cause:h});if(_=Gr(_,c),qh===null?qh=[_]:qh.push(_),Wt!==4&&(Wt=2),o===null)return!0;h=Gr(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=g&-g,c.lanes|=a,a=G0(c.stateNode,h,a),A0(c,a),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ua===null||!Ua.has(_))))return c.flags|=65536,g&=-g,c.lanes|=g,g=BA(g),UA(g,a,c,h),A0(c,g),!1}c=c.return}while(c!==null);return!1}var jA=Error(r(461)),An=!1;function Vn(a,o,c,h){o.child=a===null?PA(o,null,c,h):tu(o,a.child,c,h)}function zA(a,o,c,h,g){c=c.render;var _=o.ref;if("ref"in h){var S={};for(var R in h)R!=="ref"&&(S[R]=h[R])}else S=h;return gl(o),h=P0(a,o,c,S,_,g),R=k0(),a!==null&&!An?(M0(a,o,g),$s(a,o,g)):(at&&R&&p0(o),o.flags|=1,Vn(a,o,h,g),o.child)}function $A(a,o,c,h,g){if(a===null){var _=c.type;return typeof _=="function"&&!d0(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,qA(a,o,_,h,g)):(a=Ym(c.type,null,h,o,o.mode,g),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!nw(a,g)){var S=_.memoizedProps;if(c=c.compare,c=c!==null?c:_h,c(S,h)&&a.ref===o.ref)return $s(a,o,g)}return o.flags|=1,a=Vs(_,h),a.ref=o.ref,a.return=o,o.child=a}function qA(a,o,c,h,g){if(a!==null){var _=a.memoizedProps;if(_h(_,h)&&a.ref===o.ref)if(An=!1,o.pendingProps=h=_,nw(a,g))(a.flags&131072)!==0&&(An=!0);else return o.lanes=a.lanes,$s(a,o,g)}return K0(a,o,c,h,g)}function HA(a,o,c){var h=o.pendingProps,g=h.children,_=a!==null?a.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=_!==null?_.baseLanes|c:c,a!==null){for(g=o.child=a.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;o.childLanes=_&~h}else o.childLanes=0,o.child=null;return YA(a,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xm(o,_!==null?_.cachePool:null),_!==null?qx(o,_):D0(),kA(o);else return o.lanes=o.childLanes=536870912,YA(a,o,_!==null?_.baseLanes|c:c,c)}else _!==null?(Xm(o,_.cachePool),qx(o,_),Oa(),o.memoizedState=null):(a!==null&&Xm(o,null),D0(),Oa());return Vn(a,o,g,c),o.child}function YA(a,o,c,h){var g=T0();return g=g===null?null:{parent:_n._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},a!==null&&Xm(o,null),D0(),kA(o),a!==null&&Sh(a,o,h,!0),null}function pg(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function K0(a,o,c,h,g){return gl(o),c=P0(a,o,c,h,void 0,g),h=k0(),a!==null&&!An?(M0(a,o,g),$s(a,o,g)):(at&&h&&p0(o),o.flags|=1,Vn(a,o,c,g),o.child)}function WA(a,o,c,h,g,_){return gl(o),o.updateQueue=null,c=Yx(o,h,c,g),Hx(a),h=k0(),a!==null&&!An?(M0(a,o,_),$s(a,o,_)):(at&&h&&p0(o),o.flags|=1,Vn(a,o,c,_),o.child)}function GA(a,o,c,h,g){if(gl(o),o.stateNode===null){var _=Hc,S=c.contextType;typeof S=="object"&&S!==null&&(_=Wn(S)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=W0,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},S0(o),S=c.contextType,_.context=typeof S=="object"&&S!==null?Wn(S):Hc,_.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(Y0(o,c,S,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&W0.enqueueReplaceState(_,_.state,null),Ph(o,h,_,g),Ch(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){_=o.stateNode;var R=o.memoizedProps,B=_l(c,R);_.props=B;var J=_.context,le=c.contextType;S=Hc,typeof le=="object"&&le!==null&&(S=Wn(le));var ue=c.getDerivedStateFromProps;le=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||J!==S)&&OA(o,_,h,S),Ra=!1;var ee=o.memoizedState;_.state=ee,Ph(o,h,_,g),Ch(),J=o.memoizedState,R||ee!==J||Ra?(typeof ue=="function"&&(Y0(o,c,ue,h),J=o.memoizedState),(B=Ra||MA(o,c,B,h,ee,J,S))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),_.props=h,_.state=J,_.context=S,h=B):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,x0(a,o),S=o.memoizedProps,le=_l(c,S),_.props=le,ue=o.pendingProps,ee=_.context,J=c.contextType,B=Hc,typeof J=="object"&&J!==null&&(B=Wn(J)),R=c.getDerivedStateFromProps,(J=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==ue||ee!==B)&&OA(o,_,h,B),Ra=!1,ee=o.memoizedState,_.state=ee,Ph(o,h,_,g),Ch();var te=o.memoizedState;S!==ue||ee!==te||Ra||a!==null&&a.dependencies!==null&&Km(a.dependencies)?(typeof R=="function"&&(Y0(o,c,R,h),te=o.memoizedState),(le=Ra||MA(o,c,le,h,ee,te,B)||a!==null&&a.dependencies!==null&&Km(a.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,te,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,te,B)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=te),_.props=h,_.state=te,_.context=B,h=le):(typeof _.componentDidUpdate!="function"||S===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),h=!1)}return _=h,pg(a,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&h?(o.child=tu(o,a.child,null,g),o.child=tu(o,null,c,g)):Vn(a,o,c,g),o.memoizedState=_.state,a=o.child):a=$s(a,o,g),a}function KA(a,o,c,h){return Th(),o.flags|=256,Vn(a,o,c,h),o.child}var Q0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function X0(a){return{baseLanes:a,cachePool:Vx()}}function Z0(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=Jr),a}function QA(a,o,c){var h=o.pendingProps,g=!1,_=(o.flags&128)!==0,S;if((S=_)||(S=a!==null&&a.memoizedState===null?!1:(wn.current&2)!==0),S&&(g=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,a===null){if(at){if(g?Ma(o):Oa(),at){var R=Yt,B;if(B=R){e:{for(B=R,R=Fi;B.nodeType!==8;){if(!R){R=null;break e}if(B=vi(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(o.memoizedState={dehydrated:R,treeContext:dl!==null?{id:Ls,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},B=Dr(18,null,null,0),B.stateNode=R,B.return=o,o.child=B,ar=o,Yt=null,B=!0):B=!1}B||pl(o)}if(R=o.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Nw(R)?o.lanes=32:o.lanes=536870912,null;zs(o)}return R=h.children,h=h.fallback,g?(Oa(),g=o.mode,R=mg({mode:"hidden",children:R},g),h=ul(h,g,c,null),R.return=o,h.return=o,R.sibling=h,o.child=R,g=o.child,g.memoizedState=X0(c),g.childLanes=Z0(a,S,c),o.memoizedState=Q0,h):(Ma(o),J0(o,R))}if(B=a.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(_)o.flags&256?(Ma(o),o.flags&=-257,o=ew(a,o,c)):o.memoizedState!==null?(Oa(),o.child=a.child,o.flags|=128,o=null):(Oa(),g=h.fallback,R=o.mode,h=mg({mode:"visible",children:h.children},R),g=ul(g,R,c,null),g.flags|=2,h.return=o,g.return=o,h.sibling=g,o.child=h,tu(o,a.child,null,c),h=o.child,h.memoizedState=X0(c),h.childLanes=Z0(a,S,c),o.memoizedState=Q0,o=g);else if(Ma(o),Nw(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var J=S.dgst;S=J,h=Error(r(419)),h.stack="",h.digest=S,Eh({value:h,source:null,stack:null}),o=ew(a,o,c)}else if(An||Sh(a,o,c,!1),S=(c&a.childLanes)!==0,An||S){if(S=Et,S!==null&&(h=c&-c,h=(h&42)!==0?1:ba(h),h=(h&(S.suspendedLanes|c))!==0?0:h,h!==0&&h!==B.retryLane))throw B.retryLane=h,qc(a,h),Mr(S,a,h),jA;R.data==="$?"||vw(),o=ew(a,o,c)}else R.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=B.treeContext,Yt=vi(R.nextSibling),ar=o,at=!0,fl=null,Fi=!1,a!==null&&(Qr[Xr++]=Ls,Qr[Xr++]=Fs,Qr[Xr++]=dl,Ls=a.id,Fs=a.overflow,dl=o),o=J0(o,h.children),o.flags|=4096);return o}return g?(Oa(),g=h.fallback,R=o.mode,B=a.child,J=B.sibling,h=Vs(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,J!==null?g=Vs(J,g):(g=ul(g,R,c,null),g.flags|=2),g.return=o,h.return=o,h.sibling=g,o.child=h,h=g,g=o.child,R=a.child.memoizedState,R===null?R=X0(c):(B=R.cachePool,B!==null?(J=_n._currentValue,B=B.parent!==J?{parent:J,pool:J}:B):B=Vx(),R={baseLanes:R.baseLanes|c,cachePool:B}),g.memoizedState=R,g.childLanes=Z0(a,S,c),o.memoizedState=Q0,h):(Ma(o),c=a.child,a=c.sibling,c=Vs(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(S=o.deletions,S===null?(o.deletions=[a],o.flags|=16):S.push(a)),o.child=c,o.memoizedState=null,c)}function J0(a,o){return o=mg({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function mg(a,o){return a=Dr(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function ew(a,o,c){return tu(o,a.child,null,c),a=J0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function XA(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),v0(a.return,o,c)}function tw(a,o,c,h,g){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g)}function ZA(a,o,c){var h=o.pendingProps,g=h.revealOrder,_=h.tail;if(Vn(a,o,h.children,c),h=wn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&XA(a,c,o);else if(a.tag===19)XA(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(me(wn,h),g){case"forwards":for(c=o.child,g=null;c!==null;)a=c.alternate,a!==null&&dg(a)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),tw(o,!1,g,c,_);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(a=g.alternate,a!==null&&dg(a)===null){o.child=g;break}a=g.sibling,g.sibling=c,c=g,g=a}tw(o,!0,c,null,_);break;case"together":tw(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $s(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ba|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Sh(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Vs(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Vs(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function nw(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Km(a)))}function n6(a,o,c){switch(o.tag){case 3:rt(o,o.stateNode.containerInfo),Da(o,_n,a.memoizedState.cache),Th();break;case 27:case 5:jr(o);break;case 4:rt(o,o.stateNode.containerInfo);break;case 10:Da(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Ma(o),o.flags|=128,null):(c&o.child.childLanes)!==0?QA(a,o,c):(Ma(o),a=$s(a,o,c),a!==null?a.sibling:null);Ma(o);break;case 19:var g=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Sh(a,o,c,!1),h=(c&o.childLanes)!==0),g){if(h)return ZA(a,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),me(wn,wn.current),h)break;return null;case 22:case 23:return o.lanes=0,HA(a,o,c);case 24:Da(o,_n,a.memoizedState.cache)}return $s(a,o,c)}function JA(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)An=!0;else{if(!nw(a,c)&&(o.flags&128)===0)return An=!1,n6(a,o,c);An=(a.flags&131072)!==0}else An=!1,at&&(o.flags&1048576)!==0&&Rx(o,Gm,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var h=o.elementType,g=h._init;if(h=g(h._payload),o.type=h,typeof h=="function")d0(h)?(a=_l(h,a),o.tag=1,o=GA(null,o,h,a,c)):(o.tag=0,o=K0(null,o,h,a,c));else{if(h!=null){if(g=h.$$typeof,g===q){o.tag=11,o=zA(null,o,h,a,c);break e}else if(g===k){o.tag=14,o=$A(null,o,h,a,c);break e}}throw o=Ve(h)||h,Error(r(306,o,""))}}return o;case 0:return K0(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,g=_l(h,o.pendingProps),GA(a,o,h,g,c);case 3:e:{if(rt(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var _=o.memoizedState;g=_.element,x0(a,o),Ph(o,h,null,c);var S=o.memoizedState;if(h=S.cache,Da(o,_n,h),h!==_.cache&&_0(o,[_n],c,!0),Ch(),h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=KA(a,o,h,c);break e}else if(h!==g){g=Gr(Error(r(424)),o),Eh(g),o=KA(a,o,h,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Yt=vi(a.firstChild),ar=o,at=!0,fl=null,Fi=!0,c=PA(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Th(),h===g){o=$s(a,o,c);break e}Vn(a,o,h,c)}o=o.child}return o;case 26:return pg(a,o),a===null?(c=rD(o.type,null,o.pendingProps,null))?o.memoizedState=c:at||(c=o.type,a=o.pendingProps,h=Rg(Pe.current).createElement(c),h[gn]=o,h[cn]=a,Fn(h,c,a),Jt(h),o.stateNode=h):o.memoizedState=rD(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return jr(o),a===null&&at&&(h=o.stateNode=eD(o.type,o.pendingProps,Pe.current),ar=o,Fi=!0,g=Yt,$a(o.type)?(Vw=g,Yt=vi(h.firstChild)):Yt=g),Vn(a,o,o.pendingProps.children,c),pg(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&at&&((g=h=Yt)&&(h=C6(h,o.type,o.pendingProps,Fi),h!==null?(o.stateNode=h,ar=o,Yt=vi(h.firstChild),Fi=!1,g=!0):g=!1),g||pl(o)),jr(o),g=o.type,_=o.pendingProps,S=a!==null?a.memoizedProps:null,h=_.children,kw(g,_)?h=null:S!==null&&kw(g,S)&&(o.flags|=32),o.memoizedState!==null&&(g=P0(a,o,G3,null,null,c),Jh._currentValue=g),pg(a,o),Vn(a,o,h,c),o.child;case 6:return a===null&&at&&((a=c=Yt)&&(c=P6(c,o.pendingProps,Fi),c!==null?(o.stateNode=c,ar=o,Yt=null,a=!0):a=!1),a||pl(o)),null;case 13:return QA(a,o,c);case 4:return rt(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=tu(o,null,h,c):Vn(a,o,h,c),o.child;case 11:return zA(a,o,o.type,o.pendingProps,c);case 7:return Vn(a,o,o.pendingProps,c),o.child;case 8:return Vn(a,o,o.pendingProps.children,c),o.child;case 12:return Vn(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,Da(o,o.type,h.value),Vn(a,o,h.children,c),o.child;case 9:return g=o.type._context,h=o.pendingProps.children,gl(o),g=Wn(g),h=h(g),o.flags|=1,Vn(a,o,h,c),o.child;case 14:return $A(a,o,o.type,o.pendingProps,c);case 15:return qA(a,o,o.type,o.pendingProps,c);case 19:return ZA(a,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},a===null?(c=mg(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Vs(a.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return HA(a,o,c);case 24:return gl(o),h=Wn(_n),a===null?(g=T0(),g===null&&(g=Et,_=w0(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=c),g=_),o.memoizedState={parent:h,cache:g},S0(o),Da(o,_n,g)):((a.lanes&c)!==0&&(x0(a,o),Ph(o,null,null,c),Ch()),g=a.memoizedState,_=o.memoizedState,g.parent!==h?(g={parent:h,cache:h},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Da(o,_n,h)):(h=_.cache,Da(o,_n,h),h!==g.cache&&_0(o,[_n],c,!0))),Vn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function qs(a){a.flags|=4}function eI(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!lD(o)){if(o=Zr.current,o!==null&&((Je&4194048)===Je?Bi!==null:(Je&62914560)!==Je&&(Je&536870912)===0||o!==Bi))throw Dh=E0,Lx;a.flags|=8192}}function gg(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?th():536870912,a.lanes|=o,su|=o)}function Fh(a,o){if(!at)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Lt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var g=a.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function r6(a,o,c){var h=o.pendingProps;switch(m0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(o),null;case 1:return Lt(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Us(_n),En(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(bh(o)?qs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kx())),Lt(o),null;case 26:return c=o.memoizedState,a===null?(qs(o),c!==null?(Lt(o),eI(o,c)):(Lt(o),o.flags&=-16777217)):c?c!==a.memoizedState?(qs(o),Lt(o),eI(o,c)):(Lt(o),o.flags&=-16777217):(a.memoizedProps!==h&&qs(o),Lt(o),o.flags&=-16777217),null;case 27:gr(o),c=Pe.current;var g=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==h&&qs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}a=Re.current,bh(o)?Cx(o):(a=eD(g,h,c),o.stateNode=a,qs(o))}return Lt(o),null;case 5:if(gr(o),c=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&qs(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}if(a=Re.current,bh(o))Cx(o);else{switch(g=Rg(Pe.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}a[gn]=o,a[cn]=h;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=a;e:switch(Fn(a,c,h),c){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&qs(o)}}return Lt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&qs(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=Pe.current,bh(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,g=ar,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}a[gn]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||WI(a.nodeValue,c)),a||pl(o)}else a=Rg(a).createTextNode(h),a[gn]=o,o.stateNode=a}return Lt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=bh(o),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[gn]=o}else Th(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Lt(o),g=!1}else g=kx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(zs(o),o):(zs(o),null)}if(zs(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,a=a!==null&&a.memoizedState!==null,c){h=o.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return c!==a&&c&&(o.child.flags|=8192),gg(o,o.updateQueue),Lt(o),null;case 4:return En(),a===null&&Iw(o.stateNode.containerInfo),Lt(o),null;case 10:return Us(o.type),Lt(o),null;case 19:if(ge(wn),g=o.memoizedState,g===null)return Lt(o),null;if(h=(o.flags&128)!==0,_=g.rendering,_===null)if(h)Fh(g,!1);else{if(Wt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=dg(a),_!==null){for(o.flags|=128,Fh(g,!1),a=_.updateQueue,o.updateQueue=a,gg(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)Dx(c,a),c=c.sibling;return me(wn,wn.current&1|2),o.child}a=a.sibling}g.tail!==null&&zr()>_g&&(o.flags|=128,h=!0,Fh(g,!1),o.lanes=4194304)}else{if(!h)if(a=dg(_),a!==null){if(o.flags|=128,h=!0,a=a.updateQueue,o.updateQueue=a,gg(o,a),Fh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!at)return Lt(o),null}else 2*zr()-g.renderingStartTime>_g&&c!==536870912&&(o.flags|=128,h=!0,Fh(g,!1),o.lanes=4194304);g.isBackwards?(_.sibling=o.child,o.child=_):(a=g.last,a!==null?a.sibling=_:o.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=zr(),o.sibling=null,a=wn.current,me(wn,h?a&1|2:a&1),o):(Lt(o),null);case 22:case 23:return zs(o),R0(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Lt(o),o.subtreeFlags&6&&(o.flags|=8192)):Lt(o),c=o.updateQueue,c!==null&&gg(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&ge(yl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Us(_n),Lt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function i6(a,o){switch(m0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Us(_n),En(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return gr(o),null;case 13:if(zs(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Th()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ge(wn),null;case 4:return En(),null;case 10:return Us(o.type),null;case 22:case 23:return zs(o),R0(),a!==null&&ge(yl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Us(_n),null;case 25:return null;default:return null}}function tI(a,o){switch(m0(o),o.tag){case 3:Us(_n),En();break;case 26:case 27:case 5:gr(o);break;case 4:En();break;case 13:zs(o);break;case 19:ge(wn);break;case 10:Us(o.type);break;case 22:case 23:zs(o),R0(),a!==null&&ge(yl);break;case 24:Us(_n)}}function Bh(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&a)===a){h=void 0;var _=c.create,S=c.inst;h=_(),S.destroy=h}c=c.next}while(c!==g)}}catch(R){Tt(o,o.return,R)}}function Na(a,o,c){try{var h=o.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&a)===a){var S=h.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,g=o;var B=c,J=R;try{J()}catch(le){Tt(g,B,le)}}}h=h.next}while(h!==_)}}catch(le){Tt(o,o.return,le)}}function nI(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{$x(o,c)}catch(h){Tt(a,a.return,h)}}}function rI(a,o,c){c.props=_l(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){Tt(a,o,h)}}function Uh(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(g){Tt(a,o,g)}}function Ui(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Tt(a,o,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Tt(a,o,g)}else c.current=null}function iI(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Tt(a,a.return,g)}}function rw(a,o,c){try{var h=a.stateNode;x6(h,a.type,c,o),h[cn]=o}catch(g){Tt(a,a.return,g)}}function sI(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&$a(a.type)||a.tag===4}function iw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||sI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&$a(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function sw(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Dg));else if(h!==4&&(h===27&&$a(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(sw(a,o,c),a=a.sibling;a!==null;)sw(a,o,c),a=a.sibling}function yg(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&$a(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(yg(a,o,c),a=a.sibling;a!==null;)yg(a,o,c),a=a.sibling}function aI(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Fn(o,h,c),o[gn]=a,o[cn]=c}catch(_){Tt(a,a.return,_)}}var Hs=!1,tn=!1,aw=!1,oI=typeof WeakSet=="function"?WeakSet:Set,In=null;function s6(a,o){if(a=a.containerInfo,Cw=Ng,a=vx(a),i0(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var S=0,R=-1,B=-1,J=0,le=0,ue=a,ee=null;t:for(;;){for(var te;ue!==c||g!==0&&ue.nodeType!==3||(R=S+g),ue!==_||h!==0&&ue.nodeType!==3||(B=S+h),ue.nodeType===3&&(S+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===a)break t;if(ee===c&&++J===g&&(R=S),ee===_&&++le===h&&(B=S),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}c=R===-1||B===-1?null:{start:R,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Pw={focusedElem:a,selectionRange:c},Ng=!1,In=o;In!==null;)if(o=In,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,In=a;else for(;In!==null;){switch(o=In,_=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=o,g=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var Le=_l(c.type,g,c.elementType===c.type);a=h.getSnapshotBeforeUpdate(Le,_),h.__reactInternalSnapshotBeforeUpdate=a}catch(Me){Tt(c,c.return,Me)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Ow(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ow(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,In=a;break}In=o.return}}function lI(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Va(a,c),h&4&&Bh(5,c);break;case 1:if(Va(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(S){Tt(c,c.return,S)}else{var g=_l(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(g,o,a.__reactInternalSnapshotBeforeUpdate)}catch(S){Tt(c,c.return,S)}}h&64&&nI(c),h&512&&Uh(c,c.return);break;case 3:if(Va(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{$x(a,o)}catch(S){Tt(c,c.return,S)}}break;case 27:o===null&&h&4&&aI(c);case 26:case 5:Va(a,c),o===null&&h&4&&iI(c),h&512&&Uh(c,c.return);break;case 12:Va(a,c);break;case 13:Va(a,c),h&4&&dI(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=p6.bind(null,c),k6(a,c))));break;case 22:if(h=c.memoizedState!==null||Hs,!h){o=o!==null&&o.memoizedState!==null||tn,g=Hs;var _=tn;Hs=h,(tn=o)&&!_?La(a,c,(c.subtreeFlags&8772)!==0):Va(a,c),Hs=g,tn=_}break;case 30:break;default:Va(a,c)}}function cI(a){var o=a.alternate;o!==null&&(a.alternate=null,cI(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Sa(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Rt=null,vr=!1;function Ys(a,o,c){for(c=c.child;c!==null;)uI(a,o,c),c=c.sibling}function uI(a,o,c){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ht,c)}catch{}switch(c.tag){case 26:tn||Ui(c,o),Ys(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tn||Ui(c,o);var h=Rt,g=vr;$a(c.type)&&(Rt=c.stateNode,vr=!1),Ys(a,o,c),Kh(c.stateNode),Rt=h,vr=g;break;case 5:tn||Ui(c,o);case 6:if(h=Rt,g=vr,Rt=null,Ys(a,o,c),Rt=h,vr=g,Rt!==null)if(vr)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(c.stateNode)}catch(_){Tt(c,o,_)}else try{Rt.removeChild(c.stateNode)}catch(_){Tt(c,o,_)}break;case 18:Rt!==null&&(vr?(a=Rt,ZI(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),rf(a)):ZI(Rt,c.stateNode));break;case 4:h=Rt,g=vr,Rt=c.stateNode.containerInfo,vr=!0,Ys(a,o,c),Rt=h,vr=g;break;case 0:case 11:case 14:case 15:tn||Na(2,c,o),tn||Na(4,c,o),Ys(a,o,c);break;case 1:tn||(Ui(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&rI(c,o,h)),Ys(a,o,c);break;case 21:Ys(a,o,c);break;case 22:tn=(h=tn)||c.memoizedState!==null,Ys(a,o,c),tn=h;break;default:Ys(a,o,c)}}function dI(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{rf(a)}catch(c){Tt(o,o.return,c)}}function a6(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new oI),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new oI),o;default:throw Error(r(435,a.tag))}}function ow(a,o){var c=a6(a);o.forEach(function(h){var g=m6.bind(null,a,h);c.has(h)||(c.add(h),h.then(g,g))})}function Rr(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],_=a,S=o,R=S;e:for(;R!==null;){switch(R.tag){case 27:if($a(R.type)){Rt=R.stateNode,vr=!1;break e}break;case 5:Rt=R.stateNode,vr=!1;break e;case 3:case 4:Rt=R.stateNode.containerInfo,vr=!0;break e}R=R.return}if(Rt===null)throw Error(r(160));uI(_,S,g),Rt=null,vr=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)hI(o,a),o=o.sibling}var yi=null;function hI(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rr(o,a),Cr(a),h&4&&(Na(3,a,a.return),Bh(3,a),Na(5,a,a.return));break;case 1:Rr(o,a),Cr(a),h&512&&(tn||c===null||Ui(c,c.return)),h&64&&Hs&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=yi;if(Rr(o,a),Cr(a),h&512&&(tn||c===null||Ui(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Go]||_[gn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Fn(_,h,c),_[gn]=a,Jt(_),h=_;break e;case"link":var S=aD("link","href",g).get(h+(c.href||""));if(S){for(var R=0;R<S.length;R++)if(_=S[R],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(R,1);break t}}_=g.createElement(h),Fn(_,h,c),g.head.appendChild(_);break;case"meta":if(S=aD("meta","content",g).get(h+(c.content||""))){for(R=0;R<S.length;R++)if(_=S[R],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(R,1);break t}}_=g.createElement(h),Fn(_,h,c),g.head.appendChild(_);break;default:throw Error(r(468,h))}_[gn]=a,Jt(_),h=_}a.stateNode=h}else oD(g,a.type,a.stateNode);else a.stateNode=sD(g,h,a.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?oD(g,a.type,a.stateNode):sD(g,h,a.memoizedProps)):h===null&&a.stateNode!==null&&rw(a,a.memoizedProps,c.memoizedProps)}break;case 27:Rr(o,a),Cr(a),h&512&&(tn||c===null||Ui(c,c.return)),c!==null&&h&4&&rw(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Rr(o,a),Cr(a),h&512&&(tn||c===null||Ui(c,c.return)),a.flags&32){g=a.stateNode;try{qr(g,"")}catch(te){Tt(a,a.return,te)}}h&4&&a.stateNode!=null&&(g=a.memoizedProps,rw(a,g,c!==null?c.memoizedProps:g)),h&1024&&(aw=!0);break;case 6:if(Rr(o,a),Cr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(te){Tt(a,a.return,te)}}break;case 3:if(kg=null,g=yi,yi=Cg(o.containerInfo),Rr(o,a),yi=g,Cr(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{rf(o.containerInfo)}catch(te){Tt(a,a.return,te)}aw&&(aw=!1,fI(a));break;case 4:h=yi,yi=Cg(a.stateNode.containerInfo),Rr(o,a),Cr(a),yi=h;break;case 12:Rr(o,a),Cr(a);break;case 13:Rr(o,a),Cr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(fw=zr()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ow(a,h)));break;case 22:g=a.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,J=Hs,le=tn;if(Hs=J||g,tn=le||B,Rr(o,a),tn=le,Hs=J,Cr(a),h&8192)e:for(o=a.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||B||Hs||tn||wl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){B=c=o;try{if(_=B.stateNode,g)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=B.stateNode;var ue=B.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Tt(B,B.return,te)}}}else if(o.tag===6){if(c===null){B=o;try{B.stateNode.nodeValue=g?"":B.memoizedProps}catch(te){Tt(B,B.return,te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ow(a,c))));break;case 19:Rr(o,a),Cr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ow(a,h)));break;case 30:break;case 21:break;default:Rr(o,a),Cr(a)}}function Cr(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(sI(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var g=c.stateNode,_=iw(a);yg(a,_,g);break;case 5:var S=c.stateNode;c.flags&32&&(qr(S,""),c.flags&=-33);var R=iw(a);yg(a,R,S);break;case 3:case 4:var B=c.stateNode.containerInfo,J=iw(a);sw(a,J,B);break;default:throw Error(r(161))}}catch(le){Tt(a,a.return,le)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function fI(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;fI(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Va(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)lI(a,o.alternate,o),o=o.sibling}function wl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Na(4,o,o.return),wl(o);break;case 1:Ui(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&rI(o,o.return,c),wl(o);break;case 27:Kh(o.stateNode);case 26:case 5:Ui(o,o.return),wl(o);break;case 22:o.memoizedState===null&&wl(o);break;case 30:wl(o);break;default:wl(o)}a=a.sibling}}function La(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,g=a,_=o,S=_.flags;switch(_.tag){case 0:case 11:case 15:La(g,_,c),Bh(4,_);break;case 1:if(La(g,_,c),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Tt(h,h.return,J)}if(h=_,g=h.updateQueue,g!==null){var R=h.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)zx(B[g],R)}catch(J){Tt(h,h.return,J)}}c&&S&64&&nI(_),Uh(_,_.return);break;case 27:aI(_);case 26:case 5:La(g,_,c),c&&h===null&&S&4&&iI(_),Uh(_,_.return);break;case 12:La(g,_,c);break;case 13:La(g,_,c),c&&S&4&&dI(g,_);break;case 22:_.memoizedState===null&&La(g,_,c),Uh(_,_.return);break;case 30:break;default:La(g,_,c)}o=o.sibling}}function lw(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&xh(c))}function cw(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&xh(a))}function ji(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pI(a,o,c,h),o=o.sibling}function pI(a,o,c,h){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ji(a,o,c,h),g&2048&&Bh(9,o);break;case 1:ji(a,o,c,h);break;case 3:ji(a,o,c,h),g&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&xh(a)));break;case 12:if(g&2048){ji(a,o,c,h),a=o.stateNode;try{var _=o.memoizedProps,S=_.id,R=_.onPostCommit;typeof R=="function"&&R(S,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){Tt(o,o.return,B)}}else ji(a,o,c,h);break;case 13:ji(a,o,c,h);break;case 23:break;case 22:_=o.stateNode,S=o.alternate,o.memoizedState!==null?_._visibility&2?ji(a,o,c,h):jh(a,o):_._visibility&2?ji(a,o,c,h):(_._visibility|=2,nu(a,o,c,h,(o.subtreeFlags&10256)!==0)),g&2048&&lw(S,o);break;case 24:ji(a,o,c,h),g&2048&&cw(o.alternate,o);break;default:ji(a,o,c,h)}}function nu(a,o,c,h,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=a,S=o,R=c,B=h,J=S.flags;switch(S.tag){case 0:case 11:case 15:nu(_,S,R,B,g),Bh(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?nu(_,S,R,B,g):jh(_,S):(le._visibility|=2,nu(_,S,R,B,g)),g&&J&2048&&lw(S.alternate,S);break;case 24:nu(_,S,R,B,g),g&&J&2048&&cw(S.alternate,S);break;default:nu(_,S,R,B,g)}o=o.sibling}}function jh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,g=h.flags;switch(h.tag){case 22:jh(c,h),g&2048&&lw(h.alternate,h);break;case 24:jh(c,h),g&2048&&cw(h.alternate,h);break;default:jh(c,h)}o=o.sibling}}var zh=8192;function ru(a){if(a.subtreeFlags&zh)for(a=a.child;a!==null;)mI(a),a=a.sibling}function mI(a){switch(a.tag){case 26:ru(a),a.flags&zh&&a.memoizedState!==null&&H6(yi,a.memoizedState,a.memoizedProps);break;case 5:ru(a);break;case 3:case 4:var o=yi;yi=Cg(a.stateNode.containerInfo),ru(a),yi=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=zh,zh=16777216,ru(a),zh=o):ru(a));break;default:ru(a)}}function gI(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function $h(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];In=h,vI(h,a)}gI(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yI(a),a=a.sibling}function yI(a){switch(a.tag){case 0:case 11:case 15:$h(a),a.flags&2048&&Na(9,a,a.return);break;case 3:$h(a);break;case 12:$h(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,vg(a)):$h(a);break;default:$h(a)}}function vg(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];In=h,vI(h,a)}gI(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Na(8,o,o.return),vg(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,vg(o));break;default:vg(o)}a=a.sibling}}function vI(a,o){for(;In!==null;){var c=In;switch(c.tag){case 0:case 11:case 15:Na(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:xh(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,In=h;else e:for(c=a;In!==null;){h=In;var g=h.sibling,_=h.return;if(cI(h),h===c){In=null;break e}if(g!==null){g.return=_,In=g;break e}In=_}}}var o6={getCacheForType:function(a){var o=Wn(_n),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c}},l6=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,Ye=null,Je=0,ft=0,Pr=null,Fa=!1,iu=!1,uw=!1,Ws=0,Wt=0,Ba=0,bl=0,dw=0,Jr=0,su=0,qh=null,_r=null,hw=!1,fw=0,_g=1/0,wg=null,Ua=null,Ln=0,ja=null,au=null,ou=0,pw=0,mw=null,_I=null,Hh=0,gw=null;function kr(){if((ht&2)!==0&&Je!==0)return Je&-Je;if(K.T!==null){var a=Gc;return a!==0?a:Ew()}return Ta()}function wI(){Jr===0&&(Jr=(Je&536870912)===0||at?eh():536870912);var a=Zr.current;return a!==null&&(a.flags|=32),Jr}function Mr(a,o,c){(a===Et&&(ft===2||ft===9)||a.cancelPendingCommit!==null)&&(lu(a,0),za(a,Je,Jr,!1)),xs(a,c),((ht&2)===0||a!==Et)&&(a===Et&&((ht&2)===0&&(bl|=c),Wt===4&&za(a,Je,Jr,!1)),zi(a))}function bI(a,o,c){if((ht&6)!==0)throw Error(r(327));var h=!c&&(o&124)===0&&(o&a.expiredLanes)===0||Wo(a,o),g=h?d6(a,o):_w(a,o,!0),_=h;do{if(g===0){iu&&!h&&za(a,o,0,!1);break}else{if(c=a.current.alternate,_&&!c6(c)){g=_w(a,o,!1),_=!1;continue}if(g===2){if(_=o,a.errorRecoveryDisabledLanes&_)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var R=a;g=qh;var B=R.current.memoizedState.isDehydrated;if(B&&(lu(R,S).flags|=256),S=_w(R,S,!1),S!==2){if(uw&&!B){R.errorRecoveryDisabledLanes|=_,bl|=_,g=4;break e}_=_r,_r=g,_!==null&&(_r===null?_r=_:_r.push.apply(_r,_))}g=S}if(_=!1,g!==2)continue}}if(g===1){lu(a,0),za(a,o,0,!0);break}e:{switch(h=a,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:za(h,o,Jr,!Fa);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=fw+300-zr(),10<g)){if(za(h,o,Jr,!Fa),xc(h,0,!0)!==0)break e;h.timeoutHandle=QI(TI.bind(null,h,c,_r,wg,hw,o,Jr,bl,su,Fa,_,2,-0,0),g);break e}TI(h,c,_r,wg,hw,o,Jr,bl,su,Fa,_,0,-0,0)}}break}while(!0);zi(a)}function TI(a,o,c,h,g,_,S,R,B,J,le,ue,ee,te){if(a.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Zh={stylesheets:null,count:0,unsuspend:q6},mI(o),ue=Y6(),ue!==null)){a.cancelPendingCommit=ue(RI.bind(null,a,o,_,c,h,g,S,R,B,le,1,ee,te)),za(a,_,S,!J);return}RI(a,o,_,c,h,g,S,R,B)}function c6(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!Ir(_(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function za(a,o,c,h){o&=~dw,o&=~bl,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var g=o;0<g;){var _=31-Yn(g),S=1<<_;h[_]=-1,g&=~S}c!==0&&Ii(a,c,o)}function bg(){return(ht&6)===0?(Yh(0),!1):!0}function yw(){if(Ye!==null){if(ft===0)var a=Ye.return;else a=Ye,Bs=ml=null,O0(a),eu=null,Vh=0,a=Ye;for(;a!==null;)tI(a.alternate,a),a=a.return;Ye=null}}function lu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,I6(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),yw(),Et=a,Ye=c=Vs(a.current,null),Je=o,ft=0,Pr=null,Fa=!1,iu=Wo(a,o),uw=!1,su=Jr=dw=bl=Ba=Wt=0,_r=qh=null,hw=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var g=31-Yn(h),_=1<<g;o|=a[g],h&=~_}return Ws=o,$m(),c}function EI(a,o){$e=null,K.H=lg,o===Ih||o===Zm?(o=Ux(),ft=3):o===Lx?(o=Ux(),ft=4):ft=o===jA?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pr=o,Ye===null&&(Wt=1,fg(a,Gr(o,a.current)))}function SI(){var a=K.H;return K.H=lg,a===null?lg:a}function xI(){var a=K.A;return K.A=o6,a}function vw(){Wt=4,Fa||(Je&4194048)!==Je&&Zr.current!==null||(iu=!0),(Ba&134217727)===0&&(bl&134217727)===0||Et===null||za(Et,Je,Jr,!1)}function _w(a,o,c){var h=ht;ht|=2;var g=SI(),_=xI();(Et!==a||Je!==o)&&(wg=null,lu(a,o)),o=!1;var S=Wt;e:do try{if(ft!==0&&Ye!==null){var R=Ye,B=Pr;switch(ft){case 8:yw(),S=6;break e;case 3:case 2:case 9:case 6:Zr.current===null&&(o=!0);var J=ft;if(ft=0,Pr=null,cu(a,R,B,J),c&&iu){S=0;break e}break;default:J=ft,ft=0,Pr=null,cu(a,R,B,J)}}u6(),S=Wt;break}catch(le){EI(a,le)}while(!0);return o&&a.shellSuspendCounter++,Bs=ml=null,ht=h,K.H=g,K.A=_,Ye===null&&(Et=null,Je=0,$m()),S}function u6(){for(;Ye!==null;)AI(Ye)}function d6(a,o){var c=ht;ht|=2;var h=SI(),g=xI();Et!==a||Je!==o?(wg=null,_g=zr()+500,lu(a,o)):iu=Wo(a,o);e:do try{if(ft!==0&&Ye!==null){o=Ye;var _=Pr;t:switch(ft){case 1:ft=0,Pr=null,cu(a,o,_,1);break;case 2:case 9:if(Fx(_)){ft=0,Pr=null,II(o);break}o=function(){ft!==2&&ft!==9||Et!==a||(ft=7),zi(a)},_.then(o,o);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Fx(_)?(ft=0,Pr=null,II(o)):(ft=0,Pr=null,cu(a,o,_,7));break;case 5:var S=null;switch(Ye.tag){case 26:S=Ye.memoizedState;case 5:case 27:var R=Ye;if(!S||lD(S)){ft=0,Pr=null;var B=R.sibling;if(B!==null)Ye=B;else{var J=R.return;J!==null?(Ye=J,Tg(J)):Ye=null}break t}}ft=0,Pr=null,cu(a,o,_,5);break;case 6:ft=0,Pr=null,cu(a,o,_,6);break;case 8:yw(),Wt=6;break e;default:throw Error(r(462))}}h6();break}catch(le){EI(a,le)}while(!0);return Bs=ml=null,K.H=h,K.A=g,ht=c,Ye!==null?0:(Et=null,Je=0,$m(),Wt)}function h6(){for(;Ye!==null&&!Qd();)AI(Ye)}function AI(a){var o=JA(a.alternate,a,Ws);a.memoizedProps=a.pendingProps,o===null?Tg(a):Ye=o}function II(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=WA(c,o,o.pendingProps,o.type,void 0,Je);break;case 11:o=WA(c,o,o.pendingProps,o.type.render,o.ref,Je);break;case 5:O0(o);default:tI(c,o),o=Ye=Dx(o,Ws),o=JA(c,o,Ws)}a.memoizedProps=a.pendingProps,o===null?Tg(a):Ye=o}function cu(a,o,c,h){Bs=ml=null,O0(o),eu=null,Vh=0;var g=o.return;try{if(t6(a,g,o,c,Je)){Wt=1,fg(a,Gr(c,a.current)),Ye=null;return}}catch(_){if(g!==null)throw Ye=g,_;Wt=1,fg(a,Gr(c,a.current)),Ye=null;return}o.flags&32768?(at||h===1?a=!0:iu||(Je&536870912)!==0?a=!1:(Fa=a=!0,(h===2||h===9||h===3||h===6)&&(h=Zr.current,h!==null&&h.tag===13&&(h.flags|=16384))),DI(o,a)):Tg(o)}function Tg(a){var o=a;do{if((o.flags&32768)!==0){DI(o,Fa);return}a=o.return;var c=r6(o.alternate,o,Ws);if(c!==null){Ye=c;return}if(o=o.sibling,o!==null){Ye=o;return}Ye=o=a}while(o!==null);Wt===0&&(Wt=5)}function DI(a,o){do{var c=i6(a.alternate,a);if(c!==null){c.flags&=32767,Ye=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=c}while(a!==null);Wt=6,Ye=null}function RI(a,o,c,h,g,_,S,R,B){a.cancelPendingCommit=null;do Eg();while(Ln!==0);if((ht&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=c0,nh(a,c,_,S,R,B),a===Et&&(Ye=Et=null,Je=0),au=o,ja=a,ou=c,pw=_,mw=g,_I=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,g6($o,function(){return OI(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=K.T,K.T=null,g=ie.p,ie.p=2,S=ht,ht|=4;try{s6(a,o,c)}finally{ht=S,ie.p=g,K.T=h}}Ln=1,CI(),PI(),kI()}}function CI(){if(Ln===1){Ln=0;var a=ja,o=au,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var h=ie.p;ie.p=2;var g=ht;ht|=4;try{hI(o,a);var _=Pw,S=vx(a.containerInfo),R=_.focusedElem,B=_.selectionRange;if(S!==R&&R&&R.ownerDocument&&yx(R.ownerDocument.documentElement,R)){if(B!==null&&i0(R)){var J=B.start,le=B.end;if(le===void 0&&(le=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(le,R.value.length);else{var ue=R.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Le=R.textContent.length,Me=Math.min(B.start,Le),bt=B.end===void 0?Me:Math.min(B.end,Le);!te.extend&&Me>bt&&(S=bt,bt=Me,Me=S);var G=gx(R,Me),H=gx(R,bt);if(G&&H&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var Z=ue.createRange();Z.setStart(G.node,G.offset),te.removeAllRanges(),Me>bt?(te.addRange(Z),te.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),te.addRange(Z))}}}}for(ue=[],te=R;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ue.length;R++){var ce=ue[R];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ng=!!Cw,Pw=Cw=null}finally{ht=g,ie.p=h,K.T=c}}a.current=o,Ln=2}}function PI(){if(Ln===2){Ln=0;var a=ja,o=au,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var h=ie.p;ie.p=2;var g=ht;ht|=4;try{lI(a,o.alternate,o)}finally{ht=g,ie.p=h,K.T=c}}Ln=3}}function kI(){if(Ln===4||Ln===3){Ln=0,vm();var a=ja,o=au,c=ou,h=_I;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,au=ja=null,MI(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(Ua=null),Ac(c),o=o.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ht,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=K.T,g=ie.p,ie.p=2,K.T=null;try{for(var _=a.onRecoverableError,S=0;S<h.length;S++){var R=h[S];_(R.value,{componentStack:R.stack})}}finally{K.T=o,ie.p=g}}(ou&3)!==0&&Eg(),zi(a),g=a.pendingLanes,(c&4194090)!==0&&(g&42)!==0?a===gw?Hh++:(Hh=0,gw=a):Hh=0,Yh(0)}}function MI(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,xh(o)))}function Eg(a){return CI(),PI(),kI(),OI()}function OI(){if(Ln!==5)return!1;var a=ja,o=pw;pw=0;var c=Ac(ou),h=K.T,g=ie.p;try{ie.p=32>c?32:c,K.T=null,c=mw,mw=null;var _=ja,S=ou;if(Ln=0,au=ja=null,ou=0,(ht&6)!==0)throw Error(r(331));var R=ht;if(ht|=4,yI(_.current),pI(_,_.current,S,c),ht=R,Yh(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ht,_)}catch{}return!0}finally{ie.p=g,K.T=h,MI(a,o)}}function NI(a,o,c){o=Gr(c,o),o=G0(a.stateNode,o,2),a=Pa(a,o,2),a!==null&&(xs(a,2),zi(a))}function Tt(a,o,c){if(a.tag===3)NI(a,a,c);else for(;o!==null;){if(o.tag===3){NI(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ua===null||!Ua.has(h))){a=Gr(c,a),c=BA(2),h=Pa(o,c,2),h!==null&&(UA(c,h,o,a),xs(h,2),zi(h));break}}o=o.return}}function ww(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new l6;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(uw=!0,g.add(c),a=f6.bind(null,a,o,c),o.then(a,a))}function f6(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Et===a&&(Je&c)===c&&(Wt===4||Wt===3&&(Je&62914560)===Je&&300>zr()-fw?(ht&2)===0&&lu(a,0):dw|=c,su===Je&&(su=0)),zi(a)}function VI(a,o){o===0&&(o=th()),a=qc(a,o),a!==null&&(xs(a,o),zi(a))}function p6(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),VI(a,c)}function m6(a,o){var c=0;switch(a.tag){case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),VI(a,c)}function g6(a,o){return jo(a,o)}var Sg=null,uu=null,bw=!1,xg=!1,Tw=!1,Tl=0;function zi(a){a!==uu&&a.next===null&&(uu===null?Sg=uu=a:uu=uu.next=a),xg=!0,bw||(bw=!0,v6())}function Yh(a,o){if(!Tw&&xg){Tw=!0;do for(var c=!1,h=Sg;h!==null;){if(a!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var S=h.suspendedLanes,R=h.pingedLanes;_=(1<<31-Yn(42|a)+1)-1,_&=g&~(S&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,UI(h,_))}else _=Je,_=xc(h,h===Et?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Wo(h,_)||(c=!0,UI(h,_));h=h.next}while(c);Tw=!1}}function y6(){LI()}function LI(){xg=bw=!1;var a=0;Tl!==0&&(A6()&&(a=Tl),Tl=0);for(var o=zr(),c=null,h=Sg;h!==null;){var g=h.next,_=FI(h,o);_===0?(h.next=null,c===null?Sg=g:c.next=g,g===null&&(uu=c)):(c=h,(a!==0||(_&3)!==0)&&(xg=!0)),h=g}Yh(a)}function FI(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var S=31-Yn(_),R=1<<S,B=g[S];B===-1?((R&c)===0||(R&h)!==0)&&(g[S]=Jd(R,o)):B<=o&&(a.expiredLanes|=R),_&=~R}if(o=Et,c=Je,c=xc(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(ft===2||ft===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&zo(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Wo(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&zo(h),Ac(c)){case 2:case 8:c=Ec;break;case 32:c=$o;break;case 268435456:c=Sc;break;default:c=$o}return h=BI.bind(null,a),c=jo(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&zo(h),a.callbackPriority=2,a.callbackNode=null,2}function BI(a,o){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Eg()&&a.callbackNode!==c)return null;var h=Je;return h=xc(a,a===Et?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(bI(a,h,o),FI(a,zr()),a.callbackNode!=null&&a.callbackNode===c?BI.bind(null,a):null)}function UI(a,o){if(Eg())return null;bI(a,o,!0)}function v6(){D6(function(){(ht&6)!==0?jo(Xd,y6):LI()})}function Ew(){return Tl===0&&(Tl=eh()),Tl}function jI(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:kc(""+a)}function zI(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function _6(a,o,c,h,g){if(o==="submit"&&c&&c.stateNode===g){var _=jI((g[cn]||null).action),S=h.submitter;S&&(o=(o=S[cn]||null)?jI(o.formAction):S.getAttribute("formAction"),o!==null&&(_=o,S=null));var R=new Mc("action","action",null,h,g);a.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Tl!==0){var B=S?zI(g,S):new FormData(g);$0(c,{pending:!0,data:B,method:g.method,action:_},null,B)}}else typeof _=="function"&&(R.preventDefault(),B=S?zI(g,S):new FormData(g),$0(c,{pending:!0,data:B,method:g.method,action:_},_,B))},currentTarget:g}]})}}for(var Sw=0;Sw<l0.length;Sw++){var xw=l0[Sw],w6=xw.toLowerCase(),b6=xw[0].toUpperCase()+xw.slice(1);gi(w6,"on"+b6)}gi(bx,"onAnimationEnd"),gi(Tx,"onAnimationIteration"),gi(Ex,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(F3,"onTransitionRun"),gi(B3,"onTransitionStart"),gi(U3,"onTransitionCancel"),gi(Sx,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wh));function $I(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],g=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var S=h.length-1;0<=S;S--){var R=h[S],B=R.instance,J=R.currentTarget;if(R=R.listener,B!==_&&g.isPropagationStopped())break e;_=R,g.currentTarget=J;try{_(g)}catch(le){hg(le)}g.currentTarget=null,_=B}else for(S=0;S<h.length;S++){if(R=h[S],B=R.instance,J=R.currentTarget,R=R.listener,B!==_&&g.isPropagationStopped())break e;_=R,g.currentTarget=J;try{_(g)}catch(le){hg(le)}g.currentTarget=null,_=B}}}}function We(a,o){var c=o[ih];c===void 0&&(c=o[ih]=new Set);var h=a+"__bubble";c.has(h)||(qI(o,a,2,!1),c.add(h))}function Aw(a,o,c){var h=0;o&&(h|=4),qI(c,a,h,o)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function Iw(a){if(!a[Ag]){a[Ag]=!0,sh.forEach(function(c){c!=="selectionchange"&&(T6.has(c)||Aw(c,!1,a),Aw(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ag]||(o[Ag]=!0,Aw("selectionchange",!1,o))}}function qI(a,o,c,h){switch(pD(o)){case 2:var g=K6;break;case 8:g=Q6;break;default:g=jw}c=g.bind(null,o,c,a),g=void 0,!Yr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(o,c,{capture:!0,passive:g}):a.addEventListener(o,c,!0):g!==void 0?a.addEventListener(o,c,{passive:g}):a.addEventListener(o,c,!1)}function Dw(a,o,c,h,g){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var R=h.stateNode.containerInfo;if(R===g)break;if(S===4)for(S=h.return;S!==null;){var B=S.tag;if((B===3||B===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;R!==null;){if(S=As(R),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){h=_=S;continue e}R=R.parentNode}}h=h.return}Dm(function(){var J=_,le=Hr(c),ue=[];e:{var ee=xx.get(a);if(ee!==void 0){var te=Mc,Le=a;switch(a){case"keypress":if(Mi(c)===0)break e;case"keydown":case"keyup":te=Bc;break;case"focusin":Le="focus",te=Vc;break;case"focusout":Le="blur",te=Vc;break;case"beforeblur":case"afterblur":te=Vc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Vm;break;case bx:case Tx:case Ex:te=Lc;break;case Sx:te=Fm;break;case"scroll":case"scrollend":te=Rm;break;case"wheel":te=Uc;break;case"copy":case"cut":case"paste":te=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=yh;break;case"toggle":case"beforetoggle":te=Um}var Me=(o&4)!==0,bt=!Me&&(a==="scroll"||a==="scrollend"),G=Me?ee!==null?ee+"Capture":null:ee;Me=[];for(var H=J,Z;H!==null;){var ce=H;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||G===null||(ce=tl(H,G),ce!=null&&Me.push(Gh(H,ce,Z))),bt)break;H=H.return}0<Me.length&&(ee=new te(ee,Le,null,c,le),ue.push({event:ee,listeners:Me}))}}if((o&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",ee&&c!==Cs&&(Le=c.relatedTarget||c.fromElement)&&(As(Le)||Le[$r]))break e;if((te||ee)&&(ee=le.window===le?le:(ee=le.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Le=c.relatedTarget||c.toElement,te=J,Le=Le?As(Le):null,Le!==null&&(bt=s(Le),Me=Le.tag,Le!==bt||Me!==5&&Me!==27&&Me!==6)&&(Le=null)):(te=null,Le=J),te!==Le)){if(Me=Wr,ce="onMouseLeave",G="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Me=yh,ce="onPointerLeave",G="onPointerEnter",H="pointer"),bt=te==null?ee:Ri(te),Z=Le==null?ee:Ri(Le),ee=new Me(ce,H+"leave",te,c,le),ee.target=bt,ee.relatedTarget=Z,ce=null,As(le)===J&&(Me=new Me(G,H+"enter",Le,c,le),Me.target=Z,Me.relatedTarget=bt,ce=Me),bt=ce,te&&Le)t:{for(Me=te,G=Le,H=0,Z=Me;Z;Z=du(Z))H++;for(Z=0,ce=G;ce;ce=du(ce))Z++;for(;0<H-Z;)Me=du(Me),H--;for(;0<Z-H;)G=du(G),Z--;for(;H--;){if(Me===G||G!==null&&Me===G.alternate)break t;Me=du(Me),G=du(G)}Me=null}else Me=null;te!==null&&HI(ue,ee,te,Me,!1),Le!==null&&bt!==null&&HI(ue,bt,Le,Me,!0)}}e:{if(ee=J?Ri(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Se=ux;else if(vn(ee))if(dx)Se=N3;else{Se=M3;var He=k3}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&uh(J.elementType)&&(Se=ux):Se=O3;if(Se&&(Se=Se(a,J))){Ns(ue,Se,c,le);break e}He&&He(a,ee,J),a==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Aa(ee,"number",ee.value)}switch(He=J?Ri(J):window,a){case"focusin":(vn(He)||He.contentEditable==="true")&&(jc=He,s0=J,wh=null);break;case"focusout":wh=s0=jc=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,_x(ue,c,le);break;case"selectionchange":if(L3)break;case"keydown":case"keyup":_x(ue,c,le)}var Ce;if(Vi)e:{switch(a){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Xe?re(a,c)&&(Oe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Oe="onCompositionStart");Oe&&(E&&c.locale!=="ko"&&(Xe||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Xe&&(Ce=hh()):(ki=le,Ia="value"in ki?ki.value:ki.textContent,Xe=!0)),He=Ig(J,Oe),0<He.length&&(Oe=new mh(Oe,a,null,c,le),ue.push({event:Oe,listeners:He}),Ce?Oe.data=Ce:(Ce=ye(c),Ce!==null&&(Oe.data=Ce)))),(Ce=w?yn(a,c):Ze(a,c))&&(Oe=Ig(J,"onBeforeInput"),0<Oe.length&&(He=new mh("onBeforeInput","beforeinput",null,c,le),ue.push({event:He,listeners:Oe}),He.data=Ce)),_6(ue,a,J,c,le)}$I(ue,o)})}function Gh(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Ig(a,o){for(var c=o+"Capture",h=[];a!==null;){var g=a,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=tl(a,c),g!=null&&h.unshift(Gh(a,g,_)),g=tl(a,o),g!=null&&h.push(Gh(a,g,_))),a.tag===3)return h;a=a.return}return[]}function du(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function HI(a,o,c,h,g){for(var _=o._reactName,S=[];c!==null&&c!==h;){var R=c,B=R.alternate,J=R.stateNode;if(R=R.tag,B!==null&&B===h)break;R!==5&&R!==26&&R!==27||J===null||(B=J,g?(J=tl(c,_),J!=null&&S.unshift(Gh(c,J,B))):g||(J=tl(c,_),J!=null&&S.push(Gh(c,J,B)))),c=c.return}S.length!==0&&a.push({event:o,listeners:S})}var E6=/\r\n?/g,S6=/\u0000|\uFFFD/g;function YI(a){return(typeof a=="string"?a:""+a).replace(E6,`
`).replace(S6,"")}function WI(a,o){return o=YI(o),YI(a)===o}function Dg(){}function wt(a,o,c,h,g,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||qr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&qr(a,""+h);break;case"className":Ci(a,"class",h);break;case"tabIndex":Ci(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(a,c,h);break;case"style":ch(a,h,_);break;case"data":if(o!=="object"){Ci(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=kc(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&wt(a,o,"name",g.name,g,null),wt(a,o,"formEncType",g.formEncType,g,null),wt(a,o,"formMethod",g.formMethod,g,null),wt(a,o,"formTarget",g.formTarget,g,null)):(wt(a,o,"encType",g.encType,g,null),wt(a,o,"method",g.method,g,null),wt(a,o,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=kc(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Dg);break;case"onScroll":h!=null&&We("scroll",a);break;case"onScrollEnd":h!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=kc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":We("beforetoggle",a),We("toggle",a),xa(a,"popover",h);break;case"xlinkActuate":On(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":On(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":On(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":On(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":On(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":On(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":On(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":On(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":On(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":xa(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Z_.get(c)||c,xa(a,c,h))}}function Rw(a,o,c,h,g,_){switch(c){case"style":ch(a,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?qr(a,h):(typeof h=="number"||typeof h=="bigint")&&qr(a,""+h);break;case"onScroll":h!=null&&We("scroll",a);break;case"onScrollEnd":h!=null&&We("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Dg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),_=a[cn]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(o,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,g);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):xa(a,c,h)}}}function Fn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var h=!1,g=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var S=c[_];if(S!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(a,o,_,S,c,null)}}g&&wt(a,o,"srcSet",c.srcSet,c,null),h&&wt(a,o,"src",c.src,c,null);return;case"input":We("invalid",a);var R=_=S=g=null,B=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var le=c[h];if(le!=null)switch(h){case"name":g=le;break;case"type":S=le;break;case"checked":B=le;break;case"defaultChecked":J=le;break;case"value":_=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:wt(a,o,h,le,c,null)}}Zo(a,_,R,B,J,S,g,!1),Pc(a);return;case"select":We("invalid",a),h=S=_=null;for(g in c)if(c.hasOwnProperty(g)&&(R=c[g],R!=null))switch(g){case"value":_=R;break;case"defaultValue":S=R;break;case"multiple":h=R;default:wt(a,o,g,R,c,null)}o=_,c=S,a.multiple=!!h,o!=null?Rs(a,!!h,o,!1):c!=null&&Rs(a,!!h,c,!0);return;case"textarea":We("invalid",a),_=g=h=null;for(S in c)if(c.hasOwnProperty(S)&&(R=c[S],R!=null))switch(S){case"value":h=R;break;case"defaultValue":g=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:wt(a,o,S,R,c,null)}Jo(a,h,g,_),Pc(a);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(h=c[B],h!=null))switch(B){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:wt(a,o,B,h,c,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(h=0;h<Wh.length;h++)We(Wh[h],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(a,o,J,h,c,null)}return;default:if(uh(o)){for(le in c)c.hasOwnProperty(le)&&(h=c[le],h!==void 0&&Rw(a,o,le,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&wt(a,o,R,h,c,null))}function x6(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,S=null,R=null,B=null,J=null,le=null;for(te in c){var ue=c[te];if(c.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=ue;default:h.hasOwnProperty(te)||wt(a,o,te,null,h,ue)}}for(var ee in h){var te=h[ee];if(ue=c[ee],h.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":_=te;break;case"name":g=te;break;case"checked":J=te;break;case"defaultChecked":le=te;break;case"value":S=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:te!==ue&&wt(a,o,ee,te,h,ue)}}Ar(a,S,R,B,J,le,_,g);return;case"select":te=S=R=ee=null;for(_ in c)if(B=c[_],c.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":te=B;default:h.hasOwnProperty(_)||wt(a,o,_,null,h,B)}for(g in h)if(_=h[g],B=c[g],h.hasOwnProperty(g)&&(_!=null||B!=null))switch(g){case"value":ee=_;break;case"defaultValue":R=_;break;case"multiple":S=_;default:_!==B&&wt(a,o,g,_,h,B)}o=R,c=S,h=te,ee!=null?Rs(a,!!c,ee,!1):!!h!=!!c&&(o!=null?Rs(a,!!c,o,!0):Rs(a,!!c,c?[]:"",!1));return;case"textarea":te=ee=null;for(R in c)if(g=c[R],c.hasOwnProperty(R)&&g!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:wt(a,o,R,null,h,g)}for(S in h)if(g=h[S],_=c[S],h.hasOwnProperty(S)&&(g!=null||_!=null))switch(S){case"value":ee=g;break;case"defaultValue":te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&wt(a,o,S,g,h,_)}vt(a,ee,te);return;case"option":for(var Le in c)if(ee=c[Le],c.hasOwnProperty(Le)&&ee!=null&&!h.hasOwnProperty(Le))switch(Le){case"selected":a.selected=!1;break;default:wt(a,o,Le,null,h,ee)}for(B in h)if(ee=h[B],te=c[B],h.hasOwnProperty(B)&&ee!==te&&(ee!=null||te!=null))switch(B){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:wt(a,o,B,ee,h,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)ee=c[Me],c.hasOwnProperty(Me)&&ee!=null&&!h.hasOwnProperty(Me)&&wt(a,o,Me,null,h,ee);for(J in h)if(ee=h[J],te=c[J],h.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:wt(a,o,J,ee,h,te)}return;default:if(uh(o)){for(var bt in c)ee=c[bt],c.hasOwnProperty(bt)&&ee!==void 0&&!h.hasOwnProperty(bt)&&Rw(a,o,bt,void 0,h,ee);for(le in h)ee=h[le],te=c[le],!h.hasOwnProperty(le)||ee===te||ee===void 0&&te===void 0||Rw(a,o,le,ee,h,te);return}}for(var G in c)ee=c[G],c.hasOwnProperty(G)&&ee!=null&&!h.hasOwnProperty(G)&&wt(a,o,G,null,h,ee);for(ue in h)ee=h[ue],te=c[ue],!h.hasOwnProperty(ue)||ee===te||ee==null&&te==null||wt(a,o,ue,ee,h,te)}var Cw=null,Pw=null;function Rg(a){return a.nodeType===9?a:a.ownerDocument}function GI(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KI(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function kw(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mw=null;function A6(){var a=window.event;return a&&a.type==="popstate"?a===Mw?!1:(Mw=a,!0):(Mw=null,!1)}var QI=typeof setTimeout=="function"?setTimeout:void 0,I6=typeof clearTimeout=="function"?clearTimeout:void 0,XI=typeof Promise=="function"?Promise:void 0,D6=typeof queueMicrotask=="function"?queueMicrotask:typeof XI<"u"?function(a){return XI.resolve(null).then(a).catch(R6)}:QI;function R6(a){setTimeout(function(){throw a})}function $a(a){return a==="head"}function ZI(a,o){var c=o,h=0,g=0;do{var _=c.nextSibling;if(a.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"){if(0<h&&8>h){c=h;var S=a.ownerDocument;if(c&1&&Kh(S.documentElement),c&2&&Kh(S.body),c&4)for(c=S.head,Kh(c),S=c.firstChild;S;){var R=S.nextSibling,B=S.nodeName;S[Go]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=R}}if(g===0){a.removeChild(_),rf(o);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=_}while(c);rf(o)}function Ow(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ow(c),Sa(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function C6(a,o,c,h){for(;a.nodeType===1;){var g=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Go])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=vi(a.nextSibling),a===null)break}return null}function P6(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=vi(a.nextSibling),a===null))return null;return a}function Nw(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function k6(a,o){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function vi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var Vw=null;function JI(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return a;o--}else c==="/$"&&o++}a=a.previousSibling}return null}function eD(a,o,c){switch(o=Rg(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Kh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Sa(a)}var ei=new Map,tD=new Set;function Cg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Gs=ie.d;ie.d={f:M6,r:O6,D:N6,C:V6,L:L6,m:F6,X:U6,S:B6,M:j6};function M6(){var a=Gs.f(),o=bg();return a||o}function O6(a){var o=Di(a);o!==null&&o.tag===5&&o.type==="form"?bA(o):Gs.r(a)}var hu=typeof document>"u"?null:document;function nD(a,o,c){var h=hu;if(h&&typeof o=="string"&&o){var g=un(o);g='link[rel="'+a+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),tD.has(g)||(tD.add(g),a={rel:a,crossOrigin:c,href:o},h.querySelector(g)===null&&(o=h.createElement("link"),Fn(o,"link",a),Jt(o),h.head.appendChild(o)))}}function N6(a){Gs.D(a),nD("dns-prefetch",a,null)}function V6(a,o){Gs.C(a,o),nD("preconnect",a,o)}function L6(a,o,c){Gs.L(a,o,c);var h=hu;if(h&&a&&o){var g='link[rel="preload"][as="'+un(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+un(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+un(c.imageSizes)+'"]')):g+='[href="'+un(a)+'"]';var _=g;switch(o){case"style":_=fu(a);break;case"script":_=pu(a)}ei.has(_)||(a=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),ei.set(_,a),h.querySelector(g)!==null||o==="style"&&h.querySelector(Qh(_))||o==="script"&&h.querySelector(Xh(_))||(o=h.createElement("link"),Fn(o,"link",a),Jt(o),h.head.appendChild(o)))}}function F6(a,o){Gs.m(a,o);var c=hu;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+un(h)+'"][href="'+un(a)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=pu(a)}if(!ei.has(_)&&(a=p({rel:"modulepreload",href:a},o),ei.set(_,a),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xh(_)))return}h=c.createElement("link"),Fn(h,"link",a),Jt(h),c.head.appendChild(h)}}}function B6(a,o,c){Gs.S(a,o,c);var h=hu;if(h&&a){var g=rr(h).hoistableStyles,_=fu(a);o=o||"default";var S=g.get(_);if(!S){var R={loading:0,preload:null};if(S=h.querySelector(Qh(_)))R.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},c),(c=ei.get(_))&&Lw(a,c);var B=S=h.createElement("link");Jt(B),Fn(B,"link",a),B._p=new Promise(function(J,le){B.onload=J,B.onerror=le}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pg(S,o,h)}S={type:"stylesheet",instance:S,count:1,state:R},g.set(_,S)}}}function U6(a,o){Gs.X(a,o);var c=hu;if(c&&a){var h=rr(c).hoistableScripts,g=pu(a),_=h.get(g);_||(_=c.querySelector(Xh(g)),_||(a=p({src:a,async:!0},o),(o=ei.get(g))&&Fw(a,o),_=c.createElement("script"),Jt(_),Fn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function j6(a,o){Gs.M(a,o);var c=hu;if(c&&a){var h=rr(c).hoistableScripts,g=pu(a),_=h.get(g);_||(_=c.querySelector(Xh(g)),_||(a=p({src:a,async:!0,type:"module"},o),(o=ei.get(g))&&Fw(a,o),_=c.createElement("script"),Jt(_),Fn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function rD(a,o,c,h){var g=(g=Pe.current)?Cg(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=fu(c.href),c=rr(g).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=fu(c.href);var _=rr(g).hoistableStyles,S=_.get(a);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,S),(_=g.querySelector(Qh(a)))&&!_._p&&(S.instance=_,S.state.loading=5),ei.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ei.set(a,c),_||z6(g,a,c,S.state))),o&&h===null)throw Error(r(528,""));return S}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=pu(c),c=rr(g).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function fu(a){return'href="'+un(a)+'"'}function Qh(a){return'link[rel="stylesheet"]['+a+"]"}function iD(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function z6(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Fn(o,"link",c),Jt(o),a.head.appendChild(o))}function pu(a){return'[src="'+un(a)+'"]'}function Xh(a){return"script[async]"+a}function sD(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+un(c.href)+'"]');if(h)return o.instance=h,Jt(h),h;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Jt(h),Fn(h,"style",g),Pg(h,c.precedence,a),o.instance=h;case"stylesheet":g=fu(c.href);var _=a.querySelector(Qh(g));if(_)return o.state.loading|=4,o.instance=_,Jt(_),_;h=iD(c),(g=ei.get(g))&&Lw(h,g),_=(a.ownerDocument||a).createElement("link"),Jt(_);var S=_;return S._p=new Promise(function(R,B){S.onload=R,S.onerror=B}),Fn(_,"link",h),o.state.loading|=4,Pg(_,c.precedence,a),o.instance=_;case"script":return _=pu(c.src),(g=a.querySelector(Xh(_)))?(o.instance=g,Jt(g),g):(h=c,(g=ei.get(_))&&(h=p({},c),Fw(h,g)),a=a.ownerDocument||a,g=a.createElement("script"),Jt(g),Fn(g,"link",h),a.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Pg(h,c.precedence,a));return o.instance}function Pg(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,S=0;S<h.length;S++){var R=h[S];if(R.dataset.precedence===o)_=R;else if(_!==g)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Lw(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Fw(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var kg=null;function aD(a,o,c){if(kg===null){var h=new Map,g=kg=new Map;g.set(c,h)}else g=kg,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),g=0;g<c.length;g++){var _=c[g];if(!(_[Go]||_[gn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(o)||"";S=a+S;var R=h.get(S);R?R.push(_):h.set(S,[_])}}return h}function oD(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function $6(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function lD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Zh=null;function q6(){}function H6(a,o,c){if(Zh===null)throw Error(r(475));var h=Zh;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=fu(c.href),_=a.querySelector(Qh(g));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=Mg.bind(h),a.then(h,h)),o.state.loading|=4,o.instance=_,Jt(_);return}_=a.ownerDocument||a,c=iD(c),(g=ei.get(g))&&Lw(c,g),_=_.createElement("link"),Jt(_);var S=_;S._p=new Promise(function(R,B){S.onload=R,S.onerror=B}),Fn(_,"link",c),o.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=Mg.bind(h),a.addEventListener("load",o),a.addEventListener("error",o))}}function Y6(){if(Zh===null)throw Error(r(475));var a=Zh;return a.stylesheets&&a.count===0&&Bw(a,a.stylesheets),0<a.count?function(o){var c=setTimeout(function(){if(a.stylesheets&&Bw(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Mg(){if(this.count--,this.count===0){if(this.stylesheets)Bw(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Og=null;function Bw(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Og=new Map,o.forEach(W6,a),Og=null,Mg.call(a))}function W6(a,o){if(!(o.state.loading&4)){var c=Og.get(a);if(c)var h=c.get(null);else{c=new Map,Og.set(a,c);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var S=g[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}g=o.instance,S=g.getAttribute("data-precedence"),_=c.get(S)||h,_===h&&c.set(null,g),c.set(S,g),this.count++,h=Mg.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),o.state.loading|=4}}var Jh={$$typeof:N,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function G6(a,o,c,h,g,_,S,R){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function cD(a,o,c,h,g,_,S,R,B,J,le,ue){return a=new G6(a,o,c,S,R,B,J,ue),o=1,_===!0&&(o|=24),_=Dr(3,null,null,o),a.current=_,_.stateNode=a,o=w0(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},S0(_),a}function uD(a){return a?(a=Hc,a):Hc}function dD(a,o,c,h,g,_){g=uD(g),h.context===null?h.context=g:h.pendingContext=g,h=Ca(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Pa(a,h,o),c!==null&&(Mr(c,a,o),Rh(c,a,o))}function hD(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Uw(a,o){hD(a,o),(a=a.alternate)&&hD(a,o)}function fD(a){if(a.tag===13){var o=qc(a,67108864);o!==null&&Mr(o,a,67108864),Uw(a,67108864)}}var Ng=!0;function K6(a,o,c,h){var g=K.T;K.T=null;var _=ie.p;try{ie.p=2,jw(a,o,c,h)}finally{ie.p=_,K.T=g}}function Q6(a,o,c,h){var g=K.T;K.T=null;var _=ie.p;try{ie.p=8,jw(a,o,c,h)}finally{ie.p=_,K.T=g}}function jw(a,o,c,h){if(Ng){var g=zw(h);if(g===null)Dw(a,o,h,Vg,c),mD(a,h);else if(Z6(g,a,o,c,h))h.stopPropagation();else if(mD(a,h),o&4&&-1<X6.indexOf(a)){for(;g!==null;){var _=Di(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=fi(_.pendingLanes);if(S!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var B=1<<31-Yn(S);R.entanglements[1]|=B,S&=~B}zi(_),(ht&6)===0&&(_g=zr()+500,Yh(0))}}break;case 13:R=qc(_,2),R!==null&&Mr(R,_,2),bg(),Uw(_,2)}if(_=zw(h),_===null&&Dw(a,o,h,Vg,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else Dw(a,o,h,null,c)}}function zw(a){return a=Hr(a),$w(a)}var Vg=null;function $w(a){if(Vg=null,a=As(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Vg=a,null}function pD(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y_()){case Xd:return 2;case Ec:return 8;case $o:case W_:return 32;case Sc:return 268435456;default:return 32}default:return 32}}var qw=!1,qa=null,Ha=null,Ya=null,ef=new Map,tf=new Map,Wa=[],X6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mD(a,o){switch(a){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":ef.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(o.pointerId)}}function nf(a,o,c,h,g,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Di(o),o!==null&&fD(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),a)}function Z6(a,o,c,h,g){switch(o){case"focusin":return qa=nf(qa,a,o,c,h,g),!0;case"dragenter":return Ha=nf(Ha,a,o,c,h,g),!0;case"mouseover":return Ya=nf(Ya,a,o,c,h,g),!0;case"pointerover":var _=g.pointerId;return ef.set(_,nf(ef.get(_)||null,a,o,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,tf.set(_,nf(tf.get(_)||null,a,o,c,h,g)),!0}return!1}function gD(a){var o=As(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,bm(a.priority,function(){if(c.tag===13){var h=kr();h=ba(h);var g=qc(c,h);g!==null&&Mr(g,c,h),Uw(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lg(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=zw(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Cs=h,c.target.dispatchEvent(h),Cs=null}else return o=Di(c),o!==null&&fD(o),a.blockedOn=c,!1;o.shift()}return!0}function yD(a,o,c){Lg(a)&&c.delete(o)}function J6(){qw=!1,qa!==null&&Lg(qa)&&(qa=null),Ha!==null&&Lg(Ha)&&(Ha=null),Ya!==null&&Lg(Ya)&&(Ya=null),ef.forEach(yD),tf.forEach(yD)}function Fg(a,o){a.blockedOn===o&&(a.blockedOn=null,qw||(qw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,J6)))}var Bg=null;function vD(a){Bg!==a&&(Bg=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bg===a&&(Bg=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],g=a[o+2];if(typeof h!="function"){if($w(h||c)===null)continue;break}var _=Di(c);_!==null&&(a.splice(o,3),o-=3,$0(_,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function rf(a){function o(B){return Fg(B,a)}qa!==null&&Fg(qa,a),Ha!==null&&Fg(Ha,a),Ya!==null&&Fg(Ya,a),ef.forEach(o),tf.forEach(o);for(var c=0;c<Wa.length;c++){var h=Wa[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Wa.length&&(c=Wa[0],c.blockedOn===null);)gD(c),c.blockedOn===null&&Wa.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],_=c[h+1],S=g[cn]||null;if(typeof _=="function")S||vD(c);else if(S){var R=null;if(_&&_.hasAttribute("formAction")){if(g=_,S=_[cn]||null)R=S.formAction;else if($w(g)!==null)continue}else R=S.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),vD(c)}}}function Hw(a){this._internalRoot=a}Ug.prototype.render=Hw.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=kr();dD(c,h,a,o,null,null)},Ug.prototype.unmount=Hw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;dD(a.current,2,null,a,null,null),bg(),o[$r]=null}};function Ug(a){this._internalRoot=a}Ug.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ta();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Wa.length&&o!==0&&o<Wa[c].priority;c++);Wa.splice(c,0,a),c===0&&gD(a)}};var _D=e.version;if(_D!=="19.1.0")throw Error(r(527,_D,"19.1.0"));ie.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var e5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{Ht=jg.inject(e5),dt=jg}catch{}}return af.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,h="",g=NA,_=VA,S=LA,R=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks)),o=cD(a,1,!1,null,null,c,h,g,_,S,R,null),a[$r]=o.current,Iw(a),new Hw(o)},af.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var h=!1,g="",_=NA,S=VA,R=LA,B=null,J=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks),c.formState!==void 0&&(J=c.formState)),o=cD(a,1,!0,o,c??null,h,g,_,S,R,B,J),o.context=uD(null),c=o.current,h=kr(),h=ba(h),g=Ca(h),g.callback=null,Pa(c,g,h),c=h,o.current.lanes=c,xs(o,c),zi(o),a[$r]=o.current,Iw(a),new Ug(o)},af.version="19.1.0",af}var RD;function h5(){if(RD)return Gw.exports;RD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gw.exports=d5(),Gw.exports}var f5=h5(),Jn=function(){return Jn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Jn.apply(this,arguments)};function mE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zy(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var At="-ms-",kf="-moz-",ct="-webkit-",w2="comm",Fv="rule",gE="decl",p5="@import",b2="@keyframes",m5="@layer",T2=Math.abs,yE=String.fromCharCode,Hb=Object.assign;function g5(n,e){return Cn(n,0)^45?(((e<<2^Cn(n,0))<<2^Cn(n,1))<<2^Cn(n,2))<<2^Cn(n,3):0}function E2(n){return n.trim()}function Ks(n,e){return(n=e.exec(n))?n[0]:n}function ze(n,e,t){return n.replace(e,t)}function uy(n,e,t){return n.indexOf(e,t)}function Cn(n,e){return n.charCodeAt(e)|0}function Wu(n,e,t){return n.slice(e,t)}function Hi(n){return n.length}function S2(n){return n.length}function bf(n,e){return e.push(n),n}function y5(n,e){return n.map(e).join("")}function CD(n,e){return n.filter(function(t){return!Ks(t,e)})}var Bv=1,Gu=1,x2=0,ui=0,mn=0,Cd="";function Uv(n,e,t,r,i,s,l,u){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Bv,column:Gu,length:l,return:"",siblings:u}}function to(n,e){return Hb(Uv("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function mu(n){for(;n.root;)n=to(n.root,{children:[n]});bf(n,n.siblings)}function v5(){return mn}function _5(){return mn=ui>0?Cn(Cd,--ui):0,Gu--,mn===10&&(Gu=1,Bv--),mn}function Ti(){return mn=ui<x2?Cn(Cd,ui++):0,Gu++,mn===10&&(Gu=1,Bv++),mn}function $l(){return Cn(Cd,ui)}function dy(){return ui}function jv(n,e){return Wu(Cd,n,e)}function Yb(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function w5(n){return Bv=Gu=1,x2=Hi(Cd=n),ui=0,[]}function b5(n){return Cd="",n}function Zw(n){return E2(jv(ui-1,Wb(n===91?n+2:n===40?n+1:n)))}function T5(n){for(;(mn=$l())&&mn<33;)Ti();return Yb(n)>2||Yb(mn)>3?"":" "}function E5(n,e){for(;--e&&Ti()&&!(mn<48||mn>102||mn>57&&mn<65||mn>70&&mn<97););return jv(n,dy()+(e<6&&$l()==32&&Ti()==32))}function Wb(n){for(;Ti();)switch(mn){case n:return ui;case 34:case 39:n!==34&&n!==39&&Wb(mn);break;case 40:n===41&&Wb(n);break;case 92:Ti();break}return ui}function S5(n,e){for(;Ti()&&n+mn!==57;)if(n+mn===84&&$l()===47)break;return"/*"+jv(e,ui-1)+"*"+yE(n===47?n:Ti())}function x5(n){for(;!Yb($l());)Ti();return jv(n,ui)}function A5(n){return b5(hy("",null,null,null,[""],n=w5(n),0,[0],n))}function hy(n,e,t,r,i,s,l,u,d){for(var f=0,p=0,y=l,v=0,b=0,T=0,A=1,I=1,C=1,V=0,N="",q=i,z=s,Y=r,k=N;I;)switch(T=V,V=Ti()){case 40:if(T!=108&&Cn(k,y-1)==58){uy(k+=ze(Zw(V),"&","&\f"),"&\f",T2(f?u[f-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:k+=Zw(V);break;case 9:case 10:case 13:case 32:k+=T5(T);break;case 92:k+=E5(dy()-1,7);continue;case 47:switch($l()){case 42:case 47:bf(I5(S5(Ti(),dy()),e,t,d),d);break;default:k+="/"}break;case 123*A:u[f++]=Hi(k)*C;case 125*A:case 59:case 0:switch(V){case 0:case 125:I=0;case 59+p:C==-1&&(k=ze(k,/\f/g,"")),b>0&&Hi(k)-y&&bf(b>32?kD(k+";",r,t,y-1,d):kD(ze(k," ","")+";",r,t,y-2,d),d);break;case 59:k+=";";default:if(bf(Y=PD(k,e,t,f,p,i,u,N,q=[],z=[],y,s),s),V===123)if(p===0)hy(k,e,Y,Y,q,s,y,u,z);else switch(v===99&&Cn(k,3)===110?100:v){case 100:case 108:case 109:case 115:hy(n,Y,Y,r&&bf(PD(n,Y,Y,0,0,i,u,N,i,q=[],y,z),z),i,z,y,u,r?q:z);break;default:hy(k,Y,Y,Y,[""],z,0,u,z)}}f=p=b=0,A=C=1,N=k="",y=l;break;case 58:y=1+Hi(k),b=T;default:if(A<1){if(V==123)--A;else if(V==125&&A++==0&&_5()==125)continue}switch(k+=yE(V),V*A){case 38:C=p>0?1:(k+="\f",-1);break;case 44:u[f++]=(Hi(k)-1)*C,C=1;break;case 64:$l()===45&&(k+=Zw(Ti())),v=$l(),p=y=Hi(N=k+=x5(dy())),V++;break;case 45:T===45&&Hi(k)==2&&(A=0)}}return s}function PD(n,e,t,r,i,s,l,u,d,f,p,y){for(var v=i-1,b=i===0?s:[""],T=S2(b),A=0,I=0,C=0;A<r;++A)for(var V=0,N=Wu(n,v+1,v=T2(I=l[A])),q=n;V<T;++V)(q=E2(I>0?b[V]+" "+N:ze(N,/&\f/g,b[V])))&&(d[C++]=q);return Uv(n,e,t,i===0?Fv:u,d,f,p,y)}function I5(n,e,t,r){return Uv(n,e,t,w2,yE(v5()),Wu(n,2,-2),0,r)}function kD(n,e,t,r,i){return Uv(n,e,t,gE,Wu(n,0,r),Wu(n,r+1,-1),r,i)}function A2(n,e,t){switch(g5(n,e)){case 5103:return ct+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ct+n+n;case 4789:return kf+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ct+n+kf+n+At+n+n;case 5936:switch(Cn(n,e+11)){case 114:return ct+n+At+ze(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ct+n+At+ze(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ct+n+At+ze(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return ct+n+At+n+n;case 6165:return ct+n+At+"flex-"+n+n;case 5187:return ct+n+ze(n,/(\w+).+(:[^]+)/,ct+"box-$1$2"+At+"flex-$1$2")+n;case 5443:return ct+n+At+"flex-item-"+ze(n,/flex-|-self/g,"")+(Ks(n,/flex-|baseline/)?"":At+"grid-row-"+ze(n,/flex-|-self/g,""))+n;case 4675:return ct+n+At+"flex-line-pack"+ze(n,/align-content|flex-|-self/g,"")+n;case 5548:return ct+n+At+ze(n,"shrink","negative")+n;case 5292:return ct+n+At+ze(n,"basis","preferred-size")+n;case 6060:return ct+"box-"+ze(n,"-grow","")+ct+n+At+ze(n,"grow","positive")+n;case 4554:return ct+ze(n,/([^-])(transform)/g,"$1"+ct+"$2")+n;case 6187:return ze(ze(ze(n,/(zoom-|grab)/,ct+"$1"),/(image-set)/,ct+"$1"),n,"")+n;case 5495:case 3959:return ze(n,/(image-set\([^]*)/,ct+"$1$`$1");case 4968:return ze(ze(n,/(.+:)(flex-)?(.*)/,ct+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ct+n+n;case 4200:if(!Ks(n,/flex-|baseline/))return At+"grid-column-align"+Wu(n,e)+n;break;case 2592:case 3360:return At+ze(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,Ks(r.props,/grid-\w+-end/)})?~uy(n+(t=t[e].value),"span",0)?n:At+ze(n,"-start","")+n+At+"grid-row-span:"+(~uy(t,"span",0)?Ks(t,/\d+/):+Ks(t,/\d+/)-+Ks(n,/\d+/))+";":At+ze(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return Ks(r.props,/grid-\w+-start/)})?n:At+ze(ze(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return ze(n,/(.+)-inline(.+)/,ct+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hi(n)-1-e>6)switch(Cn(n,e+1)){case 109:if(Cn(n,e+4)!==45)break;case 102:return ze(n,/(.+:)(.+)-([^]+)/,"$1"+ct+"$2-$3$1"+kf+(Cn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~uy(n,"stretch",0)?A2(ze(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return ze(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,l,u,d,f){return At+i+":"+s+f+(l?At+i+"-span:"+(u?d:+d-+s)+f:"")+n});case 4949:if(Cn(n,e+6)===121)return ze(n,":",":"+ct)+n;break;case 6444:switch(Cn(n,Cn(n,14)===45?18:11)){case 120:return ze(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ct+(Cn(n,14)===45?"inline-":"")+"box$3$1"+ct+"$2$3$1"+At+"$2box$3")+n;case 100:return ze(n,":",":"+At)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ze(n,"scroll-","scroll-snap-")+n}return n}function $y(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function D5(n,e,t,r){switch(n.type){case m5:if(n.children.length)break;case p5:case gE:return n.return=n.return||n.value;case w2:return"";case b2:return n.return=n.value+"{"+$y(n.children,r)+"}";case Fv:if(!Hi(n.value=n.props.join(",")))return""}return Hi(t=$y(n.children,r))?n.return=n.value+"{"+t+"}":""}function R5(n){var e=S2(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function C5(n){return function(e){e.root||(e=e.return)&&n(e)}}function P5(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case gE:n.return=A2(n.value,n.length,t);return;case b2:return $y([to(n,{value:ze(n.value,"@","@"+ct)})],r);case Fv:if(n.length)return y5(t=n.props,function(i){switch(Ks(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":mu(to(n,{props:[ze(i,/:(read-\w+)/,":"+kf+"$1")]})),mu(to(n,{props:[i]})),Hb(n,{props:CD(t,r)});break;case"::placeholder":mu(to(n,{props:[ze(i,/:(plac\w+)/,":"+ct+"input-$1")]})),mu(to(n,{props:[ze(i,/:(plac\w+)/,":"+kf+"$1")]})),mu(to(n,{props:[ze(i,/:(plac\w+)/,At+"input-$1")]})),mu(to(n,{props:[i]})),Hb(n,{props:CD(t,r)});break}return""})}}var k5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Or={},Ku=typeof process<"u"&&Or!==void 0&&(Or.REACT_APP_SC_ATTR||Or.SC_ATTR)||"data-styled",I2="active",D2="data-styled-version",zv="6.1.18",vE=`/*!sc*/
`,qy=typeof window<"u"&&typeof document<"u",M5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Or!==void 0&&Or.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Or.REACT_APP_SC_DISABLE_SPEEDY!==""?Or.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Or.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Or!==void 0&&Or.SC_DISABLE_SPEEDY!==void 0&&Or.SC_DISABLE_SPEEDY!==""&&Or.SC_DISABLE_SPEEDY!=="false"&&Or.SC_DISABLE_SPEEDY),$v=Object.freeze([]),Qu=Object.freeze({});function O5(n,e,t){return t===void 0&&(t=Qu),n.theme!==t.theme&&n.theme||e||t.theme}var R2=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),N5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,V5=/(^-|-$)/g;function MD(n){return n.replace(N5,"-").replace(V5,"")}var L5=/(a)(d)/gi,zg=52,OD=function(n){return String.fromCharCode(n+(n>25?39:97))};function Gb(n){var e,t="";for(e=Math.abs(n);e>zg;e=e/zg|0)t=OD(e%zg)+t;return(OD(e%zg)+t).replace(L5,"$1-$2")}var Jw,C2=5381,Cu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},P2=function(n){return Cu(C2,n)};function F5(n){return Gb(P2(n)>>>0)}function B5(n){return n.displayName||n.name||"Component"}function eb(n){return typeof n=="string"&&!0}var k2=typeof Symbol=="function"&&Symbol.for,M2=k2?Symbol.for("react.memo"):60115,U5=k2?Symbol.for("react.forward_ref"):60112,j5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},O2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$5=((Jw={})[U5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jw[M2]=O2,Jw);function ND(n){return("type"in(e=n)&&e.type.$$typeof)===M2?O2:"$$typeof"in n?$5[n.$$typeof]:j5;var e}var q5=Object.defineProperty,H5=Object.getOwnPropertyNames,VD=Object.getOwnPropertySymbols,Y5=Object.getOwnPropertyDescriptor,W5=Object.getPrototypeOf,LD=Object.prototype;function N2(n,e,t){if(typeof e!="string"){if(LD){var r=W5(e);r&&r!==LD&&N2(n,r,t)}var i=H5(e);VD&&(i=i.concat(VD(e)));for(var s=ND(n),l=ND(e),u=0;u<i.length;++u){var d=i[u];if(!(d in z5||t&&t[d]||l&&d in l||s&&d in s)){var f=Y5(e,d);try{q5(n,d,f)}catch{}}}}return n}function Jl(n){return typeof n=="function"}function _E(n){return typeof n=="object"&&"styledComponentId"in n}function Nl(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function FD(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function Jf(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Kb(n,e,t){if(t===void 0&&(t=!1),!t&&!Jf(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=Kb(n[r],e[r]);else if(Jf(e))for(var r in e)n[r]=Kb(n[r],e[r]);return n}function wE(n,e){Object.defineProperty(n,"toString",{value:e})}function ec(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var G5=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ec(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var l=i;l<s;l++)this.groupSizes[l]=0}for(var u=this.indexOfGroup(e+1),d=(l=0,t.length);l<d;l++)this.tag.insertRule(u,t[l])&&(this.groupSizes[e]++,u++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,l=i;l<s;l++)t+="".concat(this.tag.getRule(l)).concat(vE);return t},n}(),fy=new Map,Hy=new Map,py=1,$g=function(n){if(fy.has(n))return fy.get(n);for(;Hy.has(py);)py++;var e=py++;return fy.set(n,e),Hy.set(e,n),e},K5=function(n,e){py=e+1,fy.set(n,e),Hy.set(e,n)},Q5="style[".concat(Ku,"][").concat(D2,'="').concat(zv,'"]'),X5=new RegExp("^".concat(Ku,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Z5=function(n,e,t){for(var r,i=t.split(","),s=0,l=i.length;s<l;s++)(r=i[s])&&n.registerName(e,r)},J5=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(vE),i=[],s=0,l=r.length;s<l;s++){var u=r[s].trim();if(u){var d=u.match(X5);if(d){var f=0|parseInt(d[1],10),p=d[2];f!==0&&(K5(p,f),Z5(n,p,d[3]),n.getTag().insertRules(f,i)),i.length=0}else i.push(u)}}},BD=function(n){for(var e=document.querySelectorAll(Q5),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(Ku)!==I2&&(J5(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function e9(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var V2=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(u){var d=Array.from(u.querySelectorAll("style[".concat(Ku,"]")));return d[d.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ku,I2),r.setAttribute(D2,zv);var l=e9();return l&&r.setAttribute("nonce",l),t.insertBefore(r,s),r},t9=function(){function n(e){this.element=V2(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var l=r[i];if(l.ownerNode===t)return l}throw ec(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),n9=function(){function n(e){this.element=V2(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),r9=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),UD=qy,i9={isServer:!qy,useCSSOMInjection:!M5},L2=function(){function n(e,t,r){e===void 0&&(e=Qu),t===void 0&&(t={});var i=this;this.options=Jn(Jn({},i9),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&qy&&UD&&(UD=!1,BD(this)),wE(this,function(){return function(s){for(var l=s.getTag(),u=l.length,d="",f=function(y){var v=function(C){return Hy.get(C)}(y);if(v===void 0)return"continue";var b=s.names.get(v),T=l.getGroup(y);if(b===void 0||!b.size||T.length===0)return"continue";var A="".concat(Ku,".g").concat(y,'[id="').concat(v,'"]'),I="";b!==void 0&&b.forEach(function(C){C.length>0&&(I+="".concat(C,","))}),d+="".concat(T).concat(A,'{content:"').concat(I,'"}').concat(vE)},p=0;p<u;p++)f(p);return d}(i)})}return n.registerId=function(e){return $g(e)},n.prototype.rehydrate=function(){!this.server&&qy&&BD(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Jn(Jn({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new r9(i):r?new t9(i):new n9(i)}(this.options),new G5(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if($g(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules($g(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup($g(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),s9=/&/g,a9=/^\s*\/\/.*$/gm;function F2(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=F2(t.children,e)),t})}function o9(n){var e,t,r,i=Qu,s=i.options,l=s===void 0?Qu:s,u=i.plugins,d=u===void 0?$v:u,f=function(v,b,T){return T.startsWith(t)&&T.endsWith(t)&&T.replaceAll(t,"").length>0?".".concat(e):v},p=d.slice();p.push(function(v){v.type===Fv&&v.value.includes("&")&&(v.props[0]=v.props[0].replace(s9,t).replace(r,f))}),l.prefix&&p.push(P5),p.push(D5);var y=function(v,b,T,A){b===void 0&&(b=""),T===void 0&&(T=""),A===void 0&&(A="&"),e=A,t=b,r=new RegExp("\\".concat(t,"\\b"),"g");var I=v.replace(a9,""),C=A5(T||b?"".concat(T," ").concat(b," { ").concat(I," }"):I);l.namespace&&(C=F2(C,l.namespace));var V=[];return $y(C,R5(p.concat(C5(function(N){return V.push(N)})))),V};return y.hash=d.length?d.reduce(function(v,b){return b.name||ec(15),Cu(v,b.name)},C2).toString():"",y}var l9=new L2,Qb=o9(),B2=se.createContext({shouldForwardProp:void 0,styleSheet:l9,stylis:Qb});B2.Consumer;se.createContext(void 0);function jD(){return P.useContext(B2)}var c9=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=Qb);var l=r.name+s.hash;i.hasNameForId(r.id,l)||i.insertRules(r.id,l,s(r.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,wE(this,function(){throw ec(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Qb),this.name+e.hash},n}(),u9=function(n){return n>="A"&&n<="Z"};function zD(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;u9(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var U2=function(n){return n==null||n===!1||n===""},j2=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!U2(s)&&(Array.isArray(s)&&s.isCss||Jl(s)?r.push("".concat(zD(i),":"),s,";"):Jf(s)?r.push.apply(r,zy(zy(["".concat(i," {")],j2(s),!1),["}"],!1)):r.push("".concat(zD(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in k5||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function ql(n,e,t,r){if(U2(n))return[];if(_E(n))return[".".concat(n.styledComponentId)];if(Jl(n)){if(!Jl(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return ql(i,e,t,r)}var s;return n instanceof c9?t?(n.inject(t,r),[n.getName(r)]):[n]:Jf(n)?j2(n):Array.isArray(n)?Array.prototype.concat.apply($v,n.map(function(l){return ql(l,e,t,r)})):[n.toString()]}function d9(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Jl(t)&&!_E(t))return!1}return!0}var h9=P2(zv),f9=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&d9(e),this.componentId=t,this.baseHash=Cu(h9,t),this.baseStyle=r,L2.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=Nl(i,this.staticRulesId);else{var s=FD(ql(this.rules,e,t,r)),l=Gb(Cu(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,l)){var u=r(s,".".concat(l),void 0,this.componentId);t.insertRules(this.componentId,l,u)}i=Nl(i,l),this.staticRulesId=l}else{for(var d=Cu(this.baseHash,r.hash),f="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")f+=y;else if(y){var v=FD(ql(y,e,t,r));d=Cu(d,v+p),f+=v}}if(f){var b=Gb(d>>>0);t.hasNameForId(this.componentId,b)||t.insertRules(this.componentId,b,r(f,".".concat(b),void 0,this.componentId)),i=Nl(i,b)}}return i},n}(),Yy=se.createContext(void 0);Yy.Consumer;function p9(n){var e=se.useContext(Yy),t=P.useMemo(function(){return function(r,i){if(!r)throw ec(14);if(Jl(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ec(8);return i?Jn(Jn({},i),r):r}(n.theme,e)},[n.theme,e]);return n.children?se.createElement(Yy.Provider,{value:t},n.children):null}var tb={};function m9(n,e,t){var r=_E(n),i=n,s=!eb(n),l=e.attrs,u=l===void 0?$v:l,d=e.componentId,f=d===void 0?function(q,z){var Y=typeof q!="string"?"sc":MD(q);tb[Y]=(tb[Y]||0)+1;var k="".concat(Y,"-").concat(F5(zv+Y+tb[Y]));return z?"".concat(z,"-").concat(k):k}(e.displayName,e.parentComponentId):d,p=e.displayName,y=p===void 0?function(q){return eb(q)?"styled.".concat(q):"Styled(".concat(B5(q),")")}(n):p,v=e.displayName&&e.componentId?"".concat(MD(e.displayName),"-").concat(e.componentId):e.componentId||f,b=r&&i.attrs?i.attrs.concat(u).filter(Boolean):u,T=e.shouldForwardProp;if(r&&i.shouldForwardProp){var A=i.shouldForwardProp;if(e.shouldForwardProp){var I=e.shouldForwardProp;T=function(q,z){return A(q,z)&&I(q,z)}}else T=A}var C=new f9(t,v,r?i.componentStyle:void 0);function V(q,z){return function(Y,k,D){var M=Y.attrs,L=Y.componentStyle,j=Y.defaultProps,$=Y.foldedComponentIds,F=Y.styledComponentId,Ve=Y.target,Ie=se.useContext(Yy),K=jD(),ie=Y.shouldForwardProp||K.shouldForwardProp,de=O5(k,Ie,j)||Qu,Ee=function(Be,Pe,Vt){for(var rt,En=Jn(Jn({},Pe),{className:void 0,theme:Vt}),jr=0;jr<Be.length;jr+=1){var gr=Jl(rt=Be[jr])?rt(En):rt;for(var Hn in gr)En[Hn]=Hn==="className"?Nl(En[Hn],gr[Hn]):Hn==="style"?Jn(Jn({},En[Hn]),gr[Hn]):gr[Hn]}return Pe.className&&(En.className=Nl(En.className,Pe.className)),En}(M,k,de),U=Ee.as||Ve,oe={};for(var ge in Ee)Ee[ge]===void 0||ge[0]==="$"||ge==="as"||ge==="theme"&&Ee.theme===de||(ge==="forwardedAs"?oe.as=Ee.forwardedAs:ie&&!ie(ge,U)||(oe[ge]=Ee[ge]));var me=function(Be,Pe){var Vt=jD(),rt=Be.generateAndInjectStyles(Pe,Vt.styleSheet,Vt.stylis);return rt}(L,Ee),Re=Nl($,F);return me&&(Re+=" "+me),Ee.className&&(Re+=" "+Ee.className),oe[eb(U)&&!R2.has(U)?"class":"className"]=Re,D&&(oe.ref=D),P.createElement(U,oe)}(N,q,z)}V.displayName=y;var N=se.forwardRef(V);return N.attrs=b,N.componentStyle=C,N.displayName=y,N.shouldForwardProp=T,N.foldedComponentIds=r?Nl(i.foldedComponentIds,i.styledComponentId):"",N.styledComponentId=v,N.target=r?i.target:n,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(q){this._foldedDefaultProps=r?function(z){for(var Y=[],k=1;k<arguments.length;k++)Y[k-1]=arguments[k];for(var D=0,M=Y;D<M.length;D++)Kb(z,M[D],!0);return z}({},i.defaultProps,q):q}}),wE(N,function(){return".".concat(N.styledComponentId)}),s&&N2(N,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function $D(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var qD=function(n){return Object.assign(n,{isCss:!0})};function g9(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Jl(n)||Jf(n))return qD(ql($D($v,zy([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?ql(r):qD(ql($D(r,e)))}function Xb(n,e,t){if(t===void 0&&(t=Qu),!e)throw ec(1,e);var r=function(i){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];return n(e,t,g9.apply(void 0,zy([i],s,!1)))};return r.attrs=function(i){return Xb(n,e,Jn(Jn({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Xb(n,e,Jn(Jn({},t),i))},r}var z2=function(n){return Xb(m9,n)},W=z2;R2.forEach(function(n){W[n]=z2(n)});var of={},HD;function y9(){if(HD)return of;HD=1,Object.defineProperty(of,"__esModule",{value:!0}),of.parse=l,of.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const T=new s,A=v.length;if(A<2)return T;const I=(b==null?void 0:b.decode)||p;let C=0;do{const V=v.indexOf("=",C);if(V===-1)break;const N=v.indexOf(";",C),q=N===-1?A:N;if(V>q){C=v.lastIndexOf(";",V-1)+1;continue}const z=u(v,C,V),Y=d(v,V,z),k=v.slice(z,Y);if(T[k]===void 0){let D=u(v,V+1,q),M=d(v,q,D);const L=I(v.slice(D,M));T[k]=L}C=q+1}while(C<A);return T}function u(v,b,T){do{const A=v.charCodeAt(b);if(A!==32&&A!==9)return b}while(++b<T);return T}function d(v,b,T){for(;b>T;){const A=v.charCodeAt(--b);if(A!==32&&A!==9)return b+1}return T}function f(v,b,T){const A=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const I=A(b);if(!e.test(I))throw new TypeError(`argument val is invalid: ${b}`);let C=v+"="+I;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!y(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return i.call(v)==="[object Date]"}return of}y9();var YD="popstate";function v9(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return Zb("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ep(i)}return w9(e,t,null,n)}function Ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _9(){return Math.random().toString(36).substring(2,10)}function WD(n,e){return{usr:n.state,key:n.key,idx:e}}function Zb(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pd(e):e,state:t,key:e&&e.key||r||_9()}}function ep({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function w9(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){u="POP";let I=p(),C=I==null?null:I-f;f=I,d&&d({action:u,location:A.location,delta:C})}function v(I,C){u="PUSH";let V=Zb(A.location,I,C);f=p()+1;let N=WD(V,f),q=A.createHref(V);try{l.pushState(N,"",q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(q)}s&&d&&d({action:u,location:A.location,delta:1})}function b(I,C){u="REPLACE";let V=Zb(A.location,I,C);f=p();let N=WD(V,f),q=A.createHref(V);l.replaceState(N,"",q),s&&d&&d({action:u,location:A.location,delta:0})}function T(I){return b9(I)}let A={get action(){return u},get location(){return n(i,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(YD,y),d=I,()=>{i.removeEventListener(YD,y),d=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let C=T(I);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:b,go(I){return l.go(I)}};return A}function b9(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ep(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $2(n,e,t="/"){return T9(n,e,t,!1)}function T9(n,e,t,r){let i=typeof e=="string"?Pd(e):e,s=sa(i.pathname||"/",t);if(s==null)return null;let l=q2(n);E9(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=O9(s);u=k9(l[d],f,r)}return u}function q2(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ut(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Zs([r,d.relativePath]),p=t.concat(d);s.children&&s.children.length>0&&(Ut(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),q2(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:C9(f,s.index),routesMeta:p})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of H2(s.path))i(s,l,d)}),e}function H2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=H2(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function E9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:P9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var S9=/^:[\w-]+$/,x9=3,A9=2,I9=1,D9=10,R9=-2,GD=n=>n==="*";function C9(n,e){let t=n.split("/"),r=t.length;return t.some(GD)&&(r+=R9),e&&(r+=A9),t.filter(i=>!GD(i)).reduce((i,s)=>i+(S9.test(s)?x9:s===""?I9:D9),r)}function P9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function k9(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=Wy({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Wy({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Zs([s,y.pathname]),pathnameBase:F9(Zs([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=Zs([s,y.pathnameBase]))}return l}function Wy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=M9(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:y},v)=>{if(p==="*"){let T=u[v]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const b=u[v];return y&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function M9(n,e=!1,t=!0){hs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function O9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function N9(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Pd(n):n;return{pathname:t?t.startsWith("/")?t:V9(t,e):e,search:B9(r),hash:U9(i)}}function V9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nb(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Y2(n){let e=L9(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function W2(n,e,t,r=!1){let i;typeof n=="string"?i=Pd(n):(i={...n},Ut(!i.pathname||!i.pathname.includes("?"),nb("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),nb("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),nb("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let d=N9(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Zs=n=>n.join("/").replace(/\/\/+/g,"/"),F9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),B9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function j9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var G2=["POST","PUT","PATCH","DELETE"];new Set(G2);var z9=["GET",...G2];new Set(z9);var kd=P.createContext(null);kd.displayName="DataRouter";var qv=P.createContext(null);qv.displayName="DataRouterState";var K2=P.createContext({isTransitioning:!1});K2.displayName="ViewTransition";var $9=P.createContext(new Map);$9.displayName="Fetchers";var q9=P.createContext(null);q9.displayName="Await";var _s=P.createContext(null);_s.displayName="Navigation";var Lp=P.createContext(null);Lp.displayName="Location";var ws=P.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var bE=P.createContext(null);bE.displayName="RouteError";function H9(n,{relative:e}={}){Ut(Fp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=P.useContext(_s),{hash:i,pathname:s,search:l}=Bp(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Zs([t,s])),r.createHref({pathname:u,search:l,hash:i})}function Fp(){return P.useContext(Lp)!=null}function bs(){return Ut(Fp(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Lp).location}var Q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X2(n){P.useContext(_s).static||P.useLayoutEffect(n)}function mr(){let{isDataRoute:n}=P.useContext(ws);return n?iF():Y9()}function Y9(){Ut(Fp(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(kd),{basename:e,navigator:t}=P.useContext(_s),{matches:r}=P.useContext(ws),{pathname:i}=bs(),s=JSON.stringify(Y2(r)),l=P.useRef(!1);return X2(()=>{l.current=!0}),P.useCallback((d,f={})=>{if(hs(l.current,Q2),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=W2(d,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Zs([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,s,i,n])}P.createContext(null);function Hv(){let{matches:n}=P.useContext(ws),e=n[n.length-1];return e?e.params:{}}function Bp(n,{relative:e}={}){let{matches:t}=P.useContext(ws),{pathname:r}=bs(),i=JSON.stringify(Y2(t));return P.useMemo(()=>W2(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function W9(n,e){return Z2(n,e)}function Z2(n,e,t,r){var C;Ut(Fp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(_s),{matches:s}=P.useContext(ws),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let V=p&&p.path||"";J2(d,!p||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let y=bs(),v;if(e){let V=typeof e=="string"?Pd(e):e;Ut(f==="/"||((C=V.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${V.pathname}" was given in the \`location\` prop.`),v=V}else v=y;let b=v.pathname||"/",T=b;if(f!=="/"){let V=f.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let A=$2(n,{pathname:T});hs(p||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),hs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=Z9(A&&A.map(V=>Object.assign({},V,{params:Object.assign({},u,V.params),pathname:Zs([f,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?f:Zs([f,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),s,t,r);return e&&I?P.createElement(Lp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},I):I}function G9(){let n=rF(),e=j9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:i},t):null,l)}var K9=P.createElement(G9,null),Q9=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(ws.Provider,{value:this.props.routeContext},P.createElement(bE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X9({routeContext:n,match:e,children:t}){let r=P.useContext(kd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ws.Provider,{value:n},t)}function Z9(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Ut(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:y}=t,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let y,v=!1,b=null,T=null;t&&(y=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||K9,l&&(u<0&&p===0?(J2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):u===p&&(v=!0,T=f.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,p+1)),I=()=>{let C;return y?C=b:v?C=T:f.route.Component?C=P.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,P.createElement(X9,{match:f,routeContext:{outlet:d,matches:A,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(Q9,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function TE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J9(n){let e=P.useContext(kd);return Ut(e,TE(n)),e}function eF(n){let e=P.useContext(qv);return Ut(e,TE(n)),e}function tF(n){let e=P.useContext(ws);return Ut(e,TE(n)),e}function EE(n){let e=tF(n),t=e.matches[e.matches.length-1];return Ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nF(){return EE("useRouteId")}function rF(){var r;let n=P.useContext(bE),e=eF("useRouteError"),t=EE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function iF(){let{router:n}=J9("useNavigate"),e=EE("useNavigate"),t=P.useRef(!1);return X2(()=>{t.current=!0}),P.useCallback(async(i,s={})=>{hs(t.current,Q2),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var KD={};function J2(n,e,t){!e&&!KD[n]&&(KD[n]=!0,hs(!1,t))}P.memo(sF);function sF({routes:n,future:e,state:t}){return Z2(n,void 0,t,e)}function ni(n){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aF({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ut(!Fp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=Pd(t));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:v="default"}=t,b=P.useMemo(()=>{let T=sa(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:y,key:v},navigationType:r}},[l,d,f,p,y,v,r]);return hs(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(_s.Provider,{value:u},P.createElement(Lp.Provider,{children:e,value:b}))}function oF({children:n,location:e}){return W9(Jb(n),e)}function Jb(n,e=[]){let t=[];return P.Children.forEach(n,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){t.push.apply(t,Jb(r.props.children,s));return}Ut(r.type===ni,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Jb(r.props.children,s)),t.push(l)}),t}var my="get",gy="application/x-www-form-urlencoded";function Yv(n){return n!=null&&typeof n.tagName=="string"}function lF(n){return Yv(n)&&n.tagName.toLowerCase()==="button"}function cF(n){return Yv(n)&&n.tagName.toLowerCase()==="form"}function uF(n){return Yv(n)&&n.tagName.toLowerCase()==="input"}function dF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hF(n,e){return n.button===0&&(!e||e==="_self")&&!dF(n)}var qg=null;function fF(){if(qg===null)try{new FormData(document.createElement("form"),0),qg=!1}catch{qg=!0}return qg}var pF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rb(n){return n!=null&&!pF.has(n)?(hs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gy}"`),null):n}function mF(n,e){let t,r,i,s,l;if(cF(n)){let u=n.getAttribute("action");r=u?sa(u,e):null,t=n.getAttribute("method")||my,i=rb(n.getAttribute("enctype"))||gy,s=new FormData(n)}else if(lF(n)||uF(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?sa(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||my,i=rb(n.getAttribute("formenctype"))||rb(u.getAttribute("enctype"))||gy,s=new FormData(u,n),!fF()){let{name:f,type:p,value:y}=n;if(p==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,y)}}else{if(Yv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=my,r=null,i=gy,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function SE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function gF(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yF(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vF(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await gF(s,t);return l.links?l.links():[]}return[]}));return TF(r.flat(1).filter(yF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function QD(n,e,t,r,i,s){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?e.filter((d,f)=>{var y;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _F(n,e,{includeHydrateFallback:t}={}){return wF(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function wF(n){return[...new Set(n)]}function bF(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function TF(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(bF(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EF=new Set([100,101,204,205]);function SF(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&sa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function eM(){let n=P.useContext(kd);return SE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xF(){let n=P.useContext(qv);return SE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xE=P.createContext(void 0);xE.displayName="FrameworkContext";function tM(){let n=P.useContext(xE);return SE(n,"You must render this element inside a <HydratedRouter> element"),n}function AF(n,e){let t=P.useContext(xE),[r,i]=P.useState(!1),[s,l]=P.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=e,v=P.useRef(null);P.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=C=>{C.forEach(V=>{l(V.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[n]),P.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let b=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:lf(u,b),onBlur:lf(d,T),onMouseEnter:lf(f,b),onMouseLeave:lf(p,T),onTouchStart:lf(y,b)}]:[!1,v,{}]}function lf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function IF({page:n,...e}){let{router:t}=eM(),r=P.useMemo(()=>$2(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?P.createElement(RF,{page:n,matches:r,...e}):null}function DF(n){let{manifest:e,routeModules:t}=tM(),[r,i]=P.useState([]);return P.useEffect(()=>{let s=!1;return vF(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function RF({page:n,matches:e,...t}){let r=bs(),{manifest:i,routeModules:s}=tM(),{basename:l}=eM(),{loaderData:u,matches:d}=xF(),f=P.useMemo(()=>QD(n,e,d,i,r,"data"),[n,e,d,i,r]),p=P.useMemo(()=>QD(n,e,d,i,r,"assets"),[n,e,d,i,r]),y=P.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(C=>{var N;let V=i.routes[C.route.id];!V||!V.hasLoader||(!f.some(q=>q.route.id===C.route.id)&&C.route.id in u&&((N=s[C.route.id])!=null&&N.shouldRevalidate)||V.hasClientLoader?A=!0:T.add(C.route.id))}),T.size===0)return[];let I=SF(n,l);return A&&T.size>0&&I.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[I.pathname+I.search]},[l,u,r,i,f,e,n,s]),v=P.useMemo(()=>_F(p,i),[p,i]),b=DF(p);return P.createElement(P.Fragment,null,y.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),v.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),b.map(({key:T,link:A})=>P.createElement("link",{key:T,...A})))}function CF(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nM&&(window.__reactRouterVersion="7.6.1")}catch{}function PF({basename:n,children:e,window:t}){let r=P.useRef();r.current==null&&(r.current=v9({window:t,v5Compat:!0}));let i=r.current,[s,l]=P.useState({action:i.action,location:i.location}),u=P.useCallback(d=>{P.startTransition(()=>l(d))},[l]);return P.useLayoutEffect(()=>i.listen(u),[i,u]),P.createElement(aF,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var rM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iM=P.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:y,...v},b){let{basename:T}=P.useContext(_s),A=typeof f=="string"&&rM.test(f),I,C=!1;if(typeof f=="string"&&A&&(I=f,nM))try{let M=new URL(window.location.href),L=f.startsWith("//")?new URL(M.protocol+f):new URL(f),j=sa(L.pathname,T);L.origin===M.origin&&j!=null?f=j+L.search+L.hash:C=!0}catch{hs(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=H9(f,{relative:i}),[N,q,z]=AF(r,v),Y=NF(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:y});function k(M){e&&e(M),M.defaultPrevented||Y(M)}let D=P.createElement("a",{...v,...z,href:I||V,onClick:C||s?e:k,ref:CF(b,q),target:d,"data-discover":!A&&t==="render"?"true":void 0});return N&&!A?P.createElement(P.Fragment,null,D,P.createElement(IF,{page:V})):D});iM.displayName="Link";var kF=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...f},p){let y=Bp(l,{relative:f.relative}),v=bs(),b=P.useContext(qv),{navigator:T,basename:A}=P.useContext(_s),I=b!=null&&UF(y)&&u===!0,C=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=v.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(V=V.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&A&&(N=sa(N,A)||N);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=V===C||!i&&V.startsWith(C)&&V.charAt(q)==="/",Y=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),k={isActive:z,isPending:Y,isTransitioning:I},D=z?e:void 0,M;typeof r=="function"?M=r(k):M=[r,z?"active":null,Y?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(k):s;return P.createElement(iM,{...f,"aria-current":D,className:M,ref:p,style:L,to:l,viewTransition:u},typeof d=="function"?d(k):d)});kF.displayName="NavLink";var MF=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=my,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:y,...v},b)=>{let T=FF(),A=BF(u,{relative:f}),I=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&rM.test(u),V=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let q=N.nativeEvent.submitter,z=(q==null?void 0:q.getAttribute("formmethod"))||l;T(q||N.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:y})};return P.createElement("form",{ref:b,method:I,action:A,onSubmit:r?d:V,...v,"data-discover":!C&&n==="render"?"true":void 0})});MF.displayName="Form";function OF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sM(n){let e=P.useContext(kd);return Ut(e,OF(n)),e}function NF(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=mr(),d=bs(),f=Bp(n,{relative:s});return P.useCallback(p=>{if(hF(p,e)){p.preventDefault();let y=t!==void 0?t:ep(d)===ep(f);u(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,f,t,r,e,n,i,s,l])}var VF=0,LF=()=>`__${String(++VF)}__`;function FF(){let{router:n}=sM("useSubmit"),{basename:e}=P.useContext(_s),t=nF();return P.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:f}=mF(r,e);if(i.navigate===!1){let p=i.fetcherKey||LF();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function BF(n,{relative:e}={}){let{basename:t}=P.useContext(_s),r=P.useContext(ws);Ut(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Bp(n||".",{relative:e})},l=bs();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Zs([t,s.pathname])),ep(s)}function UF(n,e={}){let t=P.useContext(K2);Ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sM("useViewTransitionState"),i=Bp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=sa(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=sa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Wy(i.pathname,l)!=null||Wy(i.pathname,s)!=null}[...EF];var aM=_2();const jF=y2(aM),ae={colors:{primary:"#F26300",disabled:"#E0E0E0",secondary:"#FFF3EB",error:"#FF3C3C",banner:"#DEE2E8",gray:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#424242",900:"#212121"}},radius:{small:"4px",medium:"8px",large:"12px"}},zF="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.0976%205.33334L8.43095%2012L15.0976%2018.6667'%20stroke='%23212121'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$F="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%208C18%206.4087%2017.3679%204.88258%2016.2427%203.75736C15.1174%202.63214%2013.5913%202%2012%202C10.4087%202%208.8826%202.63214%207.75738%203.75736C6.63216%204.88258%206.00002%206.4087%206.00002%208C6.00002%2011.0902%205.22049%2013.206%204.34968%2014.6054C3.61515%2015.7859%203.24788%2016.3761%203.26134%2016.5408C3.27626%2016.7231%203.31488%2016.7926%203.46179%2016.9016C3.59448%2017%204.19261%2017%205.38887%2017H18.6112C19.8074%2017%2020.4056%2017%2020.5382%2016.9016C20.6852%2016.7926%2020.7238%2016.7231%2020.7387%2016.5408C20.7522%2016.3761%2020.3849%2015.7859%2019.6504%2014.6054C18.7795%2013.206%2018%2011.0902%2018%208Z'%20fill='%23424242'/%3e%3cpath%20d='M9.35413%2021C10.0593%2021.6224%2010.9855%2022%2012%2022C13.0144%2022%2013.9406%2021.6224%2014.6458%2021H9.35413Z'%20stroke='%23424242'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qF="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%208C18%206.4087%2017.3679%204.88258%2016.2427%203.75736C15.1174%202.63214%2013.5913%202%2012%202C10.4087%202%208.8826%202.63214%207.75738%203.75736C6.63216%204.88258%206.00002%206.4087%206.00002%208C6.00002%2011.0902%205.22049%2013.206%204.34968%2014.6054C3.61515%2015.7859%203.24788%2016.3761%203.26134%2016.5408C3.27626%2016.7231%203.31488%2016.7926%203.46179%2016.9016C3.59448%2017%204.19261%2017%205.38887%2017H18.6112C19.8074%2017%2020.4056%2017%2020.5382%2016.9016C20.6852%2016.7926%2020.7238%2016.7231%2020.7387%2016.5408C20.7522%2016.3761%2020.3849%2015.7859%2019.6504%2014.6054C18.7795%2013.206%2018%2011.0902%2018%208Z'%20fill='%23424242'/%3e%3cpath%20d='M9.35413%2021C10.0593%2021.6224%2010.9855%2022%2012%2022C13.0144%2022%2013.9406%2021.6224%2014.6458%2021H9.35413Z'%20stroke='%23424242'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3ccircle%20cx='18'%20cy='5'%20r='3'%20fill='%23FF3C3C'/%3e%3c/svg%3e",XD=W.div`
  width: 100%;
  max-width: 402px;
  height: 52px;
  padding: 8px 20px;
  background-color: #fff;
  display: flex;
  justify-content: space-between;
  align-items: center;

  border-bottom: 1px solid ${ae.colors.gray[200]};
`,ZD=W.img`
  width: 24px;
  height: 24px;
  cursor: pointer;
`,HF=W.img`
  height: 24px;
  cursor: pointer;
`,YF=W.h3`
  font-size: 18px;
  line-height: 22px;
  font-weight: 700;
`,WF=W.div`
  width: 24px;
  height: 24px;
  opacity: 0;
`;function Ts({type:n="default",badge:e=!1,title:t="",backTo:r="/"}){const i=mr();return n==="default"?x.jsxs(XD,{children:[x.jsx(HF,{src:"/WADA_final//logo.svg"}),x.jsx(ZD,{src:e?qF:$F})]}):x.jsxs(XD,{children:[x.jsx(ZD,{src:zF,onClick:()=>i(r)}),x.jsx(YF,{children:t}),x.jsx(WF,{})]})}const AE=W.button`
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  line-height: 150%;
  border-radius: ${ae.radius.small};
  cursor: pointer;

  ${({selected:n})=>n?`
            background-color: ${ae.colors.secondary};
            color: ${ae.colors.primary};
        `:`
            background-color: ${ae.colors.gray[200]};
            color: ${ae.colors.gray[600]};
        `}
`,GF=W(AE)`
  font-size: 12px;
  font-weight: 400;
  padding: 3px 8px;
`,oM=W(AE)`
  font-size: 14px;
  padding: 4px 10px;
`,KF=W(AE)`
  padding: 4px 12px;
  font-size: 16px;
`,QF=W.div`
  height: auto;
`,XF=W.p`
  font-size: 18px;
  font-weight: 600;
  line-height: 150%;
  color: ${ae.colors.gray[800]};
`,ZF=W.p`
  font-size: 14px;
  margin-bottom: 16px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,JF=W.div`
  display: flex;
  margin-bottom: 2px;
`,eB=W.img`
  width: 20px;
  height: 20px;
`,tB=W.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  width: 100%;
  max-width: 402px;
  margin-top: 12px;
`,nB={small:GF,medium:oM,large:KF};function Xu({title:n,subtext:e,chips:t=[],size:r="medium",onChange:i,unLock:s=!0,max:l=3,type:u="essential"}){const[d,f]=P.useState([]),[p,y]=P.useState(!1);d.length>0;const v=u==="essential",b=A=>{y(!0);const I=d.includes(A);if(!I&&d.length>=l)return;const C=I?d.filter(V=>V!==A):[...d,A];f(C),i&&i(C)},T=nB[r]||oM;return x.jsxs(QF,{children:[x.jsxs(JF,{children:[x.jsx(XF,{children:n}),v&&x.jsx(eB,{src:"/essential.svg",alt:"필수 입력"})]}),e&&x.jsx(ZF,{children:e}),x.jsx(tB,{children:t.map(A=>x.jsx(T,{selected:d.includes(A),onClick:s?()=>b(A):void 0,children:A},A))})]})}const rB=W.button`
  width: 100%;
  max-width: 362px;
  max-height: 54px;
  padding: 16px 10px;
  border-radius: ${ae.radius.small};
  font-size: 16px;
  font-weight: 600;
  line-height: 22px;
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease, border 0.3s ease;

  ${({theme:n,$btntype:e})=>{switch(e){case"outline":return`
            background-color: ${n.colors.secondary};
            color: ${n.colors.primary};
            border: 1px solid ${n.colors.primary};
            `;case"outline-disabled":return`
            background-color: ${n.colors.gray[50]};
            color: ${n.colors.gray[400]};
            border: 1px solid ${n.colors.gray[300]};
            cursor: not-allowed;
            `;case"disabled":return`
            background-color: ${n.colors.disabled};
            color: #fff;
            cursor: not-allowed;
            `;case"default":default:return`
            background-color: ${n.colors.primary};
            color: #fff;
            `}}}
`;function Fr({type:n="default",btnName:e="버튼",onClick:t}){return x.jsx(rB,{$btntype:n,disabled:n==="disabled",onClick:n==="disabled"?void 0:t,children:e})}const iB=W.div`
  width: 100%;
  max-width: ${({type:n})=>n==="homeList"?"362px":"402px"};
  padding: 20px 16px;
  background-color: #fff;
  display: flex;
  flex-direction: column;
  gap: 16px;
  cursor: pointer;
  border-radius: ${({type:n})=>n==="homeList"?ae.radius.medium:"none"};
`,sB=W.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,aB=W.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,oB=W.div`
  display: flex;
  flex-direction: column;
  gap: 6px;
`,lB=W.p`
  font-size: 12px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,cB=W.h3`
  font-size: 20px;
  font-weight: 700;
  line-height: 150%;
  color: ${ae.colors.gray[800]};
`,uB=W.p`
  font-size: 14px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,dB=W.p`
  font-size: 14px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,hB=W.div`
  display: flex;
  justify-content: space-between;
`,fB=W.div`
  display: flex;
  gap: 4px;
  align-items: center;
`,pB=W.img`
  width: 24px;
  height: 24px;
  border-radius: 999px;
`,mB=W.div`
  display: flex;
  gap: 4px;
  align-items: center;
  justify-content: end;
`,gB=W.span`
  line-height: 150%;
  font-size: 14px;
  font-weight: 500;
  margin-left: 4px;
  color: ${ae.colors.primary};
`,yB=W.span`
  font-size: 12px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,vB=W.span`
  font-size: 14px;
  font-weight: 600;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,_B=W.span`
  width: 100%;
  max-width: ${({type:n})=>n==="homeList"?"362px":"402px"};
  height: 1px;
  background-color: ${ae.colors.gray[200]};
`,wB=W.img`
  opacity: 0.8;
  width: 16px;
  height: 16px;
`,bB=W.div`
  display: flex;
`;function TB(n){const e=new Date,r=new Date(n).getTime()-e.getTime();return`마감 D-${Math.ceil(r/(1e3*60*60*24))}일`}function EB({type:n="postList",category:e,topic:t,author:r,authorImageUrl:i,viewCount:s,positions:l=[],onClick:u,projectDate:d,notice:f}){var T,A;const p=[...new Set(l.flatMap(I=>I.stack))],y=[...new Set(l.flatMap(I=>I.task))];function v(I){const C=I instanceof Date?I:new Date(I);return`${C.getFullYear()}.${String(C.getMonth()+1).padStart(2,"0")}.${String(C.getDate()).padStart(2,"0")}`}const b=I=>`/WADA_final/${I}`;return x.jsxs(iB,{onClick:u,type:n,children:[x.jsxs(sB,{children:[x.jsxs(aB,{children:[x.jsx(lB,{children:e}),x.jsxs(oB,{children:[x.jsx(cB,{children:t}),x.jsxs(uB,{children:[((T=d==null?void 0:d[0])==null?void 0:T.toDate)&&((A=d==null?void 0:d[1])==null?void 0:A.toDate)&&`${v(d[1].toDate())}까지`,x.jsx(gB,{children:TB(d[1].toDate())})]}),x.jsx(dB,{children:y.join(" · ")})]})]}),x.jsx(Xu,{type:"none",chips:p,size:"small",unLock:!1})]}),n==="postList"||n==="homeList"?x.jsx(_B,{}):null,n==="postList"||n==="homeList"?x.jsxs(hB,{children:[x.jsxs(fB,{children:[x.jsx(pB,{src:b(i||"/designerProfile.svg")}),x.jsx(vB,{children:r||"작성자"})]}),x.jsxs(mB,{children:[x.jsx(wB,{src:"/WADA_final//view.svg"}),x.jsx(yB,{children:s})]})]}):null,n==="partyList"&&x.jsx(Fr,{type:"outline",btnName:"지원자 확인"}),n==="appliedList"&&x.jsx(bB,{children:f==="rejected"?x.jsx(Fr,{btnName:"반려",type:"disabled",onClick:I=>I.stopPropagation()}):x.jsx(Fr,{btnName:f==="accepted"?"승인 완료":"승인 대기 중",type:f==="accepted"?"default":"outline",onClick:I=>I.stopPropagation()})})]})}const SB=W.div`
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 8px;
`;function tp({posts:n=[],type:e="postList",limit:t=null}){const r=mr(),i=n.sort((l,u)=>u.id-l.id),s=t?i.slice(0,t):i;return x.jsx(SB,{children:s.map((l,u)=>{const d=e==="appliedList"?l.post:l;return x.jsx(EB,{...d,type:e,notice:l.notice,onClick:()=>{r(e==="appliedList"?`/post/${d.id}`:e==="partyList"?`/author/${l.id}`:`/post/${l.id}`)}},u)})})}const xB=W.div`
  display: flex;
  flex-direction: column;
  width: 72px;
  align-items: center;
  cursor: pointer;
`,AB=W.div`
  width: 24px;
  height: 24px;
  color: ${({selected:n})=>n?ae.colors.gray[800]:ae.colors.gray[300]};
  transition: color 0.2s ease;

  svg {
    width: 100%;
    height: 100%;
  }
`,IB=W.p`
  font-size: 12px;
  font-weight: 500;
  line-height: 150%;
  margin-top: 4px;
  color: ${({selected:n})=>n?"#222222":"#eeeeee"};
`;function DB({menu:n,icon:e,selected:t,onClick:r}){const i=e;return x.jsxs(xB,{onClick:r,children:[x.jsx(AB,{selected:t,children:x.jsx(i,{})}),x.jsx(IB,{selected:t,children:n})]})}const RB=n=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...n},P.createElement("path",{d:"M10.6865 2.82994C11.3773 2.33353 12.3067 2.32843 13.0029 2.81724L20.0352 7.75474C20.5683 8.1292 20.8857 8.73997 20.8857 9.39146V19.6141C20.8853 20.7183 19.99 21.6141 18.8857 21.6141H5C3.89573 21.6141 3.00049 20.7183 3 19.6141V9.38072C3 8.73703 3.31041 8.13247 3.83301 7.7567L10.6865 2.82994ZM9.95508 17.1366H14.0771V12.0575H9.95508V17.1366Z",fill:"currentColor"})),CB=n=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...n},P.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2901 8.341V3.681L18.7601 8.341H14.2901ZM15.3705 2.86563C14.9933 2.47235 14.472 2.25 13.9271 2.25H5.83008C4.72551 2.25 3.83008 3.14543 3.83008 4.25V19.75C3.83008 20.8546 4.72551 21.75 5.83008 21.75H18.1701C19.2746 21.75 20.1701 20.8546 20.1701 19.75V8.67406C20.1701 8.15809 19.9707 7.66208 19.6135 7.28969L15.3705 2.86563Z",fill:"currentColor"})),PB=n=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...n},P.createElement("path",{d:"M8.36485 14.2725C11.9654 14.2725 14.5887 16.0637 15.565 19.1885C15.6309 19.4004 15.5458 19.6333 15.357 19.75C13.4486 20.9267 11.1672 21.5 8.38438 21.5H8.29356C5.54909 21.5 3.20244 20.9112 1.3209 19.75C1.13223 19.6333 1.04714 19.4003 1.1129 19.1885C2.09112 16.0559 4.72832 14.2521 8.33848 14.2725H8.36485Z",fill:"currentColor"}),P.createElement("path",{d:"M15.6861 14.2725C19.2867 14.2725 21.91 16.0637 22.8863 19.1885C22.9521 19.4002 22.8678 19.6332 22.6793 19.75C20.771 20.9267 18.4893 21.4999 15.7066 21.5H15.6149C15.0645 21.5 14.5301 21.475 14.0123 21.4277C14.648 21.1753 15.2541 20.8741 15.8307 20.5186L15.8863 20.4805C16.3983 20.164 16.5823 19.5986 16.4566 19.0322L16.4264 18.9189L16.317 18.5908C15.6932 16.8354 14.5854 15.485 13.1217 14.5977C13.8982 14.3781 14.748 14.2673 15.6598 14.2725H15.6861Z",fill:"currentColor"}),P.createElement("path",{d:"M8.33946 2.5C10.9561 2.5 13.0856 4.65443 13.0856 7.30371C13.0855 9.95193 10.9561 12.1064 8.33946 12.1064C5.72286 12.1064 3.59444 9.95193 3.59434 7.30371C3.59434 4.65443 5.72279 2.5 8.33946 2.5Z",fill:"currentColor"}),P.createElement("path",{d:"M15.6607 2.5C18.2774 2.5 20.4068 4.65443 20.4068 7.30371C20.4067 9.95193 18.2774 12.1064 15.6607 12.1064C14.512 12.1064 13.4571 11.6911 12.6354 11.001C13.4781 10.003 13.9879 8.7113 13.9879 7.30371C13.9879 5.89559 13.4792 4.60263 12.6363 3.60449C13.4579 2.91489 14.5125 2.50007 15.6607 2.5Z",fill:"currentColor"})),kB=n=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...n},P.createElement("path",{d:"M12.0266 14.3379C15.7734 14.3379 18.5037 16.1788 19.5198 19.3916L19.6379 19.7656L19.304 19.9697C17.318 21.1797 14.9431 21.7695 12.0471 21.7695H11.9524C9.09646 21.7695 6.6545 21.1637 4.69653 19.9697L4.36255 19.7656L4.48071 19.3916C5.49881 16.171 8.2426 14.317 11.9993 14.3379H12.0266Z",fill:"currentColor"}),P.createElement("path",{d:"M12.0002 2.23242C14.7232 2.23242 16.9397 4.44788 16.9397 7.17188C16.9395 9.89467 14.7231 12.1094 12.0002 12.1094C9.2774 12.1094 7.06299 9.89466 7.06274 7.17188C7.06274 4.44788 9.27725 2.23243 12.0002 2.23242Z",fill:"currentColor"})),MB=W.div`
  display: flex;
  padding: 16px 28px 32px 28px;
  width: 100%;
  max-width: 402px;
  border-top: 1px solid ${ae.colors.gray[200]};
  justify-content: center;
  gap: 20px;
  background-color: #fff;
  position: absolute;
  bottom: 0;
  z-index: 2;
`;function Up(){const n=bs(),e=mr(),t=[{key:"home",menu:"홈",icon:RB,path:"/"},{key:"post",menu:"파티 모집",icon:CB,path:"/post"},{key:"party",menu:"내 파티",icon:PB,path:"/party"},{key:"profile",menu:"프로필",icon:kB,path:"/profile"}];return x.jsxs(MB,{children:[t.map(r=>x.jsx(DB,{menu:r.menu,icon:r.icon,selected:n.pathname===r.path,onClick:()=>e(r.path)},r.key)),x.jsx("div",{className:"DeviceIndicator"})]})}const lM=W.div`
  width: 100%;
  max-width: 362px;
  min-height: 72px;
  padding: 0px 12px;
  border-radius: ${ae.radius.medium};
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  margin-top: 12px;
`,OB=W(lM)`
  background-color: ${ae.colors.gray[800]};
  color: #fff;
`,NB=W(lM)`
  background-color: ${ae.colors.banner};
  color: ${ae.colors.gray[900]};
`,VB=W.div`
  display: flex;
  align-items: center;
  gap: 12px;
`,LB=W.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,FB=W.h4`
  font-size: 16px;
  font-weight: 700;
  line-height: 150%;
`,BB=W.p`
  font-size: 12px;
  line-height: 150%;
`,JD=W.img`
  width: 24px;
  height: 24px;
`;function eR({type:n="dark",onClick:e}){const t="/WADA_final//arrow_right.svg",r=n==="dark",i=r?{icon:"/WADA_final//BannerPencil.svg",title:"프로필 카드를 추가해볼까요?",description:"프로필을 작성해 나를 소개해 보세요"}:{icon:"/WADA_final//BannerLady.svg",title:"함께 할 파티원을 찾고 있나요?",description:"지금 모집글을 작성하여 찾아보세요"},s=r?OB:NB;return x.jsxs(s,{onClick:e,children:[x.jsxs(VB,{children:[x.jsx(JD,{src:i.icon}),x.jsxs(LB,{children:[x.jsx(FB,{children:i.title}),x.jsx(BB,{children:i.description})]})]}),x.jsx(JD,{src:t})]})}const UB=()=>{};var tR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},jB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},uM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,p=s>>2,y=(s&3)<<4|u>>4;let v=(u&15)<<2|f>>6,b=f&63;d||(b=64,l||(v=64)),r.push(t[p],t[y],t[v],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||y==null)throw new zB;const v=s<<2|u>>4;if(r.push(v),f!==64){const b=u<<4&240|f>>2;if(r.push(b),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $B=function(n){const e=cM(n);return uM.encodeByteArray(e,!0)},Gy=function(n){return $B(n).replace(/\./g,"")},IE=function(n){try{return uM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ky(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!qB(t)||(n[t]=Ky(n[t],e[t]));return n}function qB(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=()=>DE().__FIREBASE_DEFAULTS__,YB=()=>{if(typeof process>"u"||typeof tR>"u")return;const n=tR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IE(n[1]);return e&&JSON.parse(e)},RE=()=>{try{return UB()||HB()||YB()||WB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dM=()=>{var n;return(n=RE())===null||n===void 0?void 0:n.config},GB=n=>{var e;return(e=RE())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n){return n.endsWith(".cloudworkstations.dev")}async function hM(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gy(JSON.stringify(t)),Gy(JSON.stringify(l)),""].join(".")}const Mf={};function XB(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mf))Mf[e]?n.emulator.push(e):n.prod.push(e);return n}function ZB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nR=!1;function fM(n,e){if(typeof window>"u"||typeof document>"u"||!jp(window.location.host)||Mf[n]===e||Mf[n]||nR)return;Mf[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=XB().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{nR=!0,l()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=ZB(r),b=t("text"),T=document.getElementById(b)||document.createElement("span"),A=t("learnmore"),I=document.getElementById(A)||document.createElement("a"),C=t("preprendIcon"),V=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;u(N),p(I,A);const q=f();d(V,C),N.append(V,T,I,q),document.body.appendChild(N)}s?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Wv(){var n;const e=(n=RE())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eU(){return typeof window<"u"||pM()}function pM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function tU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gM(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yM(){return!Wv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vM(){return!Wv()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function np(){try{return typeof indexedDB=="object"}catch{return!1}}function nU(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="FirebaseError";class hr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rU,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?iU(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new hr(i,u,r)}}function iU(n,e){return n.replace(sU,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function aU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function go(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(iR(s)&&iR(l)){if(!go(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function iR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _M(n,e){const t=new oU(n,e);return t.subscribe.bind(t)}class oU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ib),i.error===void 0&&(i.error=ib),i.complete===void 0&&(i.complete=ib);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ib(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n){return n&&n._delegate?n._delegate:n}class fs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new KB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dU(e))try{this.getOrInitializeService({instanceIdentifier:xl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xl){return this.instances.has(e)}getOptions(e=xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xl){return this.component?this.component.multipleInstances?e:xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uU(n){return n===xl?void 0:n}function dU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=[];var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const bM={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},hU=Ge.INFO,fU={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},pU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=fU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=hU,this._logHandler=pU,this._userLogHandler=null,PE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}function mU(n){PE.forEach(e=>{e.setLogLevel(n)})}function gU(n,e){for(const t of PE){let r=null;e&&e.level&&(r=bM[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:Ge[s].toLowerCase(),message:u,args:l,type:i.name})}}}const yU=(n,e)=>e.some(t=>n instanceof t);let sR,aR;function vU(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _U(){return aR||(aR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TM=new WeakMap,eT=new WeakMap,EM=new WeakMap,sb=new WeakMap,kE=new WeakMap;function wU(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(lo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&TM.set(t,n)}).catch(()=>{}),kE.set(e,n),e}function bU(n){if(eT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});eT.set(n,e)}let tT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TU(n){tT=n(tT)}function EU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ab(this),e,...t);return EM.set(r,e.sort?e.sort():[e]),lo(r)}:_U().includes(n)?function(...e){return n.apply(ab(this),e),lo(TM.get(this))}:function(...e){return lo(n.apply(ab(this),e))}}function SU(n){return typeof n=="function"?EU(n):(n instanceof IDBTransaction&&bU(n),yU(n,vU())?new Proxy(n,tT):n)}function lo(n){if(n instanceof IDBRequest)return wU(n);if(sb.has(n))return sb.get(n);const e=SU(n);return e!==n&&(sb.set(n,e),kE.set(e,n)),e}const ab=n=>kE.get(n);function xU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=lo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(lo(l.result),d.oldVersion,d.newVersion,lo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const AU=["get","getKey","getAll","getAllKeys","count"],IU=["put","add","delete","clear"],ob=new Map;function oR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ob.get(e))return ob.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=IU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AU.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return ob.set(e,s),s}TU(n=>({...n,get:(e,t,r)=>oR(e,t)||n.get(e,t,r),has:(e,t)=>!!oR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function RU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qy="@firebase/app",nT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Gv("@firebase/app"),CU="@firebase/app-compat",PU="@firebase/analytics-compat",kU="@firebase/analytics",MU="@firebase/app-check-compat",OU="@firebase/app-check",NU="@firebase/auth",VU="@firebase/auth-compat",LU="@firebase/database",FU="@firebase/data-connect",BU="@firebase/database-compat",UU="@firebase/functions",jU="@firebase/functions-compat",zU="@firebase/installations",$U="@firebase/installations-compat",qU="@firebase/messaging",HU="@firebase/messaging-compat",YU="@firebase/performance",WU="@firebase/performance-compat",GU="@firebase/remote-config",KU="@firebase/remote-config-compat",QU="@firebase/storage",XU="@firebase/storage-compat",ZU="@firebase/firestore",JU="@firebase/ai",ej="@firebase/firestore-compat",tj="firebase",nj="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]",rj={[Qy]:"fire-core",[CU]:"fire-core-compat",[kU]:"fire-analytics",[PU]:"fire-analytics-compat",[OU]:"fire-app-check",[MU]:"fire-app-check-compat",[NU]:"fire-auth",[VU]:"fire-auth-compat",[LU]:"fire-rtdb",[FU]:"fire-data-connect",[BU]:"fire-rtdb-compat",[UU]:"fire-fn",[jU]:"fire-fn-compat",[zU]:"fire-iid",[$U]:"fire-iid-compat",[qU]:"fire-fcm",[HU]:"fire-fcm-compat",[YU]:"fire-perf",[WU]:"fire-perf-compat",[GU]:"fire-rc",[KU]:"fire-rc-compat",[QU]:"fire-gcs",[XU]:"fire-gcs-compat",[ZU]:"fire-fst",[ej]:"fire-fst-compat",[JU]:"fire-vertex","fire-js":"fire-js",[tj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Map,Zu=new Map,Ju=new Map;function rp(n,e){try{n.container.addComponent(e)}catch(t){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function SM(n,e){n.container.addOrOverwriteComponent(e)}function _o(n){const e=n.name;if(Ju.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Ju.set(e,n);for(const t of vo.values())rp(t,n);for(const t of Zu.values())rp(t,n);return!0}function xM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ij(n,e,t=yo){xM(n,e).clearInstance(t)}function AM(n){return n.options!==void 0}function Pt(n){return n==null?!1:n.settings!==void 0}function sj(){Ju.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new gc("app","Firebase",aj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IM=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n,e){const t=IE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class oj extends IM{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&lR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&lR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ei(Qy,nT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){OE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw li.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=nj;function ME(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yo,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(t||(t=dM()),!t)throw li.create("no-options");const s=vo.get(i);if(s){if(go(t,s.options)&&go(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const l=new wM(i);for(const d of Ju.values())l.addComponent(d);const u=new IM(t,r,l);return vo.set(i,u),u}function lj(n,e){if(eU()&&!pM())throw li.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;AM(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((p,y)=>Math.imul(31,p)+y.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw li.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Zu.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new wM(s);for(const f of Ju.values())u.addComponent(f);const d=new oj(t,e,s,u);return Zu.set(s,d),d}function cj(n=yo){const e=vo.get(n);if(!e&&n===yo&&dM())return ME();if(!e)throw li.create("no-app",{appName:n});return e}function uj(){return Array.from(vo.values())}async function OE(n){let e=!1;const t=n.name;vo.has(t)?(e=!0,vo.delete(t)):Zu.has(t)&&n.decRefCount()<=0&&(Zu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Ei(n,e,t){var r;let i=(r=rj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(u.join(" "));return}_o(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function DM(n,e){if(n!==null&&typeof n!="function")throw li.create("invalid-log-argument");gU(n,e)}function RM(n){mU(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="firebase-heartbeat-database",hj=1,ip="firebase-heartbeat-store";let lb=null;function CM(){return lb||(lb=xU(dj,hj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ip)}catch(t){console.warn(t)}}}}).catch(n=>{throw li.create("idb-open",{originalErrorMessage:n.message})})),lb}async function fj(n){try{const t=(await CM()).transaction(ip),r=await t.objectStore(ip).get(PM(n));return await t.done,r}catch(e){if(e instanceof hr)aa.warn(e.message);else{const t=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(t.message)}}}async function cR(n,e){try{const r=(await CM()).transaction(ip,"readwrite");await r.objectStore(ip).put(e,PM(n)),await r.done}catch(t){if(t instanceof hr)aa.warn(t.message);else{const r=li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});aa.warn(r.message)}}}function PM(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=1024,mj=30;class gj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>mj){const l=_j(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){aa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uR(),{heartbeatsToSend:r,unsentEntries:i}=yj(this._heartbeatsCache.heartbeats),s=Gy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return aa.warn(t),""}}}function uR(){return new Date().toISOString().substring(0,10)}function yj(n,e=pj){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),dR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),dR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class vj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return np()?nU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dR(n){return Gy(JSON.stringify({version:2,heartbeats:n})).length}function _j(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(n){_o(new fs("platform-logger",e=>new DU(e),"PRIVATE")),_o(new fs("heartbeat",e=>new gj(e),"PRIVATE")),Ei(Qy,nT,n),Ei(Qy,nT,"esm2017"),Ei("fire-js","")}wj("");const bj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:hr,SDK_VERSION:Mo,_DEFAULT_ENTRY_NAME:yo,_addComponent:rp,_addOrOverwriteComponent:SM,_apps:vo,_clearComponents:sj,_components:Ju,_getProvider:xM,_isFirebaseApp:AM,_isFirebaseServerApp:Pt,_registerComponent:_o,_removeServiceInstance:ij,_serverApps:Zu,deleteApp:OE,getApp:cj,getApps:uj,initializeApp:ME,initializeServerApp:lj,onLog:DM,registerVersion:Ei,setLogLevel:RM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t){this._delegate=e,this.firebase=t,rp(e,new fs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),OE(this._delegate)))}_getService(e,t=yo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=yo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){rp(this._delegate,e)}_addOrOverwriteComponent(e){SM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},hR=new gc("app-compat","Firebase",Ej);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:Ei,setLogLevel:RM,onLog:DM,apps:null,SDK_VERSION:Mo,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:bj}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||yo,!rR(e,f))throw hR.create("no-app",{appName:f});return e[f]}i.App=n;function s(f,p={}){const y=ME(f,p);if(rR(e,y.name))return e[y.name];const v=new n(y,t);return e[y.name]=v,v}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const p=f.name,y=p.replace("-compat","");if(_o(f)&&f.type==="PUBLIC"){const v=(b=i())=>{if(typeof b[y]!="function")throw hR.create("invalid-app-argument",{appName:p});return b[y]()};f.serviceProps!==void 0&&Ky(v,f.serviceProps),t[y]=v,n.prototype[y]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?t[y]:null}function d(f,p){return p==="serverAuth"?null:p}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){const n=Sj(Tj);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:kM,extendNamespace:e,createSubscribe:_M,ErrorFactory:gc,deepExtend:Ky});function e(t){Ky(n,t)}return n}const xj=kM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Gv("@firebase/app-compat"),Aj="@firebase/app-compat",Ij="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(n){Ei(Aj,Ij,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=DE();if(n.firebase!==void 0){fR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&fR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Od=xj;Dj();var Rj="firebase",Cj="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Od.registerVersion(Rj,Cj,"app-compat");const cf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},gu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function MM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kj=Pj,Mj=MM,OM=new gc("auth","Firebase",MM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Gv("@firebase/auth");function Oj(n,...e){Xy.logLevel<=Ge.WARN&&Xy.warn(`Auth (${Mo}): ${n}`,...e)}function yy(n,...e){Xy.logLevel<=Ge.ERROR&&Xy.error(`Auth (${Mo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(n,...e){throw VE(n,...e)}function bn(n,...e){return VE(n,...e)}function NE(n,e,t){const r=Object.assign(Object.assign({},Mj()),{[e]:t});return new gc("auth","Firebase",r).create(e,{appName:n.name})}function kn(n){return NE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nd(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(n,"argument-error"),NE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function VE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OM.create(n,...e)}function pe(n,e,...t){if(!n)throw VE(e,...t)}function ns(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yy(e),new Error(e)}function xi(n,e){n||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function LE(){return pR()==="http:"||pR()==="https:"}function pR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LE()||mM()||"connection"in navigator)?navigator.onLine:!0}function Vj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=JB()||CE()}get(){return Nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bj=new zp(3e4,6e4);function Xt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Zt(n,e,t,r,i={}){return VM(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Md(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},s);return tU()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&jp(n.emulatorConfig.host)&&(f.credentials="include"),NM.fetch()(await LM(n,n.config.apiHost,t,u),f)})}async function VM(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lj),e);try{const i=new jj(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ef(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ef(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ef(n,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw NE(n,p,f);qn(n,p)}}catch(i){if(i instanceof hr)throw i;qn(n,"network-request-failed",{message:String(i)})}}async function pa(n,e,t,r,i={}){const s=await Zt(n,e,t,r,i);return"mfaPendingCredential"in s&&qn(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function LM(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?FE(n.config,i):`${n.config.apiScheme}://${i}`;return Fj.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function Uj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),Bj.get())})}}function Ef(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=bn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){return n!==void 0&&n.getResponse!==void 0}function gR(n){return n!==void 0&&n.enterprise!==void 0}class FM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(n){return(await Zt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function BM(n,e){return Zt(n,"GET","/v2/recaptchaConfig",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(n,e){return Zt(n,"POST","/v1/accounts:delete",e)}async function qj(n,e){return Zt(n,"POST","/v1/accounts:update",e)}async function Zy(n,e){return Zt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hj(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=Kv(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Of(cb(i.auth_time)),issuedAtTime:Of(cb(i.iat)),expirationTime:Of(cb(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cb(n){return Number(n)*1e3}function Kv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yy("JWT malformed, contained fewer than 3 sections"),null;try{const i=IE(t);return i?JSON.parse(i):(yy("Failed to decode base64 JWT payload"),null)}catch(i){return yy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yR(n){const e=Kv(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hr&&Yj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Yj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Of(this.lastLoginAt),this.creationTime=Of(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(n){var e;const t=n.auth,r=await n.getIdToken(),i=await oa(n,Zy(t,{idToken:r}));pe(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?UM(s.providerUserInfo):[],u=Kj(n.providerData,l),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new rT(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function Gj(n){const e=ke(n);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UM(n){return n.map(e=>{var{providerId:t}=e,r=mE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(n,e){const t=await VM(n,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await LM(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",NM.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xj(n,e){return Zt(n,"POST","/v2/accounts:revokeToken",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=yR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Qj(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Lu;return r&&(pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lu,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=mE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await oa(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hj(this,e)}reload(){return Gj(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pt(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await oa(this,$j(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,f,p;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,C=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:N,emailVerified:q,isAnonymous:z,providerData:Y,stsTokenManager:k}=t;pe(N&&k,e,"internal-error");const D=Lu.fromJSON(this.name,k);pe(typeof N=="string",e,"internal-error"),Ka(y,e.name),Ka(v,e.name),pe(typeof q=="boolean",e,"internal-error"),pe(typeof z=="boolean",e,"internal-error"),Ka(b,e.name),Ka(T,e.name),Ka(A,e.name),Ka(I,e.name),Ka(C,e.name),Ka(V,e.name);const M=new bi({uid:N,auth:e,email:v,emailVerified:q,displayName:y,isAnonymous:z,photoURL:T,phoneNumber:b,tenantId:A,stsTokenManager:D,createdAt:C,lastLoginAt:V});return Y&&Array.isArray(Y)&&(M.providerData=Y.map(L=>Object.assign({},L))),I&&(M._redirectEventId=I),M}static async _fromIdTokenResponse(e,t,r=!1){const i=new Lu;i.updateFromServerResponse(t);const s=new bi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ap(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?UM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Lu;u.updateFromIdToken(r);const d=new bi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Map;function Lr(n){xi(n instanceof Function,"Expected a class definition");let e=vR.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jM.type="NONE";const ed=jM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n,e,t){return`firebase:${n}:${e}:${t}`}class Fu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hl("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zy(this.auth,{idToken:e}).catch(()=>{});return t?bi._fromGetAccountInfoResponse(this.auth,t,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fu(Lr(ed),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Lr(ed);const l=Hl(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const v=await Zy(e,{idToken:p}).catch(()=>{});if(!v)break;y=await bi._fromGetAccountInfoResponse(e,v,p)}else y=bi._fromJSON(e,p);f!==s&&(u=y),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Fu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Fu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YM(e))return"Blackberry";if(WM(e))return"Webos";if($M(e))return"Safari";if((e.includes("chrome/")||qM(e))&&!e.includes("edge/"))return"Chrome";if($p(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zM(n=$t()){return/firefox\//i.test(n)}function $M(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qM(n=$t()){return/crios\//i.test(n)}function HM(n=$t()){return/iemobile/i.test(n)}function $p(n=$t()){return/android/i.test(n)}function YM(n=$t()){return/blackberry/i.test(n)}function WM(n=$t()){return/webos/i.test(n)}function qp(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Zj(n=$t()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Jj(n=$t()){var e;return qp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e8(){return gM()&&document.documentMode===10}function GM(n=$t()){return qp(n)||$p(n)||WM(n)||YM(n)||/windows phone/i.test(n)||HM(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n,e=[]){let t;switch(n){case"Browser":t=_R($t());break;case"Worker":t=`${_R($t())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(n,e={}){return Zt(n,"GET","/v2/passwordPolicy",Xt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=6;class i8{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:r8,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wR(this),this.idTokenSubscription=new wR(this),this.beforeStateQueue=new t8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lr(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Fu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zy(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pt(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pt(this.app))return Promise.reject(kn(this));const t=e?ke(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pt(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pt(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n8(this),t=new i8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Lr(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await Fu.create(this,[Lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Oj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qt(n){return ke(n)}class wR{constructor(e){this.auth=e,this.observer=null,this.addObserver=_M(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a8(n){Hp=n}function BE(n){return Hp.loadJS(n)}function o8(){return Hp.recaptchaV2Script}function l8(){return Hp.recaptchaEnterpriseScript}function c8(){return Hp.gapiScript}function QM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=500,d8=6e4,Hg=1e12;class h8{constructor(e){this.auth=e,this.counter=Hg,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new m8(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Hg;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Hg;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Hg;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class f8{constructor(){this.enterprise=new p8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class p8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class m8{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=g8(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},d8)},u8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function g8(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const y8="recaptcha-enterprise",Nf="NO_RECAPTCHA";class XM{constructor(e){this.type=y8,this.auth=qt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{BM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new FM(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;gR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(Nf)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f8().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&gR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=l8();d.length!==0&&(d+=u),BE(d).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function uf(n,e,t,r=!1,i=!1){const s=new XM(n);let l;if(i)l=Nf;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function co(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uf(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await uf(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await uf(n,e,t);return r(n,u).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const p=await uf(n,e,t,!1,!0);return r(n,p)}return Promise.reject(d)})}else{const u=await uf(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function v8(n){const e=qt(n),t=await BM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new FM(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new XM(e).verify()}function _8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Lr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w8(n,e,t){const r=qt(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=ZM(e),{host:l,port:u}=b8(e),d=u===null?"":`:${u}`,f={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(go(f,r.config.emulator)&&go(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,jp(l)?(hM(`${s}//${l}${d}`),fM("Auth",!0)):i||T8()}function ZM(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function b8(n){const e=ZM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:bR(l)}}}function bR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function T8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,t){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(n,e){return Zt(n,"POST","/v1/accounts:resetPassword",Xt(n,e))}async function E8(n,e){return Zt(n,"POST","/v1/accounts:update",e)}async function S8(n,e){return Zt(n,"POST","/v1/accounts:signUp",e)}async function x8(n,e){return Zt(n,"POST","/v1/accounts:update",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(n,e){return pa(n,"POST","/v1/accounts:signInWithPassword",Xt(n,e))}async function Qv(n,e){return Zt(n,"POST","/v1/accounts:sendOobCode",Xt(n,e))}async function I8(n,e){return Qv(n,e)}async function D8(n,e){return Qv(n,e)}async function R8(n,e){return Qv(n,e)}async function C8(n,e){return Qv(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(n,e){return pa(n,"POST","/v1/accounts:signInWithEmailLink",Xt(n,e))}async function k8(n,e){return pa(n,"POST","/v1/accounts:signInWithEmailLink",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends Vd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new op(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new op(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return co(e,t,"signInWithPassword",A8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return P8(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return co(e,r,"signUpPassword",S8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k8(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(n,e){return pa(n,"POST","/v1/accounts:signInWithIdp",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="http://localhost";class ps extends Vd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=mE(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ps(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Js(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Js(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Js(e,t)}buildRequest(){const e={requestUri:M8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Md(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e){return Zt(n,"POST","/v1/accounts:sendVerificationCode",Xt(n,e))}async function O8(n,e){return pa(n,"POST","/v1/accounts:signInWithPhoneNumber",Xt(n,e))}async function N8(n,e){const t=await pa(n,"POST","/v1/accounts:signInWithPhoneNumber",Xt(n,e));if(t.temporaryProof)throw Ef(n,"account-exists-with-different-credential",t);return t}const V8={USER_NOT_FOUND:"user-not-found"};async function L8(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return pa(n,"POST","/v1/accounts:signInWithPhoneNumber",Xt(n,t),V8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Vd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return O8(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return N8(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return L8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Yl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B8(n){const e=Pu(Tf(n)).link,t=e?Pu(Tf(e)).deep_link_id:null,r=Pu(Tf(n)).deep_link_id;return(r?Pu(Tf(r)).link:null)||r||t||e||n}class Xv{constructor(e){var t,r,i,s,l,u;const d=Pu(Tf(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,y=F8((i=d.mode)!==null&&i!==void 0?i:null);pe(f&&p&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=B8(e);try{return new Xv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,t){return op._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Xv.parseLink(t);return pe(r,"argument-error"),op._fromEmailAndCode(e,r.code,r.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends ma{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bu extends Ld{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in t&&"signInMethod"in t,"argument-error"),ps._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Bu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ld{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ps._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ki.credential(t,r)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ld{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="http://localhost";class td extends Vd{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Js(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Js(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Js(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new td(r,s)}static _create(e,t){return new td(e,t)}buildRequest(){return{requestUri:U8,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="saml.";class Jy extends ma{constructor(e){pe(e.startsWith(j8),"argument-error"),super(e)}static credentialFromResult(e){return Jy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Jy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=td.fromJSON(e);return pe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return td._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Ld{constructor(){super("twitter.com")}static credential(e,t){return ps._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xi.credential(t,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,e){return pa(n,"POST","/v1/accounts:signUp",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await bi._fromIdTokenResponse(e,r,i),l=ER(r);return new di({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=ER(r);return new di({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function ER(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(n){var e;if(Pt(n.app))return Promise.reject(kn(n));const t=qt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new di({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await eO(t,{returnSecureToken:!0}),i=await di._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends hr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ev.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ev(e,t,r,i)}}function tO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ev._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(n,e){const t=ke(n);await Zv(!0,t,e);const{providerUserInfo:r}=await qj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=nO(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function UE(n,e,t=!1){const r=await oa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return di._forOperation(n,"link",r)}async function Zv(n,e,t){await ap(e);const r=nO(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";pe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(n,e,t=!1){const{auth:r}=n;if(Pt(r.app))return Promise.reject(kn(r));const i="reauthenticate";try{const s=await oa(n,tO(r,i,e,n),t);pe(s.idToken,r,"internal-error");const l=Kv(s.idToken);pe(l,r,"internal-error");const{sub:u}=l;return pe(n.uid===u,r,"user-mismatch"),di._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,e,t=!1){if(Pt(n.app))return Promise.reject(kn(n));const r="signIn",i=await tO(n,r,e),s=await di._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Jv(n,e){return iO(qt(n),e)}async function sO(n,e){const t=ke(n);return await Zv(!1,t,e.providerId),UE(t,e)}async function aO(n,e){return rO(ke(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(n,e){return pa(n,"POST","/v1/accounts:signInWithCustomToken",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(n,e){if(Pt(n.app))return Promise.reject(kn(n));const t=qt(n),r=await q8(t,{token:e,returnSecureToken:!0}),i=await di._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jE._fromServerResponse(e,t):"totpInfo"in t?zE._fromServerResponse(e,t):qn(e,"internal-error")}}class jE extends Yp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jE(t)}}class zE extends Yp{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new zE(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(n,e,t){var r;pe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(n){const e=qt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y8(n,e,t){const r=qt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&e_(r,i,t),await co(r,i,"getOobCode",D8,"EMAIL_PASSWORD_PROVIDER")}async function W8(n,e,t){await JM(ke(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$E(n),r})}async function G8(n,e){await x8(ke(n),{oobCode:e})}async function oO(n,e){const t=ke(n),r=await JM(t,{oobCode:e}),i=r.requestType;switch(pe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(r.mfaInfo,t,"internal-error");default:pe(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Yp._fromServerResponse(qt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function K8(n,e){const{data:t}=await oO(ke(n),e);return t.email}async function Q8(n,e,t){if(Pt(n.app))return Promise.reject(kn(n));const r=qt(n),l=await co(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&$E(n),d}),u=await di._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function X8(n,e,t){return Pt(n.app)?Promise.reject(kn(n)):Jv(ke(n),Oo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$E(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(n,e,t){const r=qt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){pe(u.handleCodeInApp,r,"argument-error"),u&&e_(r,l,u)}s(i,t),await co(r,i,"getOobCode",R8,"EMAIL_PASSWORD_PROVIDER")}function J8(n,e){const t=Xv.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function e7(n,e,t){if(Pt(n.app))return Promise.reject(kn(n));const r=ke(n),i=Oo.credentialWithLink(e,t||sp());return pe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Jv(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(n,e){return Zt(n,"POST","/v1/accounts:createAuthUri",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(n,e){const t=LE()?sp():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await t7(ke(n),r);return i||[]}async function r7(n,e){const t=ke(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&e_(t.auth,i,e);const{email:s}=await I8(t.auth,i);s!==n.email&&await n.reload()}async function i7(n,e,t){const r=ke(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&e_(r.auth,s,t);const{email:l}=await C8(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(n,e){return Zt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ke(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await oa(r,s7(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function o7(n,e){const t=ke(n);return Pt(t.auth.app)?Promise.reject(kn(t.auth)):lO(t,e,null)}function l7(n,e){return lO(ke(n),null,e)}async function lO(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await oa(n,E8(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=Kv(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Uu(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new u7(s,i);case"github.com":return new d7(s,i);case"google.com":return new h7(s,i);case"twitter.com":return new f7(s,i,n.screenName||null);case"custom":case"anonymous":return new Uu(s,null);default:return new Uu(s,r,i)}}class Uu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class cO extends Uu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class u7 extends Uu{constructor(e,t){super(e,"facebook.com",t)}}class d7 extends cO{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class h7 extends Uu{constructor(e,t){super(e,"google.com",t)}}class f7 extends cO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function p7(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:c7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Vl("enroll",e,t)}static _fromMfaPendingCredential(e){return new Vl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Vl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Vl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=qt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>Yp._fromServerResponse(r,u));pe(i.mfaPendingCredential,r,"internal-error");const l=Vl._fromMfaPendingCredential(i.mfaPendingCredential);return new qE(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const p=await di._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return pe(t.user,r,"internal-error"),di._forOperation(t.user,t.operationType,f);default:qn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function m7(n,e){var t;const r=ke(n),i=e;return pe(e.customData.operationType,r,"argument-error"),pe((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),qE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e){return Zt(n,"POST","/v2/accounts/mfaEnrollment:start",Xt(n,e))}function g7(n,e){return Zt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(n,e))}function y7(n,e){return Zt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(n,e))}class HE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Yp._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new HE(e)}async getSession(){return Vl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await oa(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await oa(this.user,y7(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ub=new WeakMap;function v7(n){const e=ke(n);return ub.has(e)||ub.set(e,HE._fromUser(e)),ub.get(e)}const tv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tv,"1"),this.storage.removeItem(tv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=1e3,w7=10;class dO extends uO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);e8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w7):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dO.type="LOCAL";const YE=dO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends uO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hO.type="SESSION";const tc=hO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new t_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await b7(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=Wp("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function E7(n){pn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function S7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x7(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function A7(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="firebaseLocalStorageDb",I7=1,nv="firebaseLocalStorage",pO="fbase_key";class Gp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function n_(n,e){return n.transaction([nv],e?"readwrite":"readonly").objectStore(nv)}function D7(){const n=indexedDB.deleteDatabase(fO);return new Gp(n).toPromise()}function iT(){const n=indexedDB.open(fO,I7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(nv,{keyPath:pO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(nv)?e(r):(r.close(),await D7(),e(await iT()))})})}async function xR(n,e,t){const r=n_(n,!0).put({[pO]:e,value:t});return new Gp(r).toPromise()}async function R7(n,e){const t=n_(n,!1).get(e),r=await new Gp(t).toPromise();return r===void 0?null:r.value}function AR(n,e){const t=n_(n,!0).delete(e);return new Gp(t).toPromise()}const C7=800,P7=3;class mO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>P7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t_._getInstance(A7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await S7(),!this.activeServiceWorker)return;this.sender=new T7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iT();return await xR(e,tv,"1"),await AR(e,tv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>R7(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=n_(i,!1).getAll();return new Gp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mO.type="LOCAL";const lp=mO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n,e){return Zt(n,"POST","/v2/accounts/mfaSignIn:start",Xt(n,e))}function k7(n,e){return Zt(n,"POST","/v2/accounts/mfaSignIn:finalize",Xt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=QM("rcb"),M7=new zp(3e4,6e4);class O7{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=pn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return pe(N7(t),e,"argument-error"),this.shouldResolveImmediately(t)&&mR(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((r,i)=>{const s=pn().setTimeout(()=>{i(bn(e,"network-request-failed"))},M7.get());pn()[db]=()=>{pn().clearTimeout(s),delete pn()[db];const u=pn().grecaptcha;if(!u||!mR(u)){i(bn(e,"internal-error"));return}const d=u.render;u.render=(f,p)=>{const y=d(f,p);return this.counter++,y},this.hostLanguage=t,r(u)};const l=`${o8()}?${Md({onload:db,render:"explicit",hl:t})}`;BE(l).catch(()=>{clearTimeout(s),i(bn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=pn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function N7(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class V7{async load(e){return new h8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="recaptcha",L7={theme:"light",type:"image"};let F7=class{constructor(e,t,r=Object.assign({},L7)){this.parameters=r,this.type=Vf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(e),this.isInvisible=this.parameters.size==="invisible",pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;pe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V7:new O7,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=pn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pe(LE()&&!WE(),this.auth,"internal-error"),await B7(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await zj(this.auth);pe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function B7(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Yl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function U7(n,e,t){if(Pt(n.app))return Promise.reject(kn(n));const r=qt(n),i=await r_(r,e,ke(t));return new GE(i,s=>Jv(r,s))}async function j7(n,e,t){const r=ke(n);await Zv(!1,r,"phone");const i=await r_(r.auth,e,ke(t));return new GE(i,s=>sO(r,s))}async function z7(n,e,t){const r=ke(n);if(Pt(r.auth.app))return Promise.reject(kn(r.auth));const i=await r_(r.auth,e,ke(t));return new GE(i,s=>aO(r,s))}async function r_(n,e,t){var r;if(!n._getRecaptchaConfig())try{await v8(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){pe(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await co(n,l,"mfaSmsEnrollment",async(p,y)=>{if(y.phoneEnrollmentInfo.captchaResponse===Nf){pe((t==null?void 0:t.type)===Vf,p,"argument-error");const v=await hb(p,y,t);return SR(p,v)}return SR(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{pe(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;pe(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await co(n,u,"mfaSmsSignIn",async(y,v)=>{if(v.phoneSignInInfo.captchaResponse===Nf){pe((t==null?void 0:t.type)===Vf,y,"argument-error");const b=await hb(y,v,t);return IR(y,b)}return IR(y,v)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await co(n,s,"sendVerificationCode",async(f,p)=>{if(p.captchaResponse===Nf){pe((t==null?void 0:t.type)===Vf,f,"argument-error");const y=await hb(f,p,t);return TR(f,y)}return TR(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function $7(n,e){const t=ke(n);if(Pt(t.auth.app))return Promise.reject(kn(t.auth));await UE(t,e)}async function hb(n,e,t){pe(t.type===Vf,n,"argument-error");const r=await t.verify();pe(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=class vy{constructor(e){this.providerId=vy.PROVIDER_ID,this.auth=qt(e)}verifyPhoneNumber(e,t){return r_(this.auth,e,ke(t))}static credential(e,t){return Yl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return vy.credentialFromTaggedObject(t)}static credentialFromError(e){return vy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Yl._fromTokenResponse(t,r):null}};nc.PROVIDER_ID="phone";nc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n,e){return e?Lr(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Vd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Js(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q7(n){return iO(n.auth,new KE(n),n.bypassAuthState)}function H7(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),rO(t,new KE(n),n.bypassAuthState)}async function Y7(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),UE(t,new KE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q7;case"linkViaPopup":case"linkViaRedirect":return Y7;case"reauthViaPopup":case"reauthViaRedirect":return H7;default:qn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=new zp(2e3,1e4);async function G7(n,e,t){if(Pt(n.app))return Promise.reject(bn(n,"operation-not-supported-in-this-environment"));const r=qt(n);Nd(n,e,ma);const i=yc(r,t);return new Qs(r,"signInViaPopup",e,i).executeNotNull()}async function K7(n,e,t){const r=ke(n);if(Pt(r.auth.app))return Promise.reject(bn(r.auth,"operation-not-supported-in-this-environment"));Nd(r.auth,e,ma);const i=yc(r.auth,t);return new Qs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Q7(n,e,t){const r=ke(n);Nd(r.auth,e,ma);const i=yc(r.auth,t);return new Qs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Qs extends gO{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W7.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="pendingRedirect",Lf=new Map;class Z7 extends gO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const r=await J7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J7(n,e){const t=vO(e),r=yO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function QE(n,e){return yO(n)._set(vO(e),"true")}function ez(){Lf.clear()}function XE(n,e){Lf.set(n._key(),e)}function yO(n){return Lr(n._redirectPersistence)}function vO(n){return Hl(X7,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(n,e,t){return nz(n,e,t)}async function nz(n,e,t){if(Pt(n.app))return Promise.reject(kn(n));const r=qt(n);Nd(n,e,ma),await r._initializationPromise;const i=yc(r,t);return await QE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function rz(n,e,t){return iz(n,e,t)}async function iz(n,e,t){const r=ke(n);if(Nd(r.auth,e,ma),Pt(r.auth.app))return Promise.reject(kn(r.auth));await r.auth._initializationPromise;const i=yc(r.auth,t);await QE(i,r.auth);const s=await _O(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function sz(n,e,t){return az(n,e,t)}async function az(n,e,t){const r=ke(n);Nd(r.auth,e,ma),await r.auth._initializationPromise;const i=yc(r.auth,t);await Zv(!1,r,e.providerId),await QE(i,r.auth);const s=await _O(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function oz(n,e){return await qt(n)._initializationPromise,i_(n,e,!1)}async function i_(n,e,t=!1){if(Pt(n.app))return Promise.reject(kn(n));const r=qt(n),i=yc(r,e),l=await new Z7(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function _O(n){const e=Wp(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=10*60*1e3;class wO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(bn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(DR(e))}saveEventToCache(e){this.cachedEventUids.add(DR(e)),this.lastProcessedEventTime=Date.now()}}function DR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bO({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(n,e={}){return Zt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dz=/^https?/;async function hz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TO(n);for(const t of e)try{if(fz(t))return}catch{}qn(n,"unauthorized-domain")}function fz(n){const e=sp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!dz.test(t))return!1;if(uz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new zp(3e4,6e4);function RR(){const n=pn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mz(n){return new Promise((e,t)=>{var r,i,s;function l(){RR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RR(),t(bn(n,"network-request-failed"))},timeout:pz.get()})}if(!((i=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pn().gapi)===null||s===void 0)&&s.load)l();else{const u=QM("iframefcb");return pn()[u]=()=>{gapi.load?l():t(bn(n,"network-request-failed"))},BE(`${c8()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw _y=null,e})}let _y=null;function gz(n){return _y=_y||mz(n),_y}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new zp(5e3,15e3),vz="__/auth/iframe",_z="emulator/auth/iframe",wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tz(n){const e=n.config;pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?FE(e,_z):`https://${n.config.authDomain}/${vz}`,r={apiKey:e.apiKey,appName:n.name,v:Mo},i=bz.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Md(r).slice(1)}`}async function Ez(n){const e=await gz(n),t=pn().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:Tz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=bn(n,"network-request-failed"),u=pn().setTimeout(()=>{s(l)},yz.get());function d(){pn().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xz=500,Az=600,Iz="_blank",Dz="http://localhost";class CR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rz(n,e,t,r=xz,i=Az){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},Sz),{width:r.toString(),height:i.toString(),top:s,left:l}),f=$t().toLowerCase();t&&(u=qM(f)?Iz:t),zM(f)&&(e=e||Dz,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(Jj(f)&&u!=="_self")return Cz(e||"",u),new CR(null);const y=window.open(e||"",u,p);pe(y,n,"popup-blocked");try{y.focus()}catch{}return new CR(y)}function Cz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz="__/auth/handler",kz="emulator/auth/handler",Mz=encodeURIComponent("fac");async function sT(n,e,t,r,i,s){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Mo,eventId:i};if(e instanceof ma){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",aU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries(s||{}))l[p]=y}if(e instanceof Ld){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${Mz}=${encodeURIComponent(d)}`:"";return`${Oz(n)}?${Md(u).slice(1)}${f}`}function Oz({config:n}){return n.emulator?FE(n,kz):`https://${n.authDomain}/${Pz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="webStorageSupport";class Nz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tc,this._completeRedirectFn=i_,this._overrideRedirectResult=XE}async _openPopup(e,t,r,i){var s;xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await sT(e,t,r,sp(),i);return Rz(e,l,Wp())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await sT(e,t,r,sp(),i);return E7(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ez(e),r=new wO(e);return t.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fb,{type:fb},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fb];l!==void 0&&t(!!l),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GM()||$M()||qp()}}const Vz=Nz;class Lz{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ns("unexpected MultiFactorSessionType")}}}class ZE extends Lz{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ZE(e)}_finalizeEnroll(e,t,r){return g7(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return k7(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class EO{constructor(){}static assertion(e){return ZE._fromCredential(e)}}EO.FACTOR_ID="phone";var PR="@firebase/auth",kR="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uz(n){_o(new fs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KM(n)},f=new s8(r,i,s,d);return _8(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_o(new fs("auth-internal",e=>{const t=qt(e.getProvider("auth").getImmediate());return(r=>new Fz(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(PR,kR,Bz(n)),Ei(PR,kR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=5*60;GB("authIdTokenMaxAge");function zz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}a8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=bn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",zz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uz("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=2e3;async function qz(n,e,t){var r;const{BuildInfo:i}=rc();xi(e.sessionId,"AuthEvent did not contain a session ID");const s=await Kz(e.sessionId),l={};return qp()?l.ibi=i.packageName:$p()?l.apn=i.packageName:qn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,sT(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function Hz(n){const{BuildInfo:e}=rc(),t={};qp()?t.iosBundleId=e.packageName:$p()?t.androidPackageName=e.packageName:qn(n,"operation-not-supported-in-this-environment"),await TO(n,t)}function Yz(n){const{cordova:e}=rc();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,Zj()?"_blank":"_system","location=yes"),t(i)})})}async function Wz(n,e,t){const{cordova:r}=rc();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var y;s();const v=(y=r.plugins.browsertab)===null||y===void 0?void 0:y.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(bn(n,"redirect-cancelled-by-user"))},$z))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),$p()&&document.addEventListener("visibilitychange",p,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),u&&window.clearTimeout(u)}})}finally{i()}}function Gz(n){var e,t,r,i,s,l,u,d,f,p;const y=rc();pe(typeof((e=y==null?void 0:y.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(typeof((t=y==null?void 0:y.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe(typeof((s=(i=(r=y==null?void 0:y.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof((d=(u=(l=y==null?void 0:y.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof((p=(f=y==null?void 0:y.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Kz(n){const e=Qz(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Qz(n){if(xi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=20;class Zz extends wO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Jz(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:n$(),postBody:null,tenantId:n.tenantId,error:bn(n,"no-auth-event")}}function e$(n,e){return aT()._set(oT(n),e)}async function MR(n){const e=await aT()._get(oT(n));return e&&await aT()._remove(oT(n)),e}function t$(n,e){var t,r;const i=i$(e);if(i.includes("/__/auth/callback")){const s=wy(i),l=s.firebaseError?r$(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?bn(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function n$(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Xz;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function aT(){return Lr(YE)}function oT(n){return Hl("authEvent",n.config.apiKey,n.name)}function r$(n){try{return JSON.parse(n)}catch{return null}}function i$(n){const e=wy(n),t=e.link?decodeURIComponent(e.link):void 0,r=wy(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return wy(i).link||i||r||t||n}function wy(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Pu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=500;class a${constructor(){this._redirectPersistence=tc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i_,this._overrideRedirectResult=XE}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Zz(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){qn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){Gz(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),ez(),await this._originValidation(e);const l=Jz(e,r,i);await e$(e,l);const u=await qz(e,l,t),d=await Yz(u);return Wz(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hz(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=rc(),l=setTimeout(async()=>{await MR(e),t.onEvent(OR())},s$),u=async p=>{clearTimeout(l);const y=await MR(e);let v=null;y&&(p!=null&&p.url)&&(v=t$(y,p.url)),t.onEvent(v||OR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,f=`${s.packageName.toLowerCase()}://`;rc().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&u({url:p}),typeof d=="function")try{d(p)}catch(y){console.error(y)}}}}const o$=a$;function OR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(n,e){qt(n)._logFramework(e)}var c$="@firebase/auth-compat",u$="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=1e3;function Ff(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function h$(){return Ff()==="http:"||Ff()==="https:"}function SO(n=$t()){return!!((Ff()==="file:"||Ff()==="ionic:"||Ff()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function f$(){return CE()||Wv()}function p$(){return gM()&&(document==null?void 0:document.documentMode)===11}function m$(n=$t()){return/Edge\/\d+/.test(n)}function g$(n=$t()){return p$()||m$(n)}function xO(){try{const n=self.localStorage,e=Wp();if(n)return n.setItem(e,"1"),n.removeItem(e),g$()?np():!0}catch{return JE()&&np()}return!1}function JE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pb(){return(h$()||mM()||SO())&&!f$()&&xO()&&!JE()}function AO(){return SO()&&typeof document<"u"}async function y$(){return AO()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},d$);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function v$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},df=pe,IO="persistence";function _$(n,e){if(df(Object.values(Vr).includes(e),n,"invalid-persistence-type"),CE()){df(e!==Vr.SESSION,n,"unsupported-persistence-type");return}if(Wv()){df(e===Vr.NONE,n,"unsupported-persistence-type");return}if(JE()){df(e===Vr.NONE||e===Vr.LOCAL&&np(),n,"unsupported-persistence-type");return}df(e===Vr.NONE||xO(),n,"unsupported-persistence-type")}async function lT(n){await n._initializationPromise;const e=DO(),t=Hl(IO,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function w$(n,e){const t=DO();if(!t)return[];const r=Hl(IO,n,e);switch(t.getItem(r)){case Vr.NONE:return[ed];case Vr.LOCAL:return[lp,tc];case Vr.SESSION:return[tc];default:return[]}}function DO(){var n;try{return((n=v$())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=pe;class io{constructor(){this.browserResolver=Lr(Vz),this.cordovaResolver=Lr(o$),this.underlyingResolver=null,this._redirectPersistence=tc,this._completeRedirectFn=i_,this._overrideRedirectResult=XE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return AO()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return b$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await y$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n){return n.unwrap()}function T$(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(n){return CO(n)}function S$(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new x$(n,m7(n,e))}else if(r){const i=CO(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function CO(n){const{_tokenResponse:e}=n instanceof hr?n.customData:n;if(!e)return null;if(!(n instanceof hr)&&"temporaryProof"in e&&"phoneNumber"in e)return nc.credentialFromResult(n);const t=e.providerId;if(!t||t===cf.PASSWORD)return null;let r;switch(t){case cf.GOOGLE:r=Ki;break;case cf.FACEBOOK:r=Gi;break;case cf.GITHUB:r=Qi;break;case cf.TWITTER:r=Xi;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?td._create(t,u):ps._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Bu(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof hr?r.credentialFromError(n):r.credentialFromResult(n)}function wr(n,e){return e.catch(t=>{throw t instanceof hr&&S$(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:E$(t),additionalUserInfo:p7(t),user:s_.getOrCreate(i)}})}async function cT(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>wr(n,t.confirm(r))}}class x${constructor(e,t){this.resolver=t,this.auth=T$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return wr(RO(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_=class Sf{constructor(e){this._delegate=e,this.multiFactor=v7(e)}static getOrCreate(e){return Sf.USER_MAP.has(e)||Sf.USER_MAP.set(e,new Sf(e)),Sf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return wr(this.auth,sO(this._delegate,e))}async linkWithPhoneNumber(e,t){return cT(this.auth,j7(this._delegate,e,t))}async linkWithPopup(e){return wr(this.auth,Q7(this._delegate,e,io))}async linkWithRedirect(e){return await lT(qt(this.auth)),sz(this._delegate,e,io)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return wr(this.auth,aO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cT(this.auth,z7(this._delegate,e,t))}reauthenticateWithPopup(e){return wr(this.auth,K7(this._delegate,e,io))}async reauthenticateWithRedirect(e){return await lT(qt(this.auth)),rz(this._delegate,e,io)}sendEmailVerification(e){return r7(this._delegate,e)}async unlink(e){return await $8(this._delegate,e),this}updateEmail(e){return o7(this._delegate,e)}updatePassword(e){return l7(this._delegate,e)}updatePhoneNumber(e){return $7(this._delegate,e)}updateProfile(e){return a7(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return i7(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};s_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=pe;class uT{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;hf(r,"invalid-api-key",{appName:e.name}),hf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?io:void 0;this._delegate=t.initialize({options:{persistence:A$(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(kj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?s_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){w8(this._delegate,e,t)}applyActionCode(e){return G8(this._delegate,e)}checkActionCode(e){return oO(this._delegate,e)}confirmPasswordReset(e,t){return W8(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return wr(this._delegate,Q8(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return n7(this._delegate,e)}isSignInWithEmailLink(e){return J8(this._delegate,e)}async getRedirectResult(){hf(pb(),this._delegate,"operation-not-supported-in-this-environment");const e=await oz(this._delegate,io);return e?wr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){l$(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=NR(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=NR(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return Z8(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Y8(this._delegate,e,t||void 0)}async setPersistence(e){_$(this._delegate,e);let t;switch(e){case Vr.SESSION:t=tc;break;case Vr.LOCAL:t=await Lr(lp)._isAvailable()?lp:YE;break;case Vr.NONE:t=ed;break;default:return qn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return wr(this._delegate,z8(this._delegate))}signInWithCredential(e){return wr(this._delegate,Jv(this._delegate,e))}signInWithCustomToken(e){return wr(this._delegate,H8(this._delegate,e))}signInWithEmailAndPassword(e,t){return wr(this._delegate,X8(this._delegate,e,t))}signInWithEmailLink(e,t){return wr(this._delegate,e7(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cT(this._delegate,U7(this._delegate,e,t))}async signInWithPopup(e){return hf(pb(),this._delegate,"operation-not-supported-in-this-environment"),wr(this._delegate,G7(this._delegate,e,io))}async signInWithRedirect(e){return hf(pb(),this._delegate,"operation-not-supported-in-this-environment"),await lT(this._delegate),tz(this._delegate,e,io)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return K8(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}uT.Persistence=Vr;function NR(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&s_.getOrCreate(l)),error:e,complete:t}}function A$(n,e){const t=w$(n,e);if(typeof self<"u"&&!t.includes(lp)&&t.push(lp),typeof window<"u")for(const r of[YE,tc])t.includes(r)||t.push(r);return t.includes(ed)||t.push(ed),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{static credential(e,t){return nc.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new nc(RO(Od.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}e1.PHONE_SIGN_IN_METHOD=nc.PHONE_SIGN_IN_METHOD;e1.PROVIDER_ID=nc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=pe;class D${constructor(e,t,r=Od.app()){var i;I$((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new F7(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="auth-compat";function C$(n){n.INTERNAL.registerComponent(new fs(R$,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new uT(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gu.EMAIL_SIGNIN,PASSWORD_RESET:gu.PASSWORD_RESET,RECOVER_EMAIL:gu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:gu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:gu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:gu.VERIFY_EMAIL}},EmailAuthProvider:Oo,FacebookAuthProvider:Gi,GithubAuthProvider:Qi,GoogleAuthProvider:Ki,OAuthProvider:Bu,SAMLAuthProvider:Jy,PhoneAuthProvider:e1,PhoneMultiFactorGenerator:EO,RecaptchaVerifier:D$,TwitterAuthProvider:Xi,Auth:uT,AuthCredential:Vd,Error:hr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(c$,u$)}C$(Od);var VR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,PO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,D){function M(){}M.prototype=D.prototype,k.D=D.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(L,j,$){for(var F=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)F[Ve-2]=arguments[Ve];return D.prototype[j].apply(L,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,D,M){M||(M=0);var L=Array(16);if(typeof D=="string")for(var j=0;16>j;++j)L[j]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(j=0;16>j;++j)L[j]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=k.g[0],M=k.g[1],j=k.g[2];var $=k.g[3],F=D+($^M&(j^$))+L[0]+3614090360&4294967295;D=M+(F<<7&4294967295|F>>>25),F=$+(j^D&(M^j))+L[1]+3905402710&4294967295,$=D+(F<<12&4294967295|F>>>20),F=j+(M^$&(D^M))+L[2]+606105819&4294967295,j=$+(F<<17&4294967295|F>>>15),F=M+(D^j&($^D))+L[3]+3250441966&4294967295,M=j+(F<<22&4294967295|F>>>10),F=D+($^M&(j^$))+L[4]+4118548399&4294967295,D=M+(F<<7&4294967295|F>>>25),F=$+(j^D&(M^j))+L[5]+1200080426&4294967295,$=D+(F<<12&4294967295|F>>>20),F=j+(M^$&(D^M))+L[6]+2821735955&4294967295,j=$+(F<<17&4294967295|F>>>15),F=M+(D^j&($^D))+L[7]+4249261313&4294967295,M=j+(F<<22&4294967295|F>>>10),F=D+($^M&(j^$))+L[8]+1770035416&4294967295,D=M+(F<<7&4294967295|F>>>25),F=$+(j^D&(M^j))+L[9]+2336552879&4294967295,$=D+(F<<12&4294967295|F>>>20),F=j+(M^$&(D^M))+L[10]+4294925233&4294967295,j=$+(F<<17&4294967295|F>>>15),F=M+(D^j&($^D))+L[11]+2304563134&4294967295,M=j+(F<<22&4294967295|F>>>10),F=D+($^M&(j^$))+L[12]+1804603682&4294967295,D=M+(F<<7&4294967295|F>>>25),F=$+(j^D&(M^j))+L[13]+4254626195&4294967295,$=D+(F<<12&4294967295|F>>>20),F=j+(M^$&(D^M))+L[14]+2792965006&4294967295,j=$+(F<<17&4294967295|F>>>15),F=M+(D^j&($^D))+L[15]+1236535329&4294967295,M=j+(F<<22&4294967295|F>>>10),F=D+(j^$&(M^j))+L[1]+4129170786&4294967295,D=M+(F<<5&4294967295|F>>>27),F=$+(M^j&(D^M))+L[6]+3225465664&4294967295,$=D+(F<<9&4294967295|F>>>23),F=j+(D^M&($^D))+L[11]+643717713&4294967295,j=$+(F<<14&4294967295|F>>>18),F=M+($^D&(j^$))+L[0]+3921069994&4294967295,M=j+(F<<20&4294967295|F>>>12),F=D+(j^$&(M^j))+L[5]+3593408605&4294967295,D=M+(F<<5&4294967295|F>>>27),F=$+(M^j&(D^M))+L[10]+38016083&4294967295,$=D+(F<<9&4294967295|F>>>23),F=j+(D^M&($^D))+L[15]+3634488961&4294967295,j=$+(F<<14&4294967295|F>>>18),F=M+($^D&(j^$))+L[4]+3889429448&4294967295,M=j+(F<<20&4294967295|F>>>12),F=D+(j^$&(M^j))+L[9]+568446438&4294967295,D=M+(F<<5&4294967295|F>>>27),F=$+(M^j&(D^M))+L[14]+3275163606&4294967295,$=D+(F<<9&4294967295|F>>>23),F=j+(D^M&($^D))+L[3]+4107603335&4294967295,j=$+(F<<14&4294967295|F>>>18),F=M+($^D&(j^$))+L[8]+1163531501&4294967295,M=j+(F<<20&4294967295|F>>>12),F=D+(j^$&(M^j))+L[13]+2850285829&4294967295,D=M+(F<<5&4294967295|F>>>27),F=$+(M^j&(D^M))+L[2]+4243563512&4294967295,$=D+(F<<9&4294967295|F>>>23),F=j+(D^M&($^D))+L[7]+1735328473&4294967295,j=$+(F<<14&4294967295|F>>>18),F=M+($^D&(j^$))+L[12]+2368359562&4294967295,M=j+(F<<20&4294967295|F>>>12),F=D+(M^j^$)+L[5]+4294588738&4294967295,D=M+(F<<4&4294967295|F>>>28),F=$+(D^M^j)+L[8]+2272392833&4294967295,$=D+(F<<11&4294967295|F>>>21),F=j+($^D^M)+L[11]+1839030562&4294967295,j=$+(F<<16&4294967295|F>>>16),F=M+(j^$^D)+L[14]+4259657740&4294967295,M=j+(F<<23&4294967295|F>>>9),F=D+(M^j^$)+L[1]+2763975236&4294967295,D=M+(F<<4&4294967295|F>>>28),F=$+(D^M^j)+L[4]+1272893353&4294967295,$=D+(F<<11&4294967295|F>>>21),F=j+($^D^M)+L[7]+4139469664&4294967295,j=$+(F<<16&4294967295|F>>>16),F=M+(j^$^D)+L[10]+3200236656&4294967295,M=j+(F<<23&4294967295|F>>>9),F=D+(M^j^$)+L[13]+681279174&4294967295,D=M+(F<<4&4294967295|F>>>28),F=$+(D^M^j)+L[0]+3936430074&4294967295,$=D+(F<<11&4294967295|F>>>21),F=j+($^D^M)+L[3]+3572445317&4294967295,j=$+(F<<16&4294967295|F>>>16),F=M+(j^$^D)+L[6]+76029189&4294967295,M=j+(F<<23&4294967295|F>>>9),F=D+(M^j^$)+L[9]+3654602809&4294967295,D=M+(F<<4&4294967295|F>>>28),F=$+(D^M^j)+L[12]+3873151461&4294967295,$=D+(F<<11&4294967295|F>>>21),F=j+($^D^M)+L[15]+530742520&4294967295,j=$+(F<<16&4294967295|F>>>16),F=M+(j^$^D)+L[2]+3299628645&4294967295,M=j+(F<<23&4294967295|F>>>9),F=D+(j^(M|~$))+L[0]+4096336452&4294967295,D=M+(F<<6&4294967295|F>>>26),F=$+(M^(D|~j))+L[7]+1126891415&4294967295,$=D+(F<<10&4294967295|F>>>22),F=j+(D^($|~M))+L[14]+2878612391&4294967295,j=$+(F<<15&4294967295|F>>>17),F=M+($^(j|~D))+L[5]+4237533241&4294967295,M=j+(F<<21&4294967295|F>>>11),F=D+(j^(M|~$))+L[12]+1700485571&4294967295,D=M+(F<<6&4294967295|F>>>26),F=$+(M^(D|~j))+L[3]+2399980690&4294967295,$=D+(F<<10&4294967295|F>>>22),F=j+(D^($|~M))+L[10]+4293915773&4294967295,j=$+(F<<15&4294967295|F>>>17),F=M+($^(j|~D))+L[1]+2240044497&4294967295,M=j+(F<<21&4294967295|F>>>11),F=D+(j^(M|~$))+L[8]+1873313359&4294967295,D=M+(F<<6&4294967295|F>>>26),F=$+(M^(D|~j))+L[15]+4264355552&4294967295,$=D+(F<<10&4294967295|F>>>22),F=j+(D^($|~M))+L[6]+2734768916&4294967295,j=$+(F<<15&4294967295|F>>>17),F=M+($^(j|~D))+L[13]+1309151649&4294967295,M=j+(F<<21&4294967295|F>>>11),F=D+(j^(M|~$))+L[4]+4149444226&4294967295,D=M+(F<<6&4294967295|F>>>26),F=$+(M^(D|~j))+L[11]+3174756917&4294967295,$=D+(F<<10&4294967295|F>>>22),F=j+(D^($|~M))+L[2]+718787259&4294967295,j=$+(F<<15&4294967295|F>>>17),F=M+($^(j|~D))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(j+(F<<21&4294967295|F>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+$&4294967295}r.prototype.u=function(k,D){D===void 0&&(D=k.length);for(var M=D-this.blockSize,L=this.B,j=this.h,$=0;$<D;){if(j==0)for(;$<=M;)i(this,k,$),$+=this.blockSize;if(typeof k=="string"){for(;$<D;)if(L[j++]=k.charCodeAt($++),j==this.blockSize){i(this,L),j=0;break}}else for(;$<D;)if(L[j++]=k[$++],j==this.blockSize){i(this,L),j=0;break}}this.h=j,this.o+=D},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;var M=8*this.o;for(D=k.length-8;D<k.length;++D)k[D]=M&255,M/=256;for(this.u(k),k=Array(16),D=M=0;4>D;++D)for(var L=0;32>L;L+=8)k[M++]=this.g[D]>>>L&255;return k};function s(k,D){var M=u;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=D(k)}function l(k,D){this.h=D;for(var M=[],L=!0,j=k.length-1;0<=j;j--){var $=k[j]|0;L&&$==D||(M[j]=$,L=!1)}this.g=M}var u={};function d(k){return-128<=k&&128>k?s(k,function(D){return new l([D|0],0>D?-1:0)}):new l([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return I(f(-k));for(var D=[],M=1,L=0;k>=M;L++)D[L]=k/M|0,M*=4294967296;return new l(D,0)}function p(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return I(p(k.substring(1),D));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(D,8)),L=y,j=0;j<k.length;j+=8){var $=Math.min(8,k.length-j),F=parseInt(k.substring(j,j+$),D);8>$?($=f(Math.pow(D,$)),L=L.j($).add(f(F))):(L=L.j(M),L=L.add(f(F)))}return L}var y=d(0),v=d(1),b=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-I(this).m();for(var k=0,D=1,M=0;M<this.g.length;M++){var L=this.i(M);k+=(0<=L?L:4294967296+L)*D,D*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(A(this))return"-"+I(this).toString(k);for(var D=f(Math.pow(k,6)),M=this,L="";;){var j=q(M,D).g;M=C(M,j.j(D));var $=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=j,T(M))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=C(this,k),A(k)?-1:T(k)?0:1};function I(k){for(var D=k.g.length,M=[],L=0;L<D;L++)M[L]=~k.g[L];return new l(M,~k.h).add(v)}n.abs=function(){return A(this)?I(this):this},n.add=function(k){for(var D=Math.max(this.g.length,k.g.length),M=[],L=0,j=0;j<=D;j++){var $=L+(this.i(j)&65535)+(k.i(j)&65535),F=($>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);L=F>>>16,$&=65535,F&=65535,M[j]=F<<16|$}return new l(M,M[M.length-1]&-2147483648?-1:0)};function C(k,D){return k.add(I(D))}n.j=function(k){if(T(this)||T(k))return y;if(A(this))return A(k)?I(this).j(I(k)):I(I(this).j(k));if(A(k))return I(this.j(I(k)));if(0>this.l(b)&&0>k.l(b))return f(this.m()*k.m());for(var D=this.g.length+k.g.length,M=[],L=0;L<2*D;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<k.g.length;j++){var $=this.i(L)>>>16,F=this.i(L)&65535,Ve=k.i(j)>>>16,Ie=k.i(j)&65535;M[2*L+2*j]+=F*Ie,V(M,2*L+2*j),M[2*L+2*j+1]+=$*Ie,V(M,2*L+2*j+1),M[2*L+2*j+1]+=F*Ve,V(M,2*L+2*j+1),M[2*L+2*j+2]+=$*Ve,V(M,2*L+2*j+2)}for(L=0;L<D;L++)M[L]=M[2*L+1]<<16|M[2*L];for(L=D;L<2*D;L++)M[L]=0;return new l(M,0)};function V(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function N(k,D){this.g=k,this.h=D}function q(k,D){if(T(D))throw Error("division by zero");if(T(k))return new N(y,y);if(A(k))return D=q(I(k),D),new N(I(D.g),I(D.h));if(A(D))return D=q(k,I(D)),new N(I(D.g),D.h);if(30<k.g.length){if(A(k)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var M=v,L=D;0>=L.l(k);)M=z(M),L=z(L);var j=Y(M,1),$=Y(L,1);for(L=Y(L,2),M=Y(M,2);!T(L);){var F=$.add(L);0>=F.l(k)&&(j=j.add(M),$=F),L=Y(L,1),M=Y(M,1)}return D=C(k,j.j(D)),new N(j,D)}for(j=y;0<=k.l(D);){for(M=Math.max(1,Math.floor(k.m()/D.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=f(M),F=$.j(D);A(F)||0<F.l(k);)M-=L,$=f(M),F=$.j(D);T($)&&($=v),j=j.add($),k=C(k,F)}return new N(j,k)}n.A=function(k){return q(this,k).h},n.and=function(k){for(var D=Math.max(this.g.length,k.g.length),M=[],L=0;L<D;L++)M[L]=this.i(L)&k.i(L);return new l(M,this.h&k.h)},n.or=function(k){for(var D=Math.max(this.g.length,k.g.length),M=[],L=0;L<D;L++)M[L]=this.i(L)|k.i(L);return new l(M,this.h|k.h)},n.xor=function(k){for(var D=Math.max(this.g.length,k.g.length),M=[],L=0;L<D;L++)M[L]=this.i(L)^k.i(L);return new l(M,this.h^k.h)};function z(k){for(var D=k.g.length+1,M=[],L=0;L<D;L++)M[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(M,k.h)}function Y(k,D){var M=D>>5;D%=32;for(var L=k.g.length-M,j=[],$=0;$<L;$++)j[$]=0<D?k.i($+M)>>>D|k.i($+M+1)<<32-D:k.i($+M);return new l(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PO=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,uo=l}).apply(typeof VR<"u"?VR:typeof self<"u"?self:typeof window<"u"?window:{});var Yg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kO,xf,MO,by,dT,OO,NO,VO;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,E){return m==Array.prototype||m==Object.prototype||(m[w]=E.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yg=="object"&&Yg];for(var w=0;w<m.length;++w){var E=m[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(m,w){if(w)e:{var E=r;m=m.split(".");for(var O=0;O<m.length-1;O++){var Q=m[O];if(!(Q in E))break e;E=E[Q]}m=m[m.length-1],O=E[m],w=w(O),w!=O&&w!=null&&e(E,m,{configurable:!0,writable:!0,value:w})}}function s(m,w){m instanceof String&&(m+="");var E=0,O=!1,Q={next:function(){if(!O&&E<m.length){var re=E++;return{value:w(re,m[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(m){return m||function(){return s(this,function(w,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function f(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,E){return m.call.apply(m.bind,arguments)}function y(m,w,E){if(!m)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),m.apply(w,Q)}}return function(){return m.apply(w,arguments)}}function v(m,w,E){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function b(m,w){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function T(m,w){function E(){}E.prototype=w.prototype,m.aa=w.prototype,m.prototype=new E,m.prototype.constructor=m,m.Qb=function(O,Q,re){for(var ye=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ye[Xe-2]=arguments[Xe];return w.prototype[Q].apply(O,ye)}}function A(m){const w=m.length;if(0<w){const E=Array(w);for(let O=0;O<w;O++)E[O]=m[O];return E}return[]}function I(m,w){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(d(O)){const Q=m.length||0,re=O.length||0;m.length=Q+re;for(let ye=0;ye<re;ye++)m[Q+ye]=O[ye]}else m.push(O)}}class C{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var z=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Y(m,w,E){for(const O in m)w.call(E,m[O],O,m)}function k(m,w){for(const E in m)w.call(void 0,m[E],E,m)}function D(m){const w={};for(const E in m)w[E]=m[E];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,w){let E,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(E in O)m[E]=O[E];for(let re=0;re<M.length;re++)E=M[re],Object.prototype.hasOwnProperty.call(O,E)&&(m[E]=O[E])}}function j(m){var w=1;m=m.split(":");const E=[];for(;0<w&&m.length;)E.push(m.shift()),w--;return m.length&&E.push(m.join(":")),E}function $(m){u.setTimeout(()=>{throw m},0)}function F(){var m=Ee;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class Ve{constructor(){this.h=this.g=null}add(w,E){const O=Ie.get();O.set(w,E),this.h?this.h.next=O:this.g=O,this.h=O}}var Ie=new C(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,de=!1,Ee=new Ve,U=()=>{const m=u.Promise.resolve(void 0);ie=()=>{m.then(oe)}};var oe=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(E){$(E)}var w=Ie;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}de=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};u.addEventListener("test",E,w),u.removeEventListener("test",E,w)}catch{}return m}();function Be(m,w){if(me.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var E=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(z){e:{try{q(w.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(w=null)}}else E=="mouseover"?w=m.fromElement:E=="mouseout"&&(w=m.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Pe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Be.aa.h.call(this)}}T(Be,me);var Pe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function En(m,w,E,O,Q){this.listener=m,this.proxy=null,this.src=w,this.type=E,this.capture=!!O,this.ha=Q,this.key=++rt,this.da=this.fa=!1}function jr(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function gr(m){this.src=m,this.g={},this.h=0}gr.prototype.add=function(m,w,E,O,Q){var re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);var ye=jo(m,w,O,Q);return-1<ye?(w=m[ye],E||(w.fa=!1)):(w=new En(w,this.src,re,!!O,Q),w.fa=E,m.push(w)),w};function Hn(m,w){var E=w.type;if(E in m.g){var O=m.g[E],Q=Array.prototype.indexOf.call(O,w,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(O,Q,1),re&&(jr(w),m.g[E].length==0&&(delete m.g[E],m.h--))}}function jo(m,w,E,O){for(var Q=0;Q<m.length;++Q){var re=m[Q];if(!re.da&&re.listener==w&&re.capture==!!E&&re.ha==O)return Q}return-1}var zo="closure_lm_"+(1e6*Math.random()|0),Qd={};function vm(m,w,E,O,Q){if(Array.isArray(w)){for(var re=0;re<w.length;re++)vm(m,w[re],E,O,Q);return null}return E=_m(E),m&&m[Vt]?m.K(w,E,f(O)?!!O.capture:!1,Q):zr(m,w,E,!1,O,Q)}function zr(m,w,E,O,Q,re){if(!w)throw Error("Invalid event type");var ye=f(Q)?!!Q.capture:!!Q,Xe=Sc(m);if(Xe||(m[zo]=Xe=new gr(m)),E=Xe.add(w,E,O,ye,re),E.proxy)return E;if(O=Y_(),E.proxy=O,O.src=m,O.listener=E,m.addEventListener)Re||(Q=ye),Q===void 0&&(Q=!1),m.addEventListener(w.toString(),O,Q);else if(m.attachEvent)m.attachEvent($o(w.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Y_(){function m(E){return w.call(m.src,m.listener,E)}const w=W_;return m}function Xd(m,w,E,O,Q){if(Array.isArray(w))for(var re=0;re<w.length;re++)Xd(m,w[re],E,O,Q);else O=f(O)?!!O.capture:!!O,E=_m(E),m&&m[Vt]?(m=m.i,w=String(w).toString(),w in m.g&&(re=m.g[w],E=jo(re,E,O,Q),-1<E&&(jr(re[E]),Array.prototype.splice.call(re,E,1),re.length==0&&(delete m.g[w],m.h--)))):m&&(m=Sc(m))&&(w=m.g[w.toString()],m=-1,w&&(m=jo(w,E,O,Q)),(E=-1<m?w[m]:null)&&Ec(E))}function Ec(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Vt])Hn(w.i,m);else{var E=m.type,O=m.proxy;w.removeEventListener?w.removeEventListener(E,O,m.capture):w.detachEvent?w.detachEvent($o(E),O):w.addListener&&w.removeListener&&w.removeListener(O),(E=Sc(w))?(Hn(E,m),E.h==0&&(E.src=null,w[zo]=null)):jr(m)}}}function $o(m){return m in Qd?Qd[m]:Qd[m]="on"+m}function W_(m,w){if(m.da)m=!0;else{w=new Be(w,this);var E=m.listener,O=m.ha||m.src;m.fa&&Ec(m),m=E.call(O,w)}return m}function Sc(m){return m=m[zo],m instanceof gr?m:null}var Zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function _m(m){return typeof m=="function"?m:(m[Zd]||(m[Zd]=function(w){return m.handleEvent(w)}),m[Zd])}function Ht(){ge.call(this),this.i=new gr(this),this.M=this,this.F=null}T(Ht,ge),Ht.prototype[Vt]=!0,Ht.prototype.removeEventListener=function(m,w,E,O){Xd(this,m,w,E,O)};function dt(m,w){var E,O=m.F;if(O)for(E=[];O;O=O.F)E.push(O);if(m=m.M,O=w.type||w,typeof w=="string")w=new me(w,m);else if(w instanceof me)w.target=w.target||m;else{var Q=w;w=new me(O,m),L(w,Q)}if(Q=!0,E)for(var re=E.length-1;0<=re;re--){var ye=w.g=E[re];Q=xr(ye,O,!0,w)&&Q}if(ye=w.g=m,Q=xr(ye,O,!0,w)&&Q,Q=xr(ye,O,!1,w)&&Q,E)for(re=0;re<E.length;re++)ye=w.g=E[re],Q=xr(ye,O,!1,w)&&Q}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var E=m.g[w],O=0;O<E.length;O++)jr(E[O]);delete m.g[w],m.h--}}this.F=null},Ht.prototype.K=function(m,w,E,O){return this.i.add(String(m),w,!1,E,O)},Ht.prototype.L=function(m,w,E,O){return this.i.add(String(m),w,!0,E,O)};function xr(m,w,E,O){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,re=0;re<w.length;++re){var ye=w[re];if(ye&&!ye.da&&ye.capture==E){var Xe=ye.listener,yn=ye.ha||ye.src;ye.fa&&Hn(m.i,ye),Q=Xe.call(yn,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function Yn(m,w,E){if(typeof m=="function")E&&(m=v(m,E));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(m,w||0)}function wm(m){m.g=Yn(()=>{m.g=null,m.i&&(m.i=!1,wm(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class G_ extends ge{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:wm(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(m){ge.call(this),this.h=m,this.g={}}T(qo,ge);var Ho=[];function Yo(m){Y(m.g,function(w,E){this.g.hasOwnProperty(E)&&Ec(w)},m),m.g={}}qo.prototype.N=function(){qo.aa.N.call(this),Yo(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=u.JSON.stringify,xc=u.JSON.parse,Wo=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Jd(){}Jd.prototype.h=null;function eh(m){return m.h||(m.h=m.i())}function th(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){me.call(this,"d")}T(xs,me);function nh(){me.call(this,"c")}T(nh,me);var Ii={},rh=null;function ba(){return rh=rh||new Ht}Ii.La="serverreachability";function Ac(m){me.call(this,Ii.La,m)}T(Ac,me);function Ta(m){const w=ba();dt(w,new Ac(w))}Ii.STAT_EVENT="statevent";function bm(m,w){me.call(this,Ii.STAT_EVENT,m),this.stat=w}T(bm,me);function Dt(m){const w=ba();dt(w,new bm(w,m))}Ii.Ma="timingevent";function gn(m,w){me.call(this,Ii.Ma,m),this.size=w}T(gn,me);function cn(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},w)}function $r(){this.g=!0}$r.prototype.xa=function(){this.g=!1};function ih(m,w,E,O,Q,re){m.info(function(){if(m.g)if(re)for(var ye="",Xe=re.split("&"),yn=0;yn<Xe.length;yn++){var Ze=Xe[yn].split("=");if(1<Ze.length){var xn=Ze[0];Ze=Ze[1];var vn=xn.split("_");ye=2<=vn.length&&vn[1]=="type"?ye+(xn+"="+Ze+"&"):ye+(xn+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+w+`
`+E+`
`+ye})}function K_(m,w,E,O,Q,re,ye){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+w+`
`+E+`
`+re+" "+ye})}function Ea(m,w,E,O){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Go(m,E)+(O?" "+O:"")})}function Tm(m,w){m.info(function(){return"TIMEOUT: "+w})}$r.prototype.info=function(){};function Go(m,w){if(!m.g)return w;if(!w)return null;try{var E=JSON.parse(w);if(E){for(m=0;m<E.length;m++)if(Array.isArray(E[m])){var O=E[m];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return fi(E)}catch{return w}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},As={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Di;function Ri(){}T(Ri,Jd),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Di=new Ri;function rr(m,w,E,O){this.j=m,this.i=w,this.l=E,this.R=O||1,this.U=new qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var sh={},Ic={};function pi(m,w,E){m.L=1,m.v=Jo(Ar(w)),m.m=E,m.P=!0,Is(m,null)}function Is(m,w){m.F=Date.now(),Ko(m),m.A=Ar(m.v);var E=m.A,O=m.R;Array.isArray(O)||(O=[String(O)]),dh(E.i,"t",O),m.C=0,E=m.j.J,m.h=new Jt,m.g=Fm(m.j,E?w:null,!m.m),0<m.O&&(m.M=new G_(v(m.Y,m,m.g),m.O)),w=m.U,E=m.g,O=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ho[0]=Q.toString()),Q=Ho);for(var re=0;re<Q.length;re++){var ye=vm(E,Q[re],O||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ta(),ih(m.i,m.u,m.A,m.l,m.R,m.m)}rr.prototype.ca=function(m){m=m.target;const w=this.M;w&&Wr(m)==3?w.j():this.Y(m)},rr.prototype.Y=function(m){try{if(m==this.g)e:{const vn=Wr(this.g);var w=this.g.Ba();const Ns=this.g.Z();if(!(3>vn)&&(vn!=3||this.g&&(this.h.h||this.g.oa()||Cm(this.g)))){this.J||vn!=4||w==7||(w==8||0>=Ns?Ta(3):Ta(2)),xa(this);var E=this.g.Z();this.X=E;t:if(Em(this)){var O=Cm(this.g);m="";var Q=O.length,re=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),Ci(this);var ye="";break t}this.h.i=new u.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,m+=this.h.i.decode(O[w],{stream:!(re&&w==Q-1)});O.length=0,this.h.g+=m,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,K_(this.i,this.u,this.A,this.l,this.R,vn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,yn=this.g;if((Xe=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Xe)){var Ze=Xe;break t}}Ze=null}if(E=Ze)Ea(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qo(this,E);else{this.o=!1,this.s=3,Dt(12),On(this),Ci(this);break e}}if(this.P){E=!0;let Nn;for(;!this.J&&this.C<ye.length;)if(Nn=Sm(this,ye),Nn==Ic){vn==4&&(this.s=4,Dt(14),E=!1),Ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==sh){this.s=4,Dt(15),Ea(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else Ea(this.i,this.l,Nn,null),Qo(this,Nn);if(Em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vn!=4||ye.length!=0||this.h.h||(this.s=1,Dt(16),E=!1),this.o=this.o&&E,!E)Ea(this.i,this.l,ye,"[Invalid Chunked Response]"),On(this),Ci(this);else if(0<ye.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ol(xn),xn.M=!0,Dt(11))}}else Ea(this.i,this.l,ye,null),Qo(this,ye);vn==4&&On(this),this.o&&!this.J&&(vn==4?Nm(this.j,this):(this.o=!1,Ko(this)))}else e0(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),On(this),Ci(this)}}}catch{}finally{}};function Em(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Sm(m,w){var E=m.C,O=w.indexOf(`
`,E);return O==-1?Ic:(E=Number(w.substring(E,O)),isNaN(E)?sh:(O+=1,O+E>w.length?Ic:(w=w.slice(O,O+E),m.C=O+E,w)))}rr.prototype.cancel=function(){this.J=!0,On(this)};function Ko(m){m.S=Date.now()+m.I,xm(m,m.I)}function xm(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=cn(v(m.ba,m),w)}function xa(m){m.B&&(u.clearTimeout(m.B),m.B=null)}rr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Tm(this.i,this.A),this.L!=2&&(Ta(),Dt(17)),On(this),this.s=2,Ci(this)):xm(this,this.S-m)};function Ci(m){m.j.G==0||m.J||Nm(m.j,m)}function On(m){xa(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Yo(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function Qo(m,w){try{var E=m.j;if(E.G!=0&&(E.g==m||ah(E.h,m))){if(!m.K&&ah(E.h,m)&&E.G==3){try{var O=E.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<m.F)Bc(E),Lc(E);else break e;gh(E),Dt(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=cn(v(E.Za,E),6e3));if(1>=Rc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Os(E,11)}else if((m.K||E.g==m)&&Bc(E),!V(w))for(Q=E.Da.g.parse(w),w=0;w<Q.length;w++){let Ze=Q[w];if(E.T=Ze[0],Ze=Ze[1],E.G==2)if(Ze[0]=="c"){E.K=Ze[1],E.ia=Ze[2];const xn=Ze[3];xn!=null&&(E.la=xn,E.j.info("VER="+E.la));const vn=Ze[4];vn!=null&&(E.Aa=vn,E.j.info("SVER="+E.Aa));const Ns=Ze[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(O=1.5*Ns,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Nn=m.g;if(Nn){const Li=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var re=O.h;re.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Cc(re,re.h),re.h=null))}if(O.D){const vh=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(O.ya=vh,vt(O.I,O.D,vh))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-m.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var ye=m;if(O.qa=Lm(O,O.J?O.ia:null,O.W),ye.K){ir(O.h,ye);var Xe=ye,yn=O.L;yn&&(Xe.I=yn),Xe.B&&(xa(Xe),Ko(Xe)),O.g=ye}else Mm(O);0<E.i.length&&Fc(E)}else Ze[0]!="stop"&&Ze[0]!="close"||Os(E,7);else E.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Os(E,7):ph(E):Ze[0]!="noop"&&E.l&&E.l.ta(Ze),E.v=0)}}Ta(4)}catch{}}var Am=class{constructor(m,w){this.g=m,this.map=w}};function Ds(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Rc(m){return m.h?1:m.g?m.g.size:0}function ah(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function Cc(m,w){m.g?m.g.add(w):m.h=w}function ir(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}Ds.prototype.cancel=function(){if(this.i=oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function oh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const E of m.g.values())w=w.concat(E.D);return w}return A(m.i)}function Q_(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var w=[],E=m.length,O=0;O<E;O++)w.push(m[O]);return w}w=[],E=0;for(O in m)w[E++]=m[O];return w}function Pc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var w=[];m=m.length;for(var E=0;E<m;E++)w.push(E);return w}w=[],E=0;for(const O in m)w[E++]=O;return w}}}function lh(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var E=Pc(m),O=Q_(m),Q=O.length,re=0;re<Q;re++)w.call(void 0,O[re],E&&E[re],m)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X_(m,w){if(m){m=m.split("&");for(var E=0;E<m.length;E++){var O=m[E].indexOf("="),Q=null;if(0<=O){var re=m[E].substring(0,O);Q=m[E].substring(O+1)}else re=m[E];w(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function un(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof un){this.h=m.h,Zo(this,m.j),this.o=m.o,this.g=m.g,Aa(this,m.s),this.l=m.l;var w=m.i,E=new Cs;E.i=w.i,w.g&&(E.g=new Map(w.g),E.h=w.h),Rs(this,E),this.m=m.m}else m&&(w=String(m).match(Xo))?(this.h=!1,Zo(this,w[1]||"",!0),this.o=qr(w[2]||""),this.g=qr(w[3]||"",!0),Aa(this,w[4]),this.l=qr(w[5]||"",!0),Rs(this,w[6]||"",!0),this.m=qr(w[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}un.prototype.toString=function(){var m=[],w=this.j;w&&m.push(el(w,ch,!0),":");var E=this.g;return(E||w=="file")&&(m.push("//"),(w=this.o)&&m.push(el(w,ch,!0),"@"),m.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&m.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(el(E,E.charAt(0)=="/"?Z_:uh,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",el(E,kc)),m.join("")};function Ar(m){return new un(m)}function Zo(m,w,E){m.j=E?qr(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Aa(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function Rs(m,w,E){w instanceof Cs?(m.i=w,Dm(m.i,m.h)):(E||(w=el(w,J_)),m.i=new Cs(w,m.h))}function vt(m,w,E){m.i.set(w,E)}function Jo(m){return vt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qr(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function el(m,w,E){return typeof m=="string"?(m=encodeURI(m).replace(w,Im),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Im(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ch=/[#\/\?@]/g,uh=/[#\?:]/g,Z_=/[#\?]/g,J_=/[#\?@]/g,kc=/#/g;function Cs(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Hr(m){m.g||(m.g=new Map,m.h=0,m.i&&X_(m.i,function(w,E){m.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}n=Cs.prototype,n.add=function(m,w){Hr(this),this.i=null,m=Pi(this,m);var E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(w),this.h+=1,this};function Ps(m,w){Hr(m),w=Pi(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function ks(m,w){return Hr(m),w=Pi(m,w),m.g.has(w)}n.forEach=function(m,w){Hr(this),this.g.forEach(function(E,O){E.forEach(function(Q){m.call(w,Q,O,this)},this)},this)},n.na=function(){Hr(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),E=[];for(let O=0;O<w.length;O++){const Q=m[O];for(let re=0;re<Q.length;re++)E.push(w[O])}return E},n.V=function(m){Hr(this);let w=[];if(typeof m=="string")ks(this,m)&&(w=w.concat(this.g.get(Pi(this,m))));else{m=Array.from(this.g.values());for(let E=0;E<m.length;E++)w=w.concat(m[E])}return w},n.set=function(m,w){return Hr(this),this.i=null,m=Pi(this,m),ks(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},n.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function dh(m,w,E){Ps(m,w),0<E.length&&(m.i=null,m.g.set(Pi(m,w),A(E)),m.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var E=0;E<w.length;E++){var O=w[E];const re=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var Q=re;ye[O]!==""&&(Q+="="+encodeURIComponent(String(ye[O]))),m.push(Q)}}return this.i=m.join("&")};function Pi(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Dm(m,w){w&&!m.j&&(Hr(m),m.i=null,m.g.forEach(function(E,O){var Q=O.toLowerCase();O!=Q&&(Ps(this,O),dh(this,Q,E))},m)),m.j=w}function tl(m,w){const E=new $r;if(u.Image){const O=new Image;O.onload=b(Yr,E,"TestLoadImage: loaded",!0,w,O),O.onerror=b(Yr,E,"TestLoadImage: error",!1,w,O),O.onabort=b(Yr,E,"TestLoadImage: abort",!1,w,O),O.ontimeout=b(Yr,E,"TestLoadImage: timeout",!1,w,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else w(!1)}function mi(m,w){const E=new $r,O=new AbortController,Q=setTimeout(()=>{O.abort(),Yr(E,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:O.signal}).then(re=>{clearTimeout(Q),re.ok?Yr(E,"TestPingServer: ok",!0,w):Yr(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Yr(E,"TestPingServer: error",!1,w)})}function Yr(m,w,E,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(E)}catch{}}function nl(){this.g=new Wo}function ki(m,w,E){const O=E||"";try{lh(m,function(Q,re){let ye=Q;f(Q)&&(ye=fi(Q)),w.push(O+re+"="+encodeURIComponent(ye))})}catch(Q){throw w.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Ia(m){this.l=m.Ub||null,this.j=m.eb||!1}T(Ia,Jd),Ia.prototype.g=function(){return new Ms(this.l,this.j)},Ia.prototype.i=function(m){return function(){return m}}({});function Ms(m,w){Ht.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ms,Ht),n=Ms.prototype,n.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,Oi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function hh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?Mi(this):Oi(this),this.readyState==3&&hh(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Mi(this))},n.Qa=function(m){this.g&&(this.response=m,Mi(this))},n.ga=function(){this.g&&Mi(this)};function Mi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Oi(m)}n.setRequestHeader=function(m,w){this.u.append(m,w)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=w.next();return m.join(`\r
`)};function Oi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function fh(m){let w="";return Y(m,function(E,O){w+=O,w+=":",w+=E,w+=`\r
`}),w}function Sn(m,w,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=fh(E),typeof m=="string"?E!=null&&encodeURIComponent(String(E)):vt(m,w,E))}function lt(m){Ht.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(lt,Ht);var Mc=/^https?$/i,rl=["POST","PUT"];n=lt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,w,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?eh(this.o):eh(Di),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(re){Rm(this,re);return}if(m=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)E.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())E.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(re=>re.toLowerCase()=="content-type"),Q=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(rl,w,void 0))||O||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of E)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{il(this),this.u=!0,this.g.send(m),this.u=!1}catch(re){Rm(this,re)}};function Rm(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Oc(m),Ni(m)}function Oc(m){m.A||(m.A=!0,dt(m,"complete"),dt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,dt(this,"complete"),dt(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Nc(this):this.bb())},n.bb=function(){Nc(this)};function Nc(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Wr(m)!=4||m.Z()!=2)){if(m.u&&Wr(m)==4)Yn(m.Ea,0,m);else if(dt(m,"readystatechange"),Wr(m)==4){m.h=!1;try{const ye=m.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var O;if(O=ye===0){var Q=String(m.D).match(Xo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),O=!Mc.test(Q?Q.toLowerCase():"")}E=O}if(E)dt(m,"complete"),dt(m,"success");else{m.m=6;try{var re=2<Wr(m)?m.g.statusText:""}catch{re=""}m.l=re+" ["+m.Z()+"]",Oc(m)}}finally{Ni(m)}}}}function Ni(m,w){if(m.g){il(m);const E=m.g,O=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||dt(m,"ready");try{E.onreadystatechange=O}catch{}}}function il(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Wr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),xc(w)}};function Cm(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function e0(m){const w={};m=(m.g&&2<=Wr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(V(m[O]))continue;var E=j(m[O]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const re=w[Q]||[];w[Q]=re,re.push(E)}k(w,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sl(m,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||w}function Vc(m){this.Aa=0,this.i=[],this.j=new $r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sl("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sl("baseRetryDelayMs",5e3,m),this.cb=sl("retryDelaySeedMs",1e4,m),this.Wa=sl("forwardChannelMaxRetries",2,m),this.wa=sl("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ds(m&&m.concurrentRequestLimit),this.Da=new nl,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vc.prototype,n.la=8,n.G=1,n.connect=function(m,w,E,O){Dt(0),this.W=m,this.H=w||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Lm(this,null,this.W),Fc(this)};function ph(m){if(Pm(m),m.G==3){var w=m.U++,E=Ar(m.I);if(vt(E,"SID",m.K),vt(E,"RID",w),vt(E,"TYPE","terminate"),al(m,E),w=new rr(m,m.j,w),w.L=2,w.v=Jo(Ar(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=w.v,E=!0),E||(w.g=Fm(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ko(w)}Vm(m)}function Lc(m){m.g&&(ol(m),m.g.cancel(),m.g=null)}function Pm(m){Lc(m),m.u&&(u.clearTimeout(m.u),m.u=null),Bc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Fc(m){if(!Dc(m.h)&&!m.s){m.s=!0;var w=m.Ga;ie||U(),de||(ie(),de=!0),Ee.add(w,m),m.B=0}}function t0(m,w){return Rc(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=cn(v(m.Ga,m,w),yh(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new rr(this,this.j,m);let re=this.o;if(this.S&&(re?(re=D(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=km(this,Q,w),E=Ar(this.I),vt(E,"RID",m),vt(E,"CVER",22),this.D&&vt(E,"X-HTTP-Session-Id",this.D),al(this,E),re&&(this.O?w="headers="+encodeURIComponent(String(fh(re)))+"&"+w:this.m&&Sn(E,this.m,re)),Cc(this.h,Q),this.Ua&&vt(E,"TYPE","init"),this.P?(vt(E,"$req",w),vt(E,"SID","null"),Q.T=!0,pi(Q,E,null)):pi(Q,E,w),this.G=2}}else this.G==3&&(m?mh(this,m):this.i.length==0||Dc(this.h)||mh(this))};function mh(m,w){var E;w?E=w.l:E=m.U++;const O=Ar(m.I);vt(O,"SID",m.K),vt(O,"RID",E),vt(O,"AID",m.T),al(m,O),m.m&&m.o&&Sn(O,m.m,m.o),E=new rr(m,m.j,E,m.B+1),m.m===null&&(E.H=m.o),w&&(m.i=w.D.concat(m.i)),w=km(m,E,1e3),E.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Cc(m.h,E),pi(E,O,w)}function al(m,w){m.H&&Y(m.H,function(E,O){vt(w,O,E)}),m.l&&lh({},function(E,O){vt(w,O,E)})}function km(m,w,E){E=Math.min(m.i.length,E);var O=m.l?v(m.l.Na,m.l,m):null;e:{var Q=m.i;let re=-1;for(;;){const ye=["count="+E];re==-1?0<E?(re=Q[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let Xe=!0;for(let yn=0;yn<E;yn++){let Ze=Q[yn].g;const xn=Q[yn].map;if(Ze-=re,0>Ze)re=Math.max(0,Q[yn].g-100),Xe=!1;else try{ki(xn,ye,"req"+Ze+"_")}catch{O&&O(xn)}}if(Xe){O=ye.join("&");break e}}}return m=m.i.splice(0,E),w.D=m,O}function Mm(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;ie||U(),de||(ie(),de=!0),Ee.add(w,m),m.v=0}}function gh(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=cn(v(m.Fa,m),yh(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Om(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=cn(v(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Lc(this),Om(this))};function ol(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Om(m){m.g=new rr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ar(m.qa);vt(w,"RID","rpc"),vt(w,"SID",m.K),vt(w,"AID",m.T),vt(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&vt(w,"TO",m.ja),vt(w,"TYPE","xmlhttp"),al(m,w),m.m&&m.o&&Sn(w,m.m,m.o),m.L&&(m.g.I=m.L);var E=m.g;m=m.ia,E.L=1,E.v=Jo(Ar(w)),E.m=null,E.P=!0,Is(E,m)}n.Za=function(){this.C!=null&&(this.C=null,Lc(this),gh(this),Dt(19))};function Bc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Nm(m,w){var E=null;if(m.g==w){Bc(m),ol(m),m.g=null;var O=2}else if(ah(m.h,w))E=w.D,ir(m.h,w),O=1;else return;if(m.G!=0){if(w.o)if(O==1){E=w.m?w.m.length:0,w=Date.now()-w.F;var Q=m.B;O=ba(),dt(O,new gn(O,E)),Fc(m)}else Mm(m);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(O==1&&t0(m,w)||O==2&&gh(m)))switch(E&&0<E.length&&(w=m.h,w.i=w.i.concat(E)),Q){case 1:Os(m,5);break;case 4:Os(m,10);break;case 3:Os(m,6);break;default:Os(m,2)}}}function yh(m,w){let E=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(E*=2),E*w}function Os(m,w){if(m.j.info("Error code "+w),w==2){var E=v(m.fb,m),O=m.Xa;const Q=!O;O=new un(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Zo(O,"https"),Jo(O),Q?tl(O.toString(),E):mi(O.toString(),E)}else Dt(2);m.G=0,m.l&&m.l.sa(w),Vm(m),Pm(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Vm(m){if(m.G=0,m.ka=[],m.l){const w=oh(m.h);(w.length!=0||m.i.length!=0)&&(I(m.ka,w),I(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function Lm(m,w,E){var O=E instanceof un?Ar(E):new un(E);if(O.g!="")w&&(O.g=w+"."+O.g),Aa(O,O.s);else{var Q=u.location;O=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new un(null);O&&Zo(re,O),w&&(re.g=w),Q&&Aa(re,Q),E&&(re.l=E),O=re}return E=m.D,w=m.ya,E&&w&&vt(O,E,w),vt(O,"VER",m.la),al(m,O),O}function Fm(m,w,E){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new lt(new Ia({eb:E})):new lt(m.pa),w.Ha(m.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bm(){}n=Bm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Uc(){}Uc.prototype.g=function(m,w){return new sr(m,w)};function sr(m,w){Ht.call(this),this.g=new Vc(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!V(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Vi(this)}T(sr,Ht),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){ph(this.g)},sr.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.u&&(E={},E.__data__=fi(m),m=E);w.i.push(new Am(w.Ya++,m)),w.G==3&&Fc(w)},sr.prototype.N=function(){this.g.l=null,delete this.j,ph(this.g),delete this.g,sr.aa.N.call(this)};function Um(m){xs.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const E in w){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}T(Um,xs);function jm(){nh.call(this),this.status=1}T(jm,nh);function Vi(m){this.g=m}T(Vi,Bm),Vi.prototype.ua=function(){dt(this.g,"a")},Vi.prototype.ta=function(m){dt(this.g,new Um(m))},Vi.prototype.sa=function(m){dt(this.g,new jm)},Vi.prototype.ra=function(){dt(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,VO=function(){return new Uc},NO=function(){return ba()},OO=Ii,dT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,by=Sa,As.COMPLETE="complete",MO=As,th.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,xf=th,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,kO=lt}).apply(typeof Yg<"u"?Yg:typeof self<"u"?self:typeof window<"u"?window:{});const LR="@firebase/firestore",FR="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Gv("@firebase/firestore");function Su(){return wo.logLevel}function P$(n){wo.setLogLevel(n)}function fe(n,...e){if(wo.logLevel<=Ge.DEBUG){const t=e.map(t1);wo.debug(`Firestore (${Fd}): ${n}`,...t)}}function rn(n,...e){if(wo.logLevel<=Ge.ERROR){const t=e.map(t1);wo.error(`Firestore (${Fd}): ${n}`,...t)}}function ms(n,...e){if(wo.logLevel<=Ge.WARN){const t=e.map(t1);wo.warn(`Firestore (${Fd}): ${n}`,...t)}}function t1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LO(n,r,t)}function LO(n,e,t){let r=`FIRESTORE (${Fd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw rn(r),new Error(r)}function xe(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||LO(e,i,r)}function k$(n,e){n||be(57014,e)}function _e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pn.UNAUTHENTICATED))}shutdown(){}}class O${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N${constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $n,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $n)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new FO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class V${constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L${constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new V$(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F${constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xe(this.o===void 0,3512);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new BR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function hT(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ne(r,i);{const s=n1(),l=U$(s.encode(UR(n,t)),s.encode(UR(e,t)));return l!==0?l:Ne(r,i)}}t+=r>65535?2:1}return Ne(n.length,e.length)}function UR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function U$(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ne(n[t],e[t]);return Ne(n.length,e.length)}function nd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function UO(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=-62135596800,zR=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*zR);return new Nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jR)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zR}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Nt(0,0))}static max(){return new De(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="__name__";class $i{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=$i.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ne(e.length,t.length)}static compareSegments(e,t){const r=$i.isNumericId(e),i=$i.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?$i.extractNumericId(e).compare($i.extractNumericId(t)):hT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class Ke extends $i{construct(e,t,r){return new Ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ke(t)}static emptyPath(){return new Ke([])}}const j$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends $i{construct(e,t,r){return new kt(e,t,r)}static isValidIdentifier(e){return j$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$R}static keyField(){return new kt([$R])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(t)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ke.fromString(e))}static fromName(e){return new ve(Ke.fromString(e).popFirst(5))}static empty(){return new ve(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;class rv{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function fT(n){return n.fields.find(e=>e.kind===2)}function Al(n){return n.fields.filter(e=>e.kind!==2)}rv.UNKNOWN_ID=-1;class Ty{constructor(e,t){this.fieldPath=e,this.kind=t}}class cp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cp(0,Ur.min())}}function jO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Nt(t+1,0):new Nt(t,r));return new Ur(i,ve.empty(),e)}function zO(n){return new Ur(n.readTime,n.key,rd)}class Ur{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ur(De.min(),ve.empty(),rd)}static max(){return new Ur(De.max(),ve.empty(),rd)}}function r1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==$O)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const f=d;t(e[f]).next(p=>{l[f]=p,++u,u===s&&r(l)},p=>i(p))}})}static doWhile(e,t){return new X((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="SimpleDb";class a_{static open(e,t,r,i){try{return new a_(t,e.transaction(i,r))}catch(s){throw new Bf(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new $n,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Bf(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=i1(r.target.error);this.S.reject(new Bf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(fe(Nr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $$(t)}}class as{static delete(e){return fe(Nr,"Removing database:",e),Cl(DE().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!np())return!1;if(as.F())return!0;const e=$t(),t=as.M(e),r=0<t&&t<10,i=HO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,as.M($t())===12.2&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(fe(Nr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new Bf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new he(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new he(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Bf(e,l))},i.onupgradeneeded=s=>{fe(Nr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${l.version}`);this.B.q(l,i.transaction,s.oldVersion,this.version).next(()=>{fe(Nr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.k(e);const u=a_.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(f=>(u.v(),f)).catch(f=>(u.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await u.D,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(fe(Nr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function HO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class z${constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Cl(this.K.delete())}}class Bf extends he{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vo(n){return n.name==="IndexedDbTransactionError"}class $${constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(fe(Nr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(fe(Nr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cl(r)}add(e){return fe(Nr,"ADD",this.store.name,e,e),Cl(this.store.add(e))}get(e){return Cl(this.store.get(e)).next(t=>(t===void 0&&(t=null),fe(Nr,"GET",this.store.name,e,t),t))}delete(e){return fe(Nr,"DELETE",this.store.name,e),Cl(this.store.delete(e))}count(){return fe(Nr,"COUNT",this.store.name),Cl(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new X((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.Y(s,(u,d)=>{l.push(d)}).next(()=>l)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}X(e,t){fe(Nr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(s,l,u)=>u.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=s=>{const l=i1(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new z$(u),f=t(u.primaryKey,u.value,d);if(f instanceof X){const p=f.catch(y=>(d.done(),X.reject(y)));r.push(p)}d.isDone?i():d.j===null?u.continue():u.continue(d.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cl(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=i1(r.target.error);t(i)}})}let qR=!1;function i1(n){const e=as.M($t());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qR||(qR=!0,setTimeout(()=>{throw r},0)),r}}return n}const Uf="IndexBackfiller";class q${constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){fe(Uf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();fe(Uf,`Documents written: ${t}`)}catch(t){Vo(t)?fe(Uf,"Ignoring IndexedDB error during index backfill: ",t):await No(t)}await this.ie(6e4)})}}class H${constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,s=!0;return X.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return fe(Uf,`Processing collection: ${l}`),this._e(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ae(i,s)).next(u=>(fe(Uf,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=zO(s);r1(l,r)>0&&(r=l)}),new Ur(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}br.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=-1;function Kp(n){return n==null}function up(n){return n===0&&1/n==-1/0}function YO(n){return typeof n=="number"&&Number.isInteger(n)&&!up(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function tr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HR(e)),e=Y$(n.get(t),e);return HR(e)}function Y$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case iv:t+="";break;default:t+=s}}return t}function HR(n){return n+iv+""}function rs(n){const e=n.length;if(xe(e>=2,64408,{path:n}),e===2)return xe(n.charAt(0)===iv&&n.charAt(1)==="",56145,{path:n}),Ke.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(iv,s);switch((l<0||l>t)&&be(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:be(61167,{path:n})}s=l+2}return new Ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="remoteDocuments",Qp="owner",yu="owner",dp="mutationQueues",W$="userId",wi="mutations",YR="batchId",Ll="userMutationsIndex",WR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,e){return[n,tr(e)]}function WO(n,e,t){return[n,tr(e),t]}const G$={},id="documentMutations",sv="remoteDocumentsV14",K$=["prefixPath","collectionGroup","readTime","documentId"],Sy="documentKeyIndex",Q$=["prefixPath","collectionGroup","documentId"],GO="collectionGroupIndex",X$=["collectionGroup","readTime","prefixPath","documentId"],hp="remoteDocumentGlobal",pT="remoteDocumentGlobalKey",sd="targets",KO="queryTargetsIndex",Z$=["canonicalId","targetId"],ad="targetDocuments",J$=["targetId","path"],s1="documentTargetsIndex",eq=["path","targetId"],av="targetGlobalKey",Wl="targetGlobal",fp="collectionParents",tq=["collectionId","parent"],od="clientMetadata",nq="clientId",o_="bundles",rq="bundleId",l_="namedQueries",iq="name",a1="indexConfiguration",sq="indexId",mT="collectionGroupIndex",aq="collectionGroup",jf="indexState",oq=["indexId","uid"],QO="sequenceNumberIndex",lq=["uid","sequenceNumber"],zf="indexEntries",cq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XO="documentKeyIndex",uq=["indexId","uid","orderedDocumentKey"],c_="documentOverlays",dq=["userId","collectionPath","documentId"],gT="collectionPathOverlayIndex",hq=["userId","collectionPath","largestBatchId"],ZO="collectionGroupOverlayIndex",fq=["userId","collectionGroup","largestBatchId"],o1="globals",pq="name",JO=[dp,wi,id,Il,sd,Qp,Wl,ad,od,hp,fp,o_,l_],mq=[...JO,c_],eN=[dp,wi,id,sv,sd,Qp,Wl,ad,od,hp,fp,o_,l_,c_],tN=eN,l1=[...tN,a1,jf,zf],gq=l1,nN=[...l1,o1],yq=nN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends qO{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function Tn(n,e){const t=_e(n);return as.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wg(this.root,e,this.comparator,!0)}}class Wg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Un.RED,this.left=i??Un.EMPTY,this.right=s??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Un(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KR(this.data.getIterator())}getIteratorFrom(e){return new KR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gt(this.comparator);return t.data=e,t}}class KR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new gt(kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iN("Invalid base64 string: "+s):s}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const _q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(xe(!!n,39018),typeof n=="string"){let e=0;const t=_q.exec(n);if(xe(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="server_timestamp",aN="__type__",oN="__previous_value__",lN="__local_write_time__";function u_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[aN])===null||t===void 0?void 0:t.stringValue)===sN}function d_(n){const e=n.mapValue.fields[oN];return u_(e)?d_(e):e}function pp(n){const e=la(n.mapValue.fields[lN].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,t,r,i,s,l,u,d,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const vT="(default)";class bo{constructor(e,t){this.projectId=e,this.database=t||vT}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===vT}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="__type__",cN="__max__",so={mapValue:{fields:{__type__:{stringValue:cN}}}},u1="__vector__",ld="value",xy={nullValue:"NULL_VALUE"};function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u_(n)?4:uN(n)?9007199254740991:h_(n)?10:11:be(28295,{value:n})}function gs(n,e){if(n===e)return!0;const t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pp(n).isEqual(pp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=la(i.timestampValue),u=la(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ca(i.bytesValue).isEqual(ca(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ct(i.geoPointValue.latitude)===Ct(s.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ct(i.integerValue)===Ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Ct(i.doubleValue),u=Ct(s.doubleValue);return l===u?up(l)===up(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return nd(n.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(GR(l)!==GR(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!gs(l[d],u[d])))return!1;return!0}(n,e);default:return be(52216,{left:n})}}function mp(n,e){return(n.values||[]).find(t=>gs(t,e))!==void 0}function Eo(n,e){if(n===e)return 0;const t=To(n),r=To(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Ct(s.integerValue||s.doubleValue),d=Ct(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return QR(n.timestampValue,e.timestampValue);case 4:return QR(pp(n),pp(e));case 5:return hT(n.stringValue,e.stringValue);case 6:return function(s,l){const u=ca(s),d=ca(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=Ne(u[f],d[f]);if(p!==0)return p}return Ne(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Ne(Ct(s.latitude),Ct(l.latitude));return u!==0?u:Ne(Ct(s.longitude),Ct(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return XR(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,f,p;const y=s.fields||{},v=l.fields||{},b=(u=y[ld])===null||u===void 0?void 0:u.arrayValue,T=(d=v[ld])===null||d===void 0?void 0:d.arrayValue,A=Ne(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:XR(b,T)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===so.mapValue&&l===so.mapValue)return 0;if(s===so.mapValue)return 1;if(l===so.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const v=hT(d[y],p[y]);if(v!==0)return v;const b=Eo(u[d[y]],f[p[y]]);if(b!==0)return b}return Ne(d.length,p.length)}(n.mapValue,e.mapValue);default:throw be(23264,{Pe:t})}}function QR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=la(n),r=la(e),i=Ne(t.seconds,r.seconds);return i!==0?i:Ne(t.nanos,r.nanos)}function XR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Eo(t[i],r[i]);if(s)return s}return Ne(t.length,r.length)}function cd(n){return _T(n)}function _T(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=la(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ca(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=_T(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${_T(t.fields[l])}`;return i+"}"}(n.mapValue):be(61005,{value:n})}function Ay(n){switch(To(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=d_(n);return e?16+Ay(e):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ay(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Lo(r.fields,(s,l)=>{i+=s.length+Ay(l)}),i}(n.mapValue);default:throw be(13486,{value:n})}}function ic(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wT(n){return!!n&&"integerValue"in n}function gp(n){return!!n&&"arrayValue"in n}function ZR(n){return!!n&&"nullValue"in n}function JR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Iy(n){return!!n&&"mapValue"in n}function h_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[c1])===null||t===void 0?void 0:t.stringValue)===u1}function $f(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$f(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$f(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}const dN={mapValue:{fields:{[c1]:{stringValue:u1},[ld]:{arrayValue:{}}}}};function bq(n){return"nullValue"in n?xy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ic(bo.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?h_(n)?dN:{mapValue:{}}:be(35942,{value:n})}function Tq(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ic(bo.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?dN:"mapValue"in n?h_(n)?{mapValue:{}}:so:be(61959,{value:n})}function eC(n,e){const t=Eo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function tC(n,e){const t=Eo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$f(t)}setAll(e){let t=kt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=$f(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Lo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jn($f(this.value))}}function hN(n){const e=[];return Lo(n.fields,(t,r)=>{const i=new kt([t]);if(Iy(r)){const s=hN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new It(e,0,De.min(),De.min(),De.min(),jn.empty(),0)}static newFoundDocument(e,t,r,i){return new It(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new It(e,2,t,De.min(),De.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,De.min(),De.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t){this.position=e,this.inclusive=t}}function nC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Eo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Eq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{}class Qe extends fN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Sq(e,t,r):t==="array-contains"?new Iq(e,r):t==="in"?new _N(e,r):t==="not-in"?new Dq(e,r):t==="array-contains-any"?new Rq(e,r):new Qe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xq(e,r):new Aq(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Eo(t,this.value)):t!==null&&To(this.value)===To(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mt extends fN{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new mt(e,t)}matches(e){return ud(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ud(n){return n.op==="and"}function bT(n){return n.op==="or"}function d1(n){return pN(n)&&ud(n)}function pN(n){for(const e of n.filters)if(e instanceof mt)return!1;return!0}function TT(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+cd(n.value);if(d1(n))return n.filters.map(e=>TT(e)).join(",");{const e=n.filters.map(t=>TT(t)).join(",");return`${n.op}(${e})`}}function mN(n,e){return n instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&gs(r.value,i.value)}(n,e):n instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&mN(l,i.filters[u]),!0):!1}(n,e):void be(19439)}function gN(n,e){const t=n.filters.concat(e);return mt.create(t,n.op)}function yN(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${cd(t.value)}`}(n):n instanceof mt?function(t){return t.op.toString()+" {"+t.getFilters().map(yN).join(" ,")+"}"}(n):"Filter"}class Sq extends Qe{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class xq extends Qe{constructor(e,t){super(e,"in",t),this.keys=vN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Aq extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=vN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Iq extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gp(t)&&mp(t.arrayValue,this.value)}}class _N extends Qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mp(this.value.arrayValue,t)}}class Dq extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mp(this.value.arrayValue,t)}}class Rq extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Ie=null}}function ET(n,e=null,t=[],r=[],i=null,s=null,l=null){return new Cq(n,e,t,r,i,s,l)}function sc(n){const e=_e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>TT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Kp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cd(r)).join(",")),e.Ie=t}return e.Ie}function Xp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Eq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rC(n.startAt,e.startAt)&&rC(n.endAt,e.endAt)}function ov(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function lv(n,e){return n.filters.filter(t=>t instanceof Qe&&t.field.isEqual(e))}function iC(n,e,t){let r=xy,i=!0;for(const s of lv(n,e)){let l=xy,u=!0;switch(s.op){case"<":case"<=":l=bq(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=xy}eC({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];eC({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function sC(n,e,t){let r=so,i=!0;for(const s of lv(n,e)){let l=so,u=!0;switch(s.op){case">=":case">":l=Tq(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=so}tC({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];tC({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wN(n,e,t,r,i,s,l,u){return new ga(n,e,t,r,i,s,l,u)}function Bd(n){return new ga(n)}function aC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function h1(n){return n.collectionGroup!==null}function ju(n){const e=_e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new gt(kt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new yp(s,r))}),t.has(kt.keyField().canonicalString())||e.Ee.push(new yp(kt.keyField(),r))}return e.Ee}function fr(n){const e=_e(n);return e.de||(e.de=Pq(e,ju(n))),e.de}function Pq(n,e){if(n.limitType==="F")return ET(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yp(i.field,s)});const t=n.endAt?new So(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new So(n.startAt.position,n.startAt.inclusive):null;return ET(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ST(n,e){const t=n.filters.concat([e]);return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cv(n,e,t){return new ga(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zp(n,e){return Xp(fr(n),fr(e))&&n.limitType===e.limitType}function bN(n){return`${sc(fr(n))}|lt:${n.limitType}`}function xu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yN(i)).join(", ")}]`),Kp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cd(i)).join(",")),`Target(${r})`}(fr(n))}; limitType=${n.limitType})`}function Jp(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ju(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const f=nC(l,u,d);return l.inclusive?f<=0:f<0}(r.startAt,ju(r),i)||r.endAt&&!function(l,u,d){const f=nC(l,u,d);return l.inclusive?f>=0:f>0}(r.endAt,ju(r),i))}(n,e)}function TN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EN(n){return(e,t)=>{let r=!1;for(const i of ju(n)){const s=kq(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kq(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),f=u.data.field(s);return d!==null&&f!==null?Eo(d,f):be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=new xt(ve.comparator);function Er(){return Mq}const SN=new xt(ve.comparator);function Af(...n){let e=SN;for(const t of n)e=e.insert(t.key,t);return e}function xN(n){let e=SN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function is(){return qf()}function AN(){return qf()}function qf(){return new ya(n=>n.toString(),(n,e)=>n.isEqual(e))}const Oq=new xt(ve.comparator),Nq=new gt(ve.comparator);function Ue(...n){let e=Nq;for(const t of n)e=e.add(t);return e}const Vq=new gt(Ne);function f1(){return Vq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function IN(n){return{integerValue:""+n}}function DN(n,e){return YO(e)?IN(e):p1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this._=void 0}}function Lq(n,e,t){return n instanceof dd?function(i,s){const l={fields:{[aN]:{stringValue:sN},[lN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&u_(s)&&(s=d_(s)),s&&(l.fields[oN]=s),{mapValue:l}}(t,e):n instanceof ac?CN(n,e):n instanceof oc?PN(n,e):function(i,s){const l=RN(i,s),u=oC(l)+oC(i.Re);return wT(l)&&wT(i.Re)?IN(u):p1(i.serializer,u)}(n,e)}function Fq(n,e,t){return n instanceof ac?CN(n,e):n instanceof oc?PN(n,e):t}function RN(n,e){return n instanceof hd?function(r){return wT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class dd extends f_{}class ac extends f_{constructor(e){super(),this.elements=e}}function CN(n,e){const t=kN(e);for(const r of n.elements)t.some(i=>gs(i,r))||t.push(r);return{arrayValue:{values:t}}}class oc extends f_{constructor(e){super(),this.elements=e}}function PN(n,e){let t=kN(e);for(const r of n.elements)t=t.filter(i=>!gs(i,r));return{arrayValue:{values:t}}}class hd extends f_{constructor(e,t){super(),this.serializer=e,this.Re=t}}function oC(n){return Ct(n.integerValue||n.doubleValue)}function kN(n){return gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.field=e,this.transform=t}}function Bq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ac&&i instanceof ac||r instanceof oc&&i instanceof oc?nd(r.elements,i.elements,gs):r instanceof hd&&i instanceof hd?gs(r.Re,i.Re):r instanceof dd&&i instanceof dd}(n.transform,e.transform)}class Uq{constructor(e,t){this.version=e,this.transformResults=t}}class Mt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mt}static exists(e){return new Mt(void 0,e)}static updateTime(e){return new Mt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class p_{}function MN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new jd(n.key,Mt.none()):new Ud(n.key,n.data,Mt.none());{const t=n.data,r=jn.empty();let i=new gt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new va(n.key,r,new Tr(i.toArray()),Mt.none())}}function jq(n,e,t){n instanceof Ud?function(i,s,l){const u=i.value.clone(),d=cC(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof va?function(i,s,l){if(!Dy(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=cC(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(ON(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Hf(n,e,t,r){return n instanceof Ud?function(s,l,u,d){if(!Dy(s.precondition,l))return u;const f=s.value.clone(),p=uC(s.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof va?function(s,l,u,d){if(!Dy(s.precondition,l))return u;const f=uC(s.fieldTransforms,d,l),p=l.data;return p.setAll(ON(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(s,l,u){return Dy(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function zq(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=RN(r.transform,i||null);s!=null&&(t===null&&(t=jn.empty()),t.set(r.field,s))}return t||null}function lC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nd(r,i,(s,l)=>Bq(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ud extends p_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class va extends p_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ON(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function cC(n,e,t){const r=new Map;xe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,Fq(l,u,t[i]))}return r}function uC(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,Lq(s,l,e))}return r}class jd extends p_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m1 extends p_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jq(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=AN();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=MN(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&nd(this.mutations,e.mutations,(t,r)=>lC(t,r))&&nd(this.baseMutations,e.baseMutations,(t,r)=>lC(t,r))}}class y1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Oq}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new y1(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,et;function NN(n){switch(n){case ne.OK:return be(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function VN(n){if(n===void 0)return rn("GRPC error has no .code"),ne.UNKNOWN;switch(n){case fn.OK:return ne.OK;case fn.CANCELLED:return ne.CANCELLED;case fn.UNKNOWN:return ne.UNKNOWN;case fn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case fn.INTERNAL:return ne.INTERNAL;case fn.UNAVAILABLE:return ne.UNAVAILABLE;case fn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case fn.NOT_FOUND:return ne.NOT_FOUND;case fn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case fn.ABORTED:return ne.ABORTED;case fn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case fn.DATA_LOSS:return ne.DATA_LOSS;default:return be(39323,{code:n})}}(et=fn||(fn={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=new uo([4294967295,4294967295],0);function dC(n){const e=n1().encode(n),t=new PO;return t.update(e),new Uint8Array(t.digest())}function hC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uo([t,r],0),new uo([i,s],0)]}class _1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new If(`Invalid padding: ${t}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new If(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=uo.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(uo.fromNumber(r)));return i.compare(qq)===1&&(i=new uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=dC(e),[r,i]=hC(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);if(!this.Se(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new _1(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=dC(e),[r,i]=hC(t);for(let s=0;s<this.hashCount;s++){const l=this.we(r,i,s);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,nm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tm(De.min(),i,new xt(Ne),Er(),Ue())}}class nm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nm(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class LN{constructor(e,t){this.targetId=e,this.Ce=t}}class FN{constructor(e,t,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fC{constructor(){this.Fe=0,this.Me=pC(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),r=Ue();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be(38017,{changeType:s})}}),new nm(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=pC()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Hq{constructor(e){this.ze=e,this.je=new Map,this.He=Er(),this.Je=Gg(),this.Ye=Gg(),this.Ze=new xt(Ne)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(ov(s))if(r===0){const l=new ve(s.path);this.tt(t,l,It.newNoDocument(l,De.min()))}else xe(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),d=u?this.lt(u,e,l):1;if(d!==0){this.st(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=ca(r).toUint8Array()}catch(d){if(d instanceof iN)return ms("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new _1(l,i,s)}catch(d){return ms(d instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,l)=>{const u=this._t(l);if(u){if(s.current&&ov(u.target)){const d=new ve(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,It.newNoDocument(d,e))}s.Le&&(t.set(l,s.qe()),s.Qe())}});let r=Ue();this.Ye.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.He.forEach((s,l)=>l.setReadTime(e));const i=new tm(e,t,this.Ze,this.He,r);return this.He=Er(),this.Je=Gg(),this.Ye=Gg(),this.Ze=new xt(Ne),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fC,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new gt(Ne),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new gt(Ne),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fC),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Gg(){return new xt(ve.comparator)}function pC(){return new xt(ve.comparator)}const Yq={asc:"ASCENDING",desc:"DESCENDING"},Wq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gq={and:"AND",or:"OR"};class Kq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xT(n,e){return n.useProto3Json||Kp(e)?e:{value:e}}function fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qq(n,e){return fd(n,e.toTimestamp())}function on(n){return xe(!!n,49232),De.fromTimestamp(function(t){const r=la(t);return new Nt(r.seconds,r.nanos)}(n))}function w1(n,e){return AT(n,e).canonicalString()}function AT(n,e){const t=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UN(n){const e=Ke.fromString(n);return xe(QN(e),10190,{key:e.toString()}),e}function vp(n,e){return w1(n.databaseId,e.path)}function os(n,e){const t=UN(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve($N(t))}function jN(n,e){return w1(n.databaseId,e)}function zN(n){const e=UN(n);return e.length===4?Ke.emptyPath():$N(e)}function IT(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $N(n){return xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mC(n,e,t){return{name:vp(n,e),fields:t.value.mapValue.fields}}function qN(n,e,t){const r=os(n,e.name),i=on(e.updateTime),s=e.createTime?on(e.createTime):De.min(),l=new jn({mapValue:{fields:e.fields}}),u=It.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Xq(n,e){return"found"in e?function(r,i){xe(!!i.found,43571),i.found.name,i.found.updateTime;const s=os(r,i.found.name),l=on(i.found.updateTime),u=i.found.createTime?on(i.found.createTime):De.min(),d=new jn({mapValue:{fields:i.found.fields}});return It.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){xe(!!i.missing,3894),xe(!!i.readTime,22933);const s=os(r,i.missing),l=on(i.readTime);return It.newNoDocument(s,l)}(n,e):be(7234,{result:e})}function Zq(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:be(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(xe(p===void 0||typeof p=="string",58123),Kt.fromBase64String(p||"")):(xe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Kt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const p=f.code===void 0?ne.UNKNOWN:VN(f.code);return new he(p,f.message||"")}(l);t=new FN(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=os(n,r.document.name),s=on(r.document.updateTime),l=r.document.createTime?on(r.document.createTime):De.min(),u=new jn({mapValue:{fields:r.document.fields}}),d=It.newFoundDocument(i,s,l,u),f=r.targetIds||[],p=r.removedTargetIds||[];t=new Ry(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=os(n,r.document),s=r.readTime?on(r.readTime):De.min(),l=It.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Ry([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=os(n,r.document),s=r.removedTargetIds||[];t=new Ry([],s,i,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new $q(i,s),u=r.targetId;t=new LN(u,l)}}return t}function _p(n,e){let t;if(e instanceof Ud)t={update:mC(n,e.key,e.value)};else if(e instanceof jd)t={delete:vp(n,e.key)};else if(e instanceof va)t={update:mC(n,e.key,e.data),updateMask:iH(e.fieldMask)};else{if(!(e instanceof m1))return be(16599,{ft:e.type});t={verify:vp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof dd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof oc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Qq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be(27497)}(n,e.precondition)),t}function DT(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Mt.updateTime(on(s.updateTime)):s.exists!==void 0?Mt.exists(s.exists):Mt.none()}(e.currentDocument):Mt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)xe(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),d=new dd;else if("appendMissingElements"in u){const p=u.appendMissingElements.values||[];d=new ac(p)}else if("removeAllFromArray"in u){const p=u.removeAllFromArray.values||[];d=new oc(p)}else"increment"in u?d=new hd(l,u.increment):be(16584,{proto:u});const f=kt.fromServerFormat(u.fieldPath);return new em(f,d)}(n,i)):[];if(e.update){e.update.name;const i=os(n,e.update.name),s=new jn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new Tr(f.map(p=>kt.fromServerFormat(p)))}(e.updateMask);return new va(i,s,l,t,r)}return new Ud(i,s,t,r)}if(e.delete){const i=os(n,e.delete);return new jd(i,t)}if(e.verify){const i=os(n,e.verify);return new m1(i,t)}return be(1463,{proto:e})}function Jq(n,e){return n&&n.length>0?(xe(e!==void 0,14353),n.map(t=>function(i,s){let l=i.updateTime?on(i.updateTime):on(s);return l.isEqual(De.min())&&(l=on(s)),new Uq(l,i.transformResults||[])}(t,e))):[]}function HN(n,e){return{documents:[jN(n,e.path)]}}function YN(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jN(n,i);const s=function(f){if(f.length!==0)return KN(mt.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:Au(v.field),direction:tH(v.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=xT(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function WN(n){let e=zN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xe(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(y){const v=GN(y);return v instanceof mt&&d1(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(v=>function(T){return new yp(Iu(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(y){let v;return v=typeof y=="object"?y.value:y,Kp(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(y){const v=!!y.before,b=y.values||[];return new So(b,v)}(t.startAt));let f=null;return t.endAt&&(f=function(y){const v=!y.before,b=y.values||[];return new So(b,v)}(t.endAt)),wN(e,i,l,s,u,"F",d,f)}function eH(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Iu(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iu(t.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Iu(t.unaryFilter.field);return Qe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(Iu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mt.create(t.compositeFilter.filters.map(r=>GN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(t.compositeFilter.op))}(n):be(30097,{filter:n})}function tH(n){return Yq[n]}function nH(n){return Wq[n]}function rH(n){return Gq[n]}function Au(n){return{fieldPath:n.canonicalString()}}function Iu(n){return kt.fromServerFormat(n.fieldPath)}function KN(n){return n instanceof Qe?function(t){if(t.op==="=="){if(JR(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NAN"}};if(ZR(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JR(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NOT_NAN"}};if(ZR(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(t.field),op:nH(t.op),value:t.value}}}(n):n instanceof mt?function(t){const r=t.getFilters().map(i=>KN(i));return r.length===1?r[0]:{compositeFilter:{op:rH(t.op),filters:r}}}(n):be(54877,{filter:n})}function iH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t,r,i,s=De.min(),l=De.min(),u=Kt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.wt=e}}function sH(n,e){let t;if(e.document)t=qN(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=cc(e.noDocument.readTime);t=It.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=cc(e.unknownDocument.version);t=It.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Nt(i[0],i[1]);return De.fromTimestamp(s)}(e.readTime)),t}function gC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:vp(s,l.key),fields:l.data.value.mapValue.fields,updateTime:fd(s,l.version.toTimestamp()),createTime:fd(s,l.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:lc(e.version)};else{if(!e.isUnknownDocument())return be(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:lc(e.version)}}return r}function uv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function lc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cc(n){const e=new Nt(n.seconds,n.nanoseconds);return De.fromTimestamp(e)}function Pl(n,e){const t=(e.baseMutations||[]).map(s=>DT(n.wt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>DT(n.wt,s)),i=Nt.fromMillis(e.localWriteTimeMs);return new g1(e.batchId,i,t,r)}function Df(n){const e=cc(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?cc(n.lastLimboFreeSnapshotVersion):De.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){const l=s.documents.length;return xe(l===1,1966,{count:l}),fr(Bd(zN(s.documents[0])))}(n.query):function(s){return fr(WN(s))}(n.query),new Xs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Kt.fromBase64String(n.resumeToken))}function ZN(n,e){const t=lc(e.snapshotVersion),r=lc(e.lastLimboFreeSnapshotVersion);let i;i=ov(e.target)?HN(n.wt,e.target):YN(n.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function b1(n){const e=WN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cv(e,e.limit,"L"):e}function mb(n,e){return new v1(e.largestBatchId,DT(n.wt,e.overlayMutation))}function yC(n,e){const t=e.path.lastSegment();return[n,tr(e.path.popLast()),t]}function vC(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:lc(r.readTime),documentKey:tr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{getBundleMetadata(e,t){return _C(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:cc(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return _C(e).put(function(i){return{bundleId:i.id,createTime:lc(on(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return wC(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:b1(s.bundledQuery),readTime:cc(s.readTime)}}(r)})}saveNamedQuery(e,t){return wC(e).put(function(i){return{name:i.name,readTime:lc(on(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function _C(n){return Tn(n,o_)}function wC(n){return Tn(n,l_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new m_(e,r)}getOverlay(e,t){return ff(e).get(yC(this.userId,t)).next(r=>r?mb(this.serializer,r):null)}getOverlays(e,t){const r=is();return X.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new v1(t,l);i.push(this.bt(e,u))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(tr(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(ff(e).X(gT,u))}),X.waitFor(s)}getOverlaysForCollection(e,t,r){const i=is(),s=tr(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ff(e).J(gT,l).next(u=>{for(const d of u){const f=mb(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=is();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ff(e).te({index:ZO,range:u},(d,f,p)=>{const y=mb(this.serializer,f);s.size()<i||y.largestBatchId===l?(s.set(y.getKey(),y),l=y.largestBatchId):p.done()}).next(()=>s)}bt(e,t){return ff(e).put(function(i,s,l){const[u,d,f]=yC(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:_p(i.wt,l.mutation)}}(this.serializer,this.userId,t))}}function ff(n){return Tn(n,c_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{Dt(e){return Tn(e,o1)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Kt.fromUint8Array(r):Kt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ct(e.integerValue));else if("doubleValue"in e){const r=Ct(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),up(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=la(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ca(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?uN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):h_(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):be(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const s=e.fields||{};this.Mt(t,53);const l=ld,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ct(u)),this.Nt(l,t),this.Ct(s[l],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}kl.Wt=new kl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=255;function lH(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function bC(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=lH(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class cH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=bC(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=bC(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(_u),this._n(255)}an(){this.un(_u),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===_u?(this._n(_u),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===_u?(this.un(_u),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class uH{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class dH{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class pf{constructor(){this.ln=new cH,this.hn=new uH(this.ln),this.Pn=new dH(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t,r,i){this.In=e,this.En=t,this.dn=r,this.An=i}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new Ml(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Cy(this.dn),directionalValue:Cy(this.An),orderedDocumentKey:Cy(t),documentKey:r.path.toArray()}}mn(e,t,r){const i=this.Vn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Qa(n,e){let t=n.In-e.In;return t!==0?t:(t=TC(n.dn,e.dn),t!==0?t:(t=TC(n.An,e.An),t!==0?t:ve.comparator(n.En,e.En)))}function TC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Cy(n){return vM()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function EC(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class SC{constructor(e){this.fn=new gt((t,r)=>kt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(xe(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=fT(e);if(t!==void 0&&!this.Sn(t))return!1;const r=Al(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.Sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.fn.size>0){const u=this.fn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.bn(u,d)||!this.Dn(this.gn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.gn.length||!this.Dn(this.gn[l++],u))return!1}return!0}vn(){if(this.yn)return null;let e=new gt(kt.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Ty(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Ty(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Ty(r.field,r.dir==="asc"?0:1)));return new rv(rv.UNKNOWN_ID,this.collectionId,t,cp.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n){var e,t;if(xe(n instanceof Qe||n instanceof mt,20012),n instanceof Qe){if(n instanceof _N){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>Qe.create(n.field,"==",s)))||[];return mt.create(i,"or")}return n}const r=n.filters.map(i=>JN(i));return mt.create(r,n.op)}function hH(n){if(n.getFilters().length===0)return[];const e=PT(JN(n));return xe(eV(e),7391),RT(e)||CT(e)?[e]:e.getFilters()}function RT(n){return n instanceof Qe}function CT(n){return n instanceof mt&&d1(n)}function eV(n){return RT(n)||CT(n)||function(t){if(t instanceof mt&&bT(t)){for(const r of t.getFilters())if(!RT(r)&&!CT(r))return!1;return!0}return!1}(n)}function PT(n){if(xe(n instanceof Qe||n instanceof mt,34018),n instanceof Qe)return n;if(n.filters.length===1)return PT(n.filters[0]);const e=n.filters.map(r=>PT(r));let t=mt.create(e,n.op);return t=dv(t),eV(t)?t:(xe(t instanceof mt,64498),xe(ud(t),40251),xe(t.filters.length>1,57927),t.filters.reduce((r,i)=>T1(r,i)))}function T1(n,e){let t;return xe(n instanceof Qe||n instanceof mt,38388),xe(e instanceof Qe||e instanceof mt,25473),t=n instanceof Qe?e instanceof Qe?function(i,s){return mt.create([i,s],"and")}(n,e):xC(n,e):e instanceof Qe?xC(e,n):function(i,s){if(xe(i.filters.length>0&&s.filters.length>0,48005),ud(i)&&ud(s))return gN(i,s.getFilters());const l=bT(i)?i:s,u=bT(i)?s:i,d=l.filters.map(f=>T1(f,u));return mt.create(d,"or")}(n,e),dv(t)}function xC(n,e){if(ud(e))return gN(e,n.getFilters());{const t=e.filters.map(r=>T1(n,r));return mt.create(t,"or")}}function dv(n){if(xe(n instanceof Qe||n instanceof mt,11850),n instanceof Qe)return n;const e=n.getFilters();if(e.length===1)return dv(e[0]);if(pN(n))return n;const t=e.map(i=>dv(i)),r=[];return t.forEach(i=>{i instanceof Qe?r.push(i):i instanceof mt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:mt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.Cn=new E1}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ur.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class E1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new gt(Ke.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="IndexedDbIndexManager",Kg=new Uint8Array(0);class pH{constructor(e,t){this.databaseId=t,this.Fn=new E1,this.Mn=new ya(r=>sc(r),(r,i)=>Xp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const s={collectionId:r,parent:tr(i)};return IC(e).put(s)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[UO(t),""],!1,!0);return IC(e).J(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(rs(l.parent))}return r})}addFieldIndex(e,t){const r=mf(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=bu(e);return s.next(u=>{l.put(vC(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=mf(e),i=bu(e),s=wu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=mf(e),r=wu(e),i=bu(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.xn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new SC(r).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=wu(e);let i=!0;const s=new Map;return X.forEach(this.xn(t),l=>this.On(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Ue();const u=[];return X.forEach(s,(d,f)=>{fe(AC,`Using index ${function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`}(d)} to execute ${sc(t)}`);const p=function(N,q){const z=fT(q);if(z===void 0)return null;for(const Y of lv(N,z.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(f,d),y=function(N,q){const z=new Map;for(const Y of Al(q))for(const k of lv(N,Y.fieldPath))switch(k.op){case"==":case"in":z.set(Y.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return z.set(Y.fieldPath.canonicalString(),k.value),Array.from(z.values())}return null}(f,d),v=function(N,q){const z=[];let Y=!0;for(const k of Al(q)){const D=k.kind===0?iC(N,k.fieldPath,N.startAt):sC(N,k.fieldPath,N.startAt);z.push(D.value),Y&&(Y=D.inclusive)}return new So(z,Y)}(f,d),b=function(N,q){const z=[];let Y=!0;for(const k of Al(q)){const D=k.kind===0?sC(N,k.fieldPath,N.endAt):iC(N,k.fieldPath,N.endAt);z.push(D.value),Y&&(Y=D.inclusive)}return new So(z,Y)}(f,d),T=this.Nn(d,f,v),A=this.Nn(d,f,b),I=this.Bn(d,f,y),C=this.Ln(d.indexId,p,T,v.inclusive,A,b.inclusive,I);return X.forEach(C,V=>r.Z(V,t.limit).next(N=>{N.forEach(q=>{const z=ve.fromSegments(q.documentKey);l.has(z)||(l=l.add(z),u.push(z))})}))}).next(()=>u)}return X.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=hH(mt.create(e.filters,"and")).map(r=>ET(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),f=d/(t!=null?t.length:1),p=[];for(let y=0;y<d;++y){const v=t?this.kn(t[y/f]):Kg,b=this.qn(e,v,r[y%f],i),T=this.Qn(e,v,s[y%f],l),A=u.map(I=>this.qn(e,v,I,!0));p.push(...this.createRange(b,T,A))}return p}qn(e,t,r,i){const s=new Ml(e,ve.empty(),t,r);return i?s:s.Rn()}Qn(e,t,r,i){const s=new Ml(e,ve.empty(),t,r);return i?s.Rn():s}On(e,t){const r=new SC(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.wn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.xn(t);return X.forEach(i,s=>this.On(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let f=new gt(kt.comparator),p=!1;for(const y of d.filters)for(const v of y.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?p=!0:f=f.add(v.field));for(const y of d.orderBy)y.field.isKeyField()||(f=f.add(y.field));return f.size+(p?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}$n(e,t){const r=new pf;for(const i of Al(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.Tn(i.kind);kl.Wt.vt(s,l)}return r.cn()}kn(e){const t=new pf;return kl.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new pf;return kl.Wt.vt(ic(this.databaseId,t),r.Tn(function(s){const l=Al(s);return l.length===0?0:l[l.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let i=[];i.push(new pf);let s=0;for(const l of Al(e)){const u=r[s++];for(const d of i)if(this.Kn(t,l.fieldPath)&&gp(u))i=this.Wn(i,l,u);else{const f=d.Tn(l.kind);kl.Wt.vt(u,f)}}return this.Gn(i)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new pf;d.seed(u.cn()),kl.Wt.vt(l,d.Tn(t.kind)),s.push(d)}return s}Kn(e,t){return!!e.filters.find(r=>r instanceof Qe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=mf(e),i=bu(e);return(t?r.J(mT,IDBKeyRange.bound(t,t)):r.J()).next(s=>{const l=[];return X.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(p,y){const v=y?new cp(y.sequenceNumber,new Ur(cc(y.readTime),new ve(rs(y.documentKey)),y.largestBatchId)):cp.empty(),b=p.fields.map(([T,A])=>new Ty(kt.fromServerFormat(T),A));return new rv(p.indexId,p.collectionGroup,b,v)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ne(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=mf(e),s=bu(e);return this.zn(e).next(l=>i.J(mT,IDBKeyRange.bound(t,t)).next(u=>X.forEach(u,d=>s.put(vC(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?X.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),X.forEach(u,d=>this.jn(e,i,d).next(f=>{const p=this.Hn(s,d);return f.isEqual(p)?X.resolve():this.Jn(e,s,d,f,p)}))))})}Yn(e,t,r,i){return wu(e).put(i.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,i){return wu(e).delete(i.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const i=wu(e);let s=new gt(Qa);return i.te({index:XO,range:IDBKeyRange.only([r.indexId,this.uid,Cy(this.Un(r,t))])},(l,u)=>{s=s.add(new Ml(r.indexId,t,EC(u.arrayValue),EC(u.directionalValue)))}).next(()=>s)}Hn(e,t){let r=new gt(Qa);const i=this.$n(t,e);if(i==null)return r;const s=fT(t);if(s!=null){const l=e.data.field(s.fieldPath);if(gp(l))for(const u of l.arrayValue.values||[])r=r.add(new Ml(t.indexId,e.key,this.kn(u),i))}else r=r.add(new Ml(t.indexId,e.key,Kg,i));return r}Jn(e,t,r,i,s){fe(AC,"Updating index entries for document '%s'",t.key);const l=[];return function(d,f,p,y,v){const b=d.getIterator(),T=f.getIterator();let A=vu(b),I=vu(T);for(;A||I;){let C=!1,V=!1;if(A&&I){const N=p(A,I);N<0?V=!0:N>0&&(C=!0)}else A!=null?V=!0:C=!0;C?(y(I),I=vu(T)):V?(v(A),A=vu(b)):(A=vu(b),I=vu(T))}}(i,s,Qa,u=>{l.push(this.Yn(e,t,r,u))},u=>{l.push(this.Zn(e,t,r,u))}),X.waitFor(l)}zn(e){let t=1;return bu(e).te({index:QO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>Qa(l,u)).filter((l,u,d)=>!u||Qa(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=Qa(l,e),d=Qa(l,t);if(u===0)i[0]=e.Rn();else if(u>0&&d<0)i.push(l),i.push(l.Rn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Xn(i[l],i[l+1]))return[];const u=i[l].mn(this.uid,Kg,ve.empty()),d=i[l+1].mn(this.uid,Kg,ve.empty());s.push(IDBKeyRange.bound(u,d))}return s}Xn(e,t){return Qa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DC)}getMinOffset(e,t){return X.mapArray(this.xn(t),r=>this.On(e,r).next(i=>i||be(44426))).next(DC)}}function IC(n){return Tn(n,fp)}function wu(n){return Tn(n,zf)}function mf(n){return Tn(n,a1)}function bu(n){return Tn(n,jf)}function DC(n){xe(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;r1(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ur(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tV=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(n,e,t){const r=n.store(wi),i=n.store(id),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.te({range:l},(p,y,v)=>(u++,v.delete()));s.push(d.next(()=>{xe(u===1,47070,{batchId:t.batchId})}));const f=[];for(const p of t.mutations){const y=WO(e,p.key.path,t.batchId);s.push(i.delete(y)),f.push(p.key)}return X.waitFor(s).next(()=>f)}function hv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(tV,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class g_{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.er={}}static St(e,t,r,i){xe(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new g_(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xa(e).te({index:Ll,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Du(e),l=Xa(e);return l.add({}).next(u=>{xe(typeof u=="number",49019);const d=new g1(u,t,r,i),f=function(b,T,A){const I=A.baseMutations.map(V=>_p(b.wt,V)),C=A.mutations.map(V=>_p(b.wt,V));return{userId:T,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:I,mutations:C}}(this.serializer,this.userId,d),p=[];let y=new gt((v,b)=>Ne(v.canonicalString(),b.canonicalString()));for(const v of i){const b=WO(this.userId,v.key.path,u);y=y.add(v.key.path.popLast()),p.push(l.put(f)),p.push(s.put(b,G$))}return y.forEach(v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.er[u]=d.keys()}),X.waitFor(p).next(()=>d)})}lookupMutationBatch(e,t){return Xa(e).get(t).next(r=>r?(xe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Pl(this.serializer,r)):null)}tr(e,t){return this.er[t]?X.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.er[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Xa(e).te({index:Ll,range:i},(l,u,d)=>{u.userId===this.userId&&(xe(u.batchId>=r,47524,{nr:r}),s=Pl(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ho;return Xa(e).te({index:Ll,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ho],[this.userId,Number.POSITIVE_INFINITY]);return Xa(e).J(Ll,t).next(r=>r.map(i=>Pl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ey(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Du(e).te({range:i},(l,u,d)=>{const[f,p,y]=l,v=rs(p);if(f===this.userId&&t.path.isEqual(v))return Xa(e).get(y).next(b=>{if(!b)throw be(61480,{rr:l,batchId:y});xe(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:y}),s.push(Pl(this.serializer,b))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gt(Ne);const i=[];return t.forEach(s=>{const l=Ey(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Du(e).te({range:u},(f,p,y)=>{const[v,b,T]=f,A=rs(b);v===this.userId&&s.path.isEqual(A)?r=r.add(T):y.done()});i.push(d)}),X.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Ey(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new gt(Ne);return Du(e).te({range:l},(d,f,p)=>{const[y,v,b]=d,T=rs(v);y===this.userId&&r.isPrefixOf(T)?T.length===i&&(u=u.add(b)):p.done()}).next(()=>this.ir(e,u))}ir(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Xa(e).get(s).next(l=>{if(l===null)throw be(35274,{batchId:s});xe(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(Pl(this.serializer,l))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return nV(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Du(e).te({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=rs(s[1]);i.push(d)}else u.done()}).next(()=>{xe(i.length===0,56720,{_r:i.map(s=>s.canonicalString())})})})}containsKey(e,t){return rV(e,this.userId,t)}ar(e){return iV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:ho,lastStreamToken:""})}}function rV(n,e,t){const r=Ey(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Du(n).te({range:s,ee:!0},(u,d,f)=>{const[p,y,v]=u;p===e&&y===i&&(l=!0),f.done()}).next(()=>l)}function Xa(n){return Tn(n,wi)}function Du(n){return Tn(n,id)}function iV(n){return Tn(n,dp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new uc(0)}static lr(){return new uc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new uc(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>De.fromTimestamp(new Nt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pr(e,i)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tu(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(xe(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Tu(e).te((l,u)=>{const d=Df(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Tu(e).te((r,i)=>{const s=Df(i);t(s)})}hr(e){return CC(e).get(av).next(t=>(xe(t!==null,2888),t))}Pr(e,t){return CC(e).put(av,t)}Tr(e,t){return Tu(e).put(ZN(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=sc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Tu(e).te({range:i,index:KO},(l,u,d)=>{const f=Df(u);Xp(t,f.target)&&(s=f,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=ro(e);return t.forEach(l=>{const u=tr(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=ro(e);return X.forEach(t,s=>{const l=tr(s.path);return X.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=ro(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ro(e);let s=Ue();return i.te({range:r,ee:!0},(l,u,d)=>{const f=rs(l[1]),p=new ve(f);s=s.add(p)}).next(()=>s)}containsKey(e,t){const r=tr(t.path),i=IDBKeyRange.bound([r],[UO(r)],!1,!0);let s=0;return ro(e).te({index:s1,ee:!0,range:i},([l,u],d,f)=>{l!==0&&(s++,f.done())}).next(()=>s>0)}Rt(e,t){return Tu(e).get(t).next(r=>r?Df(r):null)}}function Tu(n){return Tn(n,sd)}function CC(n){return Tn(n,Wl)}function ro(n){return Tn(n,ad)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="LruGarbageCollector",gH=1048576;function kC([n,e],[t,r]){const i=Ne(n,t);return i===0?Ne(e,r):i}class yH{constructor(e){this.Er=e,this.buffer=new gt(kC),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(PC,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?fe(PC,"Ignoring IndexedDB error during garbage collection: ",t):await No(t)}await this.mr(3e5)})}}class vH{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(br.le);const r=new yH(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(RC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RC):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,l,u,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),Su()<=Ge.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function aV(n,e){return new vH(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,t){this.db=e,this.garbageCollector=aV(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,i)=>t(i))}addReference(e,t,r){return Qg(e,r)}removeReference(e,t,r){return Qg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qg(e,t)}Dr(e,t){return function(i,s){let l=!1;return iV(i).ne(u=>rV(i,u,s).next(d=>(d&&(l=!0),X.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.br(e,(l,u)=>{if(u<=t){const d=this.Dr(e,l).next(f=>{if(!f)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,De.min()),ro(e).delete(function(y){return[0,tr(y.path)]}(l))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qg(e,t)}br(e,t){const r=ro(e);let i,s=br.le;return r.te({index:s1},([l,u],{path:d,sequenceNumber:f})=>{l===0?(s!==br.le&&t(new ve(rs(i)),s),s=f,i=d):s=br.le}).next(()=>{s!==br.le&&t(new ve(rs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qg(n,e){return ro(n).put(function(r,i){return{targetId:0,path:tr(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return El(e).put(r)}removeEntry(e,t,r){return El(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],uv(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=It.newInvalidDocument(t);return El(e).te({index:Sy,range:IDBKeyRange.only(gf(t))},(i,s)=>{r=this.Cr(t,s)}).next(()=>r)}Fr(e,t){let r={size:0,document:It.newInvalidDocument(t)};return El(e).te({index:Sy,range:IDBKeyRange.only(gf(t))},(i,s)=>{r={document:this.Cr(t,s),size:hv(s)}}).next(()=>r)}getEntries(e,t){let r=Er();return this.Mr(e,t,(i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)}).next(()=>r)}Or(e,t){let r=Er(),i=new xt(ve.comparator);return this.Mr(e,t,(s,l)=>{const u=this.Cr(s,l);r=r.insert(s,u),i=i.insert(s,hv(l))}).next(()=>({documents:r,Nr:i}))}Mr(e,t,r){if(t.isEmpty())return X.resolve();let i=new gt(NC);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(gf(i.first()),gf(i.last())),l=i.getIterator();let u=l.getNext();return El(e).te({index:Sy,range:s},(d,f,p)=>{const y=ve.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&NC(u,y)<0;)r(u,null),u=l.getNext();u&&u.isEqual(y)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?p.H(gf(u)):p.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),uv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return El(e).J(IDBKeyRange.bound(u,d,!0)).next(f=>{s==null||s.incrementDocumentReadCount(f.length);let p=Er();for(const y of f){const v=this.Cr(ve.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);v.isFoundDocument()&&(Jp(t,v)||i.has(v.key))&&(p=p.insert(v.key,v))}return p})}getAllFromCollectionGroup(e,t,r,i){let s=Er();const l=OC(t,r),u=OC(t,Ur.max());return El(e).te({index:GO,range:IDBKeyRange.bound(l,u,!0)},(d,f,p)=>{const y=this.Cr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(y.key,y),s.size===i&&p.done()}).next(()=>s)}newChangeBuffer(e){return new bH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return MC(e).get(pT).next(t=>(xe(!!t,20021),t))}vr(e,t){return MC(e).put(pT,t)}Cr(e,t){if(t){const r=sH(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(De.min())))return r}return It.newInvalidDocument(e)}}function lV(n){return new wH(n)}class bH extends oV{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new ya(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new gt((s,l)=>Ne(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Lr.get(s);if(t.push(this.Br.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=gC(this.Br.serializer,l);i=i.add(s.path.popLast());const f=hv(d);r+=f-u.size,t.push(this.Br.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=gC(this.Br.serializer,l.convertToNoDocument(De.min()));t.push(this.Br.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Br.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:i})=>(i.forEach((s,l)=>{this.Lr.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function MC(n){return Tn(n,hp)}function El(n){return Tn(n,sv)}function gf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OC(n,e){const t=e.documentKey.path.toArray();return[n,uv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function NC(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ne(t[s],r[s]),i)return i;return i=Ne(t.length,r.length),i||(i=Ne(t[t.length-2],r[r.length-2]),i||Ne(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Hf(r.mutation,i,Tr.empty(),Nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const i=is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Af();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=Er();const l=qf(),u=function(){return qf()}();return t.forEach((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof va)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Hf(p.mutation,f,p.mutation.getFieldMask(),Nt.now())):l.set(f.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var y;return u.set(f,new TH(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=qf();let i=new xt((l,u)=>l-u),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let p=r.get(d)||Tr.empty();p=u.applyToLocalView(f,p),r.set(d,p);const y=(i.get(u.batchId)||Ue()).add(d);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,y=AN();p.forEach(v=>{if(!s.has(v)){const b=MN(t.get(v),r.get(v));b!==null&&y.set(v,b),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):h1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):X.resolve(is());let u=rd,d=s;return l.next(f=>X.forEach(f,(p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,d,f,Ue())).next(p=>({batchId:u,changes:xN(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=Af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Af();return this.indexManager.getCollectionParents(e,s).next(u=>X.forEach(u,d=>{const f=function(y,v){return new ga(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((y,v)=>{l=l.insert(y,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,It.newInvalidDocument(p)))});let u=Af();return l.forEach((d,f)=>{const p=s.get(d);p!==void 0&&Hf(p.mutation,f,Tr.empty(),Nt.now()),Jp(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:on(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:b1(i.bundledQuery),readTime:on(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(){this.overlays=new xt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=is();return X.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.bt(e,t,s)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=is(),s=t.length+1,l=new ve(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new xt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=is(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=is(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return X.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new v1(t,r));let s=this.Qr.get(t);s===void 0&&(s=Ue(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.$r=new gt(Rn.Ur),this.Kr=new gt(Rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Rn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ve(new Ke([])),r=new Rn(t,e),i=new Rn(t,e+1),s=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),s.push(l.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new Ke([])),r=new Rn(t,e),i=new Rn(t,e+1);let s=Ue();return this.Kr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Rn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||Ne(e.Zr,t.Zr)}static Wr(e,t){return Ne(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new gt(Rn.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new g1(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new Rn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ho:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),i=new Rn(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);s.push(u)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gt(Ne);return t.forEach(i=>{const s=new Rn(i,0),l=new Rn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,l],u=>{r=r.add(u.Zr)})}),X.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const l=new Rn(new ve(s),0);let u=new gt(Ne);return this.Xr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Zr)),!0)},l),X.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return X.forEach(t.mutations,i=>{const s=new Rn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Rn(t,0),i=this.Xr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.ii=e,this.docs=function(){return new xt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let r=Er();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Er();const l=t.path,u=new ve(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||r1(zO(p),r)<=0||(i.has(p.key)||Jp(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,t,r,i){be(9500)}si(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DH(this)}getSize(e){return X.resolve(this.size)}}class DH extends oV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.persistence=e,this.oi=new ya(t=>sc(t),Xp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this._i=0,this.ai=new S1,this.targetCount=0,this.ui=uc.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new uc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.ci={},this.overlays={},this.li=new br(0),this.hi=!1,this.hi=!0,this.Pi=new xH,this.referenceDelegate=e(this),this.Ti=new RH(this),this.indexManager=new fH,this.remoteDocumentCache=function(i){return new IH(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new XN(t),this.Ei=new EH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new AH(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const i=new CH(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return X.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class CH extends qO{constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.Vi=new S1,this.mi=null}static fi(e){return new y_(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,r=>{const i=ve.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,De.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class fv{constructor(e,t){this.persistence=e,this.yi=new ya(r=>tr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aV(this,t)}static fi(e,t){return new fv(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(r++,s.removeEntry(l,De.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ay(e.data.value)),t}Dr(e,t,r){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.serializer=e}q(e,t,r,i){const s=new a_("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Qp)}(e),function(d){d.createObjectStore(dp,{keyPath:W$}),d.createObjectStore(wi,{keyPath:YR,autoIncrement:!0}).createIndex(Ll,WR,{unique:!0}),d.createObjectStore(id)}(e),VC(e),function(d){d.createObjectStore(Il)}(e));let l=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ad),d.deleteObjectStore(sd),d.deleteObjectStore(Wl)}(e),VC(e)),l=l.next(()=>function(d){const f=d.store(Wl),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:De.min().toTimestamp(),targetCount:0};return f.put(av,p)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,f){return f.store(wi).J().next(y=>{d.deleteObjectStore(wi),d.createObjectStore(wi,{keyPath:YR,autoIncrement:!0}).createIndex(Ll,WR,{unique:!0});const v=f.store(wi),b=y.map(T=>v.put(T));return X.waitFor(b)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(od,{keyPath:nq})})(e)})),r<5&&i>=5&&(l=l.next(()=>this.wi(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(hp)}(e),this.Si(s)))),r<7&&i>=7&&(l=l.next(()=>this.bi(s))),r<8&&i>=8&&(l=l.next(()=>this.Di(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.Ci(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(o_,{keyPath:rq})})(e),function(d){d.createObjectStore(l_,{keyPath:iq})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore(c_,{keyPath:dq});f.createIndex(gT,hq,{unique:!1}),f.createIndex(ZO,fq,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore(sv,{keyPath:K$});f.createIndex(Sy,Q$),f.createIndex(GO,X$)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(Il))),r<14&&i>=14&&(l=l.next(()=>this.Mi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(a1,{keyPath:sq,autoIncrement:!0}).createIndex(mT,aq,{unique:!1}),d.createObjectStore(jf,{keyPath:oq}).createIndex(QO,lq,{unique:!1}),d.createObjectStore(zf,{keyPath:cq}).createIndex(XO,uq,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(jf).clear()}).next(()=>{t.objectStore(zf).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(o1,{keyPath:pq})})(e)})),r<18&&i>=18&&vM()&&(l=l.next(()=>{t.objectStore(jf).clear()}).next(()=>{t.objectStore(zf).clear()})),l}Si(e){let t=0;return e.store(Il).te((r,i)=>{t+=hv(i)}).next(()=>{const r={byteSize:t};return e.store(hp).put(pT,r)})}wi(e){const t=e.store(dp),r=e.store(wi);return t.J().next(i=>X.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,ho],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Ll,l).next(u=>X.forEach(u,d=>{xe(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Pl(this.serializer,d);return nV(e,s.userId,f).next(()=>{})}))}))}bi(e){const t=e.store(ad),r=e.store(Il);return e.store(Wl).get(av).next(i=>{const s=[];return r.te((l,u)=>{const d=new Ke(l),f=function(y){return[0,tr(y)]}(d);s.push(t.get(f).next(p=>p?X.resolve():(y=>t.put({targetId:0,path:tr(y),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(s))})}Di(e,t){e.createObjectStore(fp,{keyPath:tq});const r=t.store(fp),i=new E1,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:tr(d)})}};return t.store(Il).te({ee:!0},(l,u)=>{const d=new Ke(l);return s(d.popLast())}).next(()=>t.store(id).te({ee:!0},([l,u,d],f)=>{const p=rs(u);return s(p.popLast())}))}Ci(e){const t=e.store(sd);return t.te((r,i)=>{const s=Df(i),l=ZN(this.serializer,s);return t.put(l)})}Fi(e,t){const r=t.store(Il),i=[];return r.te((s,l)=>{const u=t.store(sv),d=function(y){return y.document?new ve(Ke.fromString(y.document.name).popFirst(5)):y.noDocument?ve.fromSegments(y.noDocument.path):y.unknownDocument?ve.fromSegments(y.unknownDocument.path):be(36783)}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))}).next(()=>X.waitFor(i))}Mi(e,t){const r=t.store(wi),i=lV(this.serializer),s=new x1(y_.fi,this.serializer.wt);return r.J().next(l=>{const u=new Map;return l.forEach(d=>{var f;let p=(f=u.get(d.userId))!==null&&f!==void 0?f:Ue();Pl(this.serializer,d).keys().forEach(y=>p=p.add(y)),u.set(d.userId,p)}),X.forEach(u,(d,f)=>{const p=new Pn(f),y=m_.St(this.serializer,p),v=s.getIndexManager(p),b=g_.St(p,this.serializer,v,s.referenceDelegate);return new cV(i,b,y,v).recalculateAndSaveOverlaysForDocumentKeys(new yT(t,br.le),d).next()})})}}function VC(n){n.createObjectStore(ad,{keyPath:J$}).createIndex(s1,eq,{unique:!0}),n.createObjectStore(sd,{keyPath:"targetId"}).createIndex(KO,Z$,{unique:!0}),n.createObjectStore(Wl)}const Za="IndexedDbPersistence",gb=18e5,yb=5e3,vb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uV="main";class A1{constructor(e,t,r,i,s,l,u,d,f,p,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=s,this.window=l,this.document=u,this.Oi=f,this.Ni=p,this.Bi=y,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=v=>Promise.resolve(),!A1.C())throw new he(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _H(this,i),this.Ui=t+uV,this.serializer=new XN(d),this.Ki=new as(this.Ui,this.Bi,new PH(this.serializer)),this.Pi=new oH,this.Ti=new mH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lV(this.serializer),this.Ei=new aH,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,p===!1&&rn(Za,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(ne.FAILED_PRECONDITION,vb);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new br(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(Vo(e))return fe(Za,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(Za,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return yf(e).get(yu).next(t=>X.resolve(this.ts(t)))}ns(e){return Xg(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,gb)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=Tn(t,od);return r.J().next(i=>{const s=this._s(i,gb),l=i.filter(u=>s.indexOf(u)===-1);return X.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?X.resolve(!0):yf(e).get(yu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,yb)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new he(ne.FAILED_PRECONDITION,vb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xg(e).J().next(r=>this._s(r,yb).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&fe(Za,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Qp,od],e=>{const t=new yT(e,br.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Xg(e).J().next(t=>this._s(t,gb).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return g_.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pH(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return m_.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){fe(Za,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===18?yq:d===17?nN:d===16?gq:d===15?l1:d===14?tN:d===13?eN:d===12?mq:d===11?JO:void be(60245)}(this.Bi);let l;return this.Ki.runTransaction(e,i,s,u=>(l=new yT(u,this.li?this.li.next():br.le),t==="readwrite-primary"?this.Yi(l).next(d=>!!d||this.Zi(l)).next(d=>{if(!d)throw rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new he(ne.FAILED_PRECONDITION,$O);return r(l)}).next(d=>this.es(l).next(()=>d)):this.Es(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}Es(e){return yf(e).get(yu).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,yb)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new he(ne.FAILED_PRECONDITION,vb)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yf(e).put(yu,t)}static C(){return as.C()}Xi(e){const t=yf(e);return t.get(yu).next(r=>this.ts(r)?(fe(Za,"Releasing primary lease."),t.delete(yu)):X.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(rn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;yM()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return fe(Za,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rn(Za,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){rn("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yf(n){return Tn(n,Qp)}function Xg(n){return Tn(n,od)}function I1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ue(),i=Ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new D1(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yM()?8:HO($t())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new kH;return this.bs(e,t,l).next(u=>{if(s.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Su()<=Ge.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",xu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Su()<=Ge.DEBUG&&fe("QueryEngine","Query:",xu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Su()<=Ge.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",xu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):X.resolve())}ws(e,t){if(aC(t))return X.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=cv(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ue(...s);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.vs(t,u);return this.Cs(t,f,l,d.readTime)?this.ws(e,cv(t,null,"F")):this.Fs(e,f,t,d)}))})))}Ss(e,t,r,i){return aC(t)||i.isEqual(De.min())?X.resolve(null):this.ys.getDocuments(e,r).next(s=>{const l=this.vs(t,s);return this.Cs(t,l,r,i)?X.resolve(null):(Su()<=Ge.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xu(t)),this.Fs(e,l,t,jO(i,rd)).next(u=>u))})}vs(e,t){let r=new gt(EN(e));return t.forEach((i,s)=>{Jp(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,t,r){return Su()<=Ge.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",xu(t)),this.ys.getDocumentsMatchingQuery(e,t,Ur.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="LocalStore",MH=3e8;class OH{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new xt(Ne),this.Os=new ya(s=>sc(s),Xp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function hV(n,e,t,r){return new OH(n,e,t,r)}async function fV(n,e){const t=_e(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Ue();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return t.localDocuments.getDocuments(r,d).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:u}))})})}function NH(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,d,f,p){const y=f.batch,v=y.keys();let b=X.resolve();return v.forEach(T=>{b=b.next(()=>p.getEntry(d,T)).next(A=>{const I=f.docVersions.get(T);xe(I!==null,48541),A.version.compareTo(I)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(d,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Ue();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pV(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function VH(n,e){const t=_e(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,y)=>{const v=i.get(y);if(!v)return;u.push(t.Ti.removeMatchingKeys(s,p.removedDocuments,y).next(()=>t.Ti.addMatchingKeys(s,p.addedDocuments,y)));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(Kt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(y,b),function(A,I,C){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=MH?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(v,b,p)&&u.push(t.Ti.updateTargetData(s,b))});let d=Er(),f=Ue();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(mV(s,l,e.documentUpdates).next(p=>{d=p.qs,f=p.Qs})),!r.isEqual(De.min())){const p=t.Ti.getLastRemoteSnapshotVersion(s).next(y=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(p)}return X.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,f)).next(()=>d)}).then(s=>(t.xs=i,s))}function mV(n,e,t){let r=Ue(),i=Ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=Er();return t.forEach((u,d)=>{const f=s.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):fe(R1,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{qs:l,Qs:i}})}function LH(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ho),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pd(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new Xs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function md(n,e,t){const r=_e(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Vo(l))throw l;fe(R1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function pv(n,e,t){const r=_e(n);let i=De.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const y=_e(d),v=y.Os.get(p);return v!==void 0?X.resolve(y.xs.get(v)):y.Ti.getTargetData(f,p)}(r,l,fr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:De.min(),t?s:Ue())).next(u=>(vV(r,TN(e),u),{documents:u,$s:s})))}function gV(n,e){const t=_e(n),r=_e(t.Ti),i=t.xs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.Rt(s,e).next(l=>l?l.target:null))}function yV(n,e){const t=_e(n),r=t.Ns.get(e)||De.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Bs.getAllFromCollectionGroup(i,e,jO(r,rd),Number.MAX_SAFE_INTEGER)).then(i=>(vV(t,e,i),i))}function vV(n,e,t){let r=n.Ns.get(e)||De.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}async function FH(n,e,t,r){const i=_e(n);let s=Ue(),l=Er();for(const f of t){const p=e.Us(f.metadata.name);f.document&&(s=s.add(p));const y=e.Ks(f);y.setReadTime(e.Ws(f.metadata.readTime)),l=l.insert(p,y)}const u=i.Bs.newChangeBuffer({trackRemovals:!0}),d=await pd(i,function(p){return fr(Bd(Ke.fromString(`__bundle__/docs/${p}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>mV(f,u,l).next(p=>(u.apply(f),p)).next(p=>i.Ti.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Ti.addMatchingKeys(f,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,p.qs,p.Qs)).next(()=>p.qs)))}async function BH(n,e,t=Ue()){const r=await pd(n,fr(b1(e.bundledQuery))),i=_e(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=on(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ei.saveNamedQuery(s,e);const u=r.withResumeToken(Kt.EMPTY_BYTE_STRING,l);return i.xs=i.xs.insert(u.targetId,u),i.Ti.updateTargetData(s,u).next(()=>i.Ti.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ti.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ei.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="firestore_clients";function LC(n,e){return`${_V}_${n}_${e}`}const wV="firestore_mutations";function FC(n,e,t){let r=`${wV}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const bV="firestore_targets";function _b(n,e){return`${bV}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="SharedClientState";class mv{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Gs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new he(i.error.code,i.error.message))),l?new mv(e,t,i.state,s):(rn(Yi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new he(r.error.code,r.error.message))),s?new Yf(e,r.state,i):(rn(Yi,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=f1();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=YO(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new gv(e,s):(rn(Yi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class C1{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new C1(t.clientId,t.onlineState):(rn(Yi,`Failed to parse online state: ${e}`),null)}}class kT{constructor(){this.activeTargetIds=f1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wb{constructor(e,t,r,i,s){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new xt(Ne),this.started=!1,this.eo=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.no=LC(this.persistenceKey,this.Js),this.ro=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new kT),this.io=new RegExp(`^${_V}_${l}_([^_]*)$`),this.so=new RegExp(`^${wV}_${l}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${bV}_${l}_(\\d+)$`),this._o=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.ao=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const i=this.getItem(LC(this.persistenceKey,r));if(i){const s=gv.Gs(r,i);s&&(this.Xs=this.Xs.insert(s.clientId,s))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_b(this.persistenceKey,e));if(i){const s=Yf.Gs(e,i);s&&(r=s.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_b(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.To(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fe(Yi,"READ",e,t),t}setItem(e,t){fe(Yi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){fe(Yi,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(fe(Yi,"EVENT",t.key,t.newValue),t.key===this.no)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(s){let l=br.le;if(s!=null)try{const u=JSON.parse(s);xe(typeof u=="number",30636,{bo:s}),l=u}catch(u){rn(Yi,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==br.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(i=>this.syncEngine.vo(i)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const i=new mv(this.currentUser,e,t,r),s=FC(this.persistenceKey,this.currentUser,e);this.setItem(s,i.zs())}To(e){const t=FC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const i=_b(this.persistenceKey,e),s=new Yf(e,t,r);this.setItem(i,s.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return gv.Gs(r,t)}po(e,t){const r=this.so.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return mv.Gs(new Pn(s),i,t)}wo(e,t){const r=this.oo.exec(e),i=Number(r[1]);return Yf.Gs(i,t)}co(e){return C1.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);fe(Yi,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),i=this.ho(this.Xs),s=this.ho(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.Mo(l,u).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=f1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class TV{constructor(){this.xo=new kT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new kT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="ConnectivityMonitor";class UC{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(BC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(BC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg=null;function MT(){return Zg===null?Zg=function(){return 268435456+Math.round(2147483648*Math.random())}():Zg++,"0x"+Zg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="RestConnection",jH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zH{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===vT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const l=MT(),u=this.jo(e,t.toUriEncodedString());fe(bb,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,i,s);const{host:f}=new URL(u),p=jp(f);return this.Jo(e,u,d,r,p).then(y=>(fe(bb,`Received RPC '${e}' ${l}: `,y),y),y=>{throw ms(bb,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y})}Yo(e,t,r,i,s,l){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=jH[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class qH extends zH{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const l=MT();return new Promise((u,d)=>{const f=new kO;f.setWithCredentials(!0),f.listenOnce(MO.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case by.NO_ERROR:const y=f.getResponseJson();fe(Kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case by.TIMEOUT:fe(Kn,`RPC '${e}' ${l} timed out`),d(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case by.HTTP_ERROR:const v=f.getStatus();if(fe(Kn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const A=function(C){const V=C.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(V)>=0?V:ne.UNKNOWN}(T.status);d(new he(A,T.message))}else d(new he(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new he(ne.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{fe(Kn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(i);fe(Kn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",p,r,15)})}T_(e,t,r){const i=MT(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VO(),u=NO(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const p=s.join("");fe(Kn,`Creating RPC '${e}' stream ${i}: ${p}`,d);const y=l.createWebChannel(p,d);let v=!1,b=!1;const T=new $H({Zo:I=>{b?fe(Kn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(v||(fe(Kn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),fe(Kn,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Xo:()=>y.close()}),A=(I,C,V)=>{I.listen(C,N=>{try{V(N)}catch(q){setTimeout(()=>{throw q},0)}})};return A(y,xf.EventType.OPEN,()=>{b||(fe(Kn,`RPC '${e}' stream ${i} transport opened.`),T.__())}),A(y,xf.EventType.CLOSE,()=>{b||(b=!0,fe(Kn,`RPC '${e}' stream ${i} transport closed`),T.u_())}),A(y,xf.EventType.ERROR,I=>{b||(b=!0,ms(Kn,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),T.u_(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),A(y,xf.EventType.MESSAGE,I=>{var C;if(!b){const V=I.data[0];xe(!!V,16349);const N=V,q=(N==null?void 0:N.error)||((C=N[0])===null||C===void 0?void 0:C.error);if(q){fe(Kn,`RPC '${e}' stream ${i} received error:`,q);const z=q.status;let Y=function(M){const L=fn[M];if(L!==void 0)return VN(L)}(z),k=q.message;Y===void 0&&(Y=ne.INTERNAL,k="Unknown error status: "+z+" with message "+q.message),b=!0,T.u_(new he(Y,k)),y.close()}else fe(Kn,`RPC '${e}' stream ${i} received:`,V),T.c_(V)}}),A(u,OO.STAT_EVENT,I=>{I.stat===dT.PROXY?fe(Kn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===dT.NOPROXY&&fe(Kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){return typeof window<"u"?window:null}function Py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n){return new Kq(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="PersistentStream";class SV{constructor(e,t,r,i,s,l,u,d){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new P1(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(rn(t.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new he(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return fe(jC,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(fe(jC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HH extends SV{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=Zq(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?on(l.readTime):De.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=IT(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=ov(d)?{documents:HN(s,d)}:{query:YN(s,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=BN(s,l.resumeToken);const f=xT(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(De.min())>0){u.readTime=fd(s,l.snapshotVersion.toTimestamp());const f=xT(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=eH(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=IT(this.serializer),t.removeTarget=e,this.L_(t)}}class YH extends SV{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=Jq(e.writeResults,e.commitTime),r=on(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=IT(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_p(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{}class GH extends WH{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.zo(e,AT(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(ne.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,AT(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ne.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class KH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(rn(t),this.oa=!1):fe("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="RemoteStore";class QH{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(l=>{r.enqueueAndForget(async()=>{Fo(this)&&(fe(dc,"Restarting streams for network reachability change."),await async function(d){const f=_e(d);f.Ta.add(4),await zd(f),f.da.set("Unknown"),f.Ta.delete(4),await im(f)}(this))})}),this.da=new KH(r,i)}}async function im(n){if(Fo(n))for(const e of n.Ia)await e(!0)}async function zd(n){for(const e of n.Ia)await e(!1)}function v_(n,e){const t=_e(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),O1(t)?M1(t):qd(t).M_()&&k1(t,e))}function gd(n,e){const t=_e(n),r=qd(t);t.Pa.delete(e),r.M_()&&xV(t,e),t.Pa.size===0&&(r.M_()?r.N_():Fo(t)&&t.da.set("Unknown"))}function k1(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qd(n).H_(e)}function xV(n,e){n.Aa.Ke(e),qd(n).J_(e)}function M1(n){n.Aa=new Hq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),qd(n).start(),n.da._a()}function O1(n){return Fo(n)&&!qd(n).F_()&&n.Pa.size>0}function Fo(n){return _e(n).Ta.size===0}function AV(n){n.Aa=void 0}async function XH(n){n.da.set("Online")}async function ZH(n){n.Pa.forEach((e,t)=>{k1(n,e)})}async function JH(n,e){AV(n),O1(n)?(n.da.ca(e),M1(n)):n.da.set("Unknown")}async function eY(n,e,t){if(n.da.set("Online"),e instanceof FN&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){fe(dc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yv(n,r)}else if(e instanceof Ry?n.Aa.Xe(e):e instanceof LN?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(De.min()))try{const r=await pV(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.Aa.It(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Pa.get(f);p&&s.Pa.set(f,p.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const p=s.Pa.get(d);if(!p)return;s.Pa.set(d,p.withResumeToken(Kt.EMPTY_BYTE_STRING,p.snapshotVersion)),xV(s,d);const y=new Xs(p.target,d,f,p.sequenceNumber);k1(s,y)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){fe(dc,"Failed to raise snapshot:",r),await yv(n,r)}}async function yv(n,e,t){if(!Vo(e))throw e;n.Ta.add(1),await zd(n),n.da.set("Offline"),t||(t=()=>pV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(dc,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await im(n)})}function IV(n,e){return e().catch(t=>yv(n,t,e))}async function $d(n){const e=_e(n),t=xo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ho;for(;tY(e);)try{const i=await LH(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,nY(e,i)}catch(i){await yv(e,i)}DV(e)&&RV(e)}function tY(n){return Fo(n)&&n.ha.length<10}function nY(n,e){n.ha.push(e);const t=xo(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function DV(n){return Fo(n)&&!xo(n).F_()&&n.ha.length>0}function RV(n){xo(n).start()}async function rY(n){xo(n).ta()}async function iY(n){const e=xo(n);for(const t of n.ha)e.Z_(t.mutations)}async function sY(n,e,t){const r=n.ha.shift(),i=y1.from(r,e,t);await IV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await $d(n)}async function aY(n,e){e&&xo(n).Y_&&await async function(r,i){if(function(l){return NN(l)&&l!==ne.ABORTED}(i.code)){const s=r.ha.shift();xo(r).O_(),await IV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $d(r)}}(n,e),DV(n)&&RV(n)}async function zC(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),fe(dc,"RemoteStore received new credentials");const r=Fo(t);t.Ta.add(3),await zd(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await im(t)}async function OT(n,e){const t=_e(n);e?(t.Ta.delete(2),await im(t)):e||(t.Ta.add(2),await zd(t),t.da.set("Unknown"))}function qd(n){return n.Ra||(n.Ra=function(t,r,i){const s=_e(t);return s.ra(),new HH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:XH.bind(null,n),n_:ZH.bind(null,n),i_:JH.bind(null,n),j_:eY.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),O1(n)?M1(n):n.da.set("Unknown")):(await n.Ra.stop(),AV(n))})),n.Ra}function xo(n){return n.Va||(n.Va=function(t,r,i){const s=_e(t);return s.ra(),new YH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:rY.bind(null,n),i_:aY.bind(null,n),X_:iY.bind(null,n),ea:sY.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await $d(n)):(await n.Va.stop(),n.ha.length>0&&(fe(dc,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new N1(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(n,e){if(rn("AsyncQueue",`${e}: ${n}`),Vo(n))return new he(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{static emptySet(e){return new zu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Af(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.ma=new xt(ve.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class yd{constructor(e,t,r,i,s,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new yd(e,t,zu.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class lY{constructor(){this.queries=qC(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=_e(t),s=i.queries;i.queries=qC(),s.forEach((l,u)=>{for(const d of u.ya)d.onError(r)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function qC(){return new ya(n=>bN(n),Zp)}async function V1(n,e){const t=_e(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new oY,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await t.onListen(i,!0);break;case 1:s.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Hd(l,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ya.push(e),e.Da(t.onlineState),s.pa&&e.va(s.pa)&&F1(t)}async function L1(n,e){const t=_e(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ya.indexOf(e);l>=0&&(s.ya.splice(l,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cY(n,e){const t=_e(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ya)u.va(i)&&(r=!0);l.pa=i}}r&&F1(t)}function uY(n,e,t){const r=_e(n),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(t);r.queries.delete(e)}function F1(n){n.ba.forEach(e=>{e.next()})}var NT,HC;(HC=NT||(NT={})).Ca="default",HC.Cache="cache";class B1{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==NT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e}Us(e){return os(this.serializer,e)}Ks(e){return e.metadata.exists?qN(this.serializer,e.document,!1):It.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return on(e)}}class hY{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CV(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=Ke.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new YC(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Us(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Ue()).add(s);t.set(l,u)}}return t}async complete(){const e=await FH(this.localStore,new YC(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await BH(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function CV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.key=e}}class kV{constructor(e){this.key=e}}class MV{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ue(),this.mutatedKeys=Ue(),this.Ha=EN(e),this.Ja=new zu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new $C,i=t?t.Ja:this.Ja;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const v=i.get(p),b=Jp(this.query,y)?y:null,T=!!v&&this.mutatedKeys.has(v.key),A=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let I=!1;v&&b?v.data.isEqual(b.data)?T!==A&&(r.track({type:3,doc:b}),I=!0):this.eu(v,b)||(r.track({type:2,doc:b}),I=!0,(d&&this.Ha(b,d)>0||f&&this.Ha(b,f)<0)&&(u=!0)):!v&&b?(r.track({type:0,doc:b}),I=!0):v&&!b&&(r.track({type:1,doc:v}),I=!0,(d||f)&&(u=!0)),I&&(b?(l=l.add(b),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ja:l,Xa:r,Cs:u,mutatedKeys:s}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const l=e.Xa.ga();l.sort((p,y)=>function(b,T){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:I})}};return A(b)-A(T)}(p.type,y.type)||this.Ha(p.doc,y.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],d=this.ja.size===0&&this.current&&!i?1:0,f=d!==this.za;return this.za=d,l.length!==0||f?{snapshot:new yd(this.query,e.Ja,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new $C,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ue(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new kV(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new PV(r))}),t}su(e){this.Ga=e.$s,this.ja=Ue();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return yd.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Bo="SyncEngine";class fY{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pY{constructor(e){this.key=e,this._u=!1}}class mY{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new ya(u=>bN(u),Zp),this.cu=new Map,this.lu=new Set,this.hu=new xt(ve.comparator),this.Pu=new Map,this.Tu=new S1,this.Iu={},this.Eu=new Map,this.du=uc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function gY(n,e,t=!0){const r=__(n);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await OV(r,e,t,!0),i}async function yY(n,e){const t=__(n);await OV(t,e,!0,!1)}async function OV(n,e,t,r){const i=await pd(n.localStore,fr(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await U1(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&v_(n.remoteStore,i),u}async function U1(n,e,t,r,i){n.Ru=(y,v,b)=>async function(A,I,C,V){let N=I.view.Za(C);N.Cs&&(N=await pv(A.localStore,I.query,!1).then(({documents:k})=>I.view.Za(k,N)));const q=V&&V.targetChanges.get(I.targetId),z=V&&V.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(N,A.isPrimaryClient,q,z);return VT(A,I.targetId,Y.ru),Y.snapshot}(n,y,v,b);const s=await pv(n.localStore,e,!0),l=new MV(e,s.$s),u=l.Za(s.documents),d=nm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);VT(n,t,f.ru);const p=new fY(e,t,l);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),f.snapshot}async function vY(n,e,t){const r=_e(n),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(l=>!Zp(l,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await md(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gd(r.remoteStore,i.targetId),vd(r,i.targetId)}).catch(No)):(vd(r,i.targetId),await md(r.localStore,i.targetId,!0))}async function _Y(n,e){const t=_e(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gd(t.remoteStore,r.targetId))}async function wY(n,e,t){const r=q1(n);try{const i=await function(l,u){const d=_e(l),f=Nt.now(),p=u.reduce((b,T)=>b.add(T.key),Ue());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Er(),A=Ue();return d.Bs.getEntries(b,p).next(I=>{T=I,T.forEach((C,V)=>{V.isValidDocument()||(A=A.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,T)).next(I=>{y=I;const C=[];for(const V of u){const N=zq(V,y.get(V.key).overlayedDocument);N!=null&&C.push(new va(V.key,N,hN(N.value.mapValue),Mt.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,C,u)}).next(I=>{v=I;const C=I.applyToLocalDocumentSet(y,A);return d.documentOverlayCache.saveOverlays(b,I.batchId,C)})}).then(()=>({batchId:v.batchId,changes:xN(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.Iu[l.currentUser.toKey()];f||(f=new xt(Ne)),f=f.insert(u,d),l.Iu[l.currentUser.toKey()]=f}(r,i.batchId,t),await _a(r,i.changes),await $d(r.remoteStore)}catch(i){const s=Hd(i,"Failed to persist write");t.reject(s)}}async function NV(n,e){const t=_e(n);try{const r=await VH(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Pu.get(s);l&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l._u=!0:i.modifiedDocuments.size>0?xe(l._u,14607):i.removedDocuments.size>0&&(xe(l._u,42227),l._u=!1))}),await _a(t,r,e)}catch(r){await No(r)}}function WC(n,e,t){const r=_e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((s,l)=>{const u=l.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=_e(l);d.onlineState=u;let f=!1;d.queries.forEach((p,y)=>{for(const v of y.ya)v.Da(u)&&(f=!0)}),f&&F1(d)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bY(n,e,t){const r=_e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),s=i&&i.key;if(s){let l=new xt(ve.comparator);l=l.insert(s,It.newNoDocument(s,De.min()));const u=Ue().add(s),d=new tm(De.min(),new Map,new xt(Ne),l,u);await NV(r,d),r.hu=r.hu.remove(s),r.Pu.delete(e),$1(r)}else await md(r.localStore,e,!1).then(()=>vd(r,e,t)).catch(No)}async function TY(n,e){const t=_e(n),r=e.batch.batchId;try{const i=await NH(t.localStore,e);z1(t,r,null),j1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _a(t,i)}catch(i){await No(i)}}async function EY(n,e,t){const r=_e(n);try{const i=await function(l,u){const d=_e(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next(y=>(xe(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(r.localStore,e);z1(r,e,t),j1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _a(r,i)}catch(i){await No(i)}}async function SY(n,e){const t=_e(n);Fo(t.remoteStore)||fe(Bo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=_e(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===ho)return void e.resolve();const i=t.Eu.get(r)||[];i.push(e),t.Eu.set(r,i)}catch(r){const i=Hd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function j1(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function z1(n,e,t){const r=_e(n);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function vd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||VV(n,r)})}function VV(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(gd(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),$1(n))}function VT(n,e,t){for(const r of t)r instanceof PV?(n.Tu.addReference(r.key,e),xY(n,r)):r instanceof kV?(fe(Bo,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||VV(n,r.key)):be(19791,{mu:r})}function xY(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(fe(Bo,"New document in limbo: "+t),n.lu.add(r),$1(n))}function $1(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve(Ke.fromString(e)),r=n.du.next();n.Pu.set(r,new pY(t)),n.hu=n.hu.insert(t,r),v_(n.remoteStore,new Xs(fr(Bd(t.path)),r,"TargetPurposeLimboResolution",br.le))}}async function _a(n,e,t){const r=_e(n),i=[],s=[],l=[];r.uu.isEmpty()||(r.uu.forEach((u,d)=>{l.push(r.Ru(d,e,t).then(f=>{var p;if((f||t)&&r.isPrimaryClient){const y=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){i.push(f);const y=D1.Rs(d.targetId,f);s.push(y)}}))}),await Promise.all(l),r.au.j_(i),await async function(d,f){const p=_e(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>X.forEach(f,v=>X.forEach(v.ds,b=>p.persistence.referenceDelegate.addReference(y,v.targetId,b)).next(()=>X.forEach(v.As,b=>p.persistence.referenceDelegate.removeReference(y,v.targetId,b)))))}catch(y){if(!Vo(y))throw y;fe(R1,"Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const b=p.xs.get(v),T=b.snapshotVersion,A=b.withLastLimboFreeSnapshotVersion(T);p.xs=p.xs.insert(v,A)}}}(r.localStore,s))}async function AY(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){fe(Bo,"User change. New user:",e.toKey());const r=await fV(t.localStore,e);t.currentUser=e,function(s,l){s.Eu.forEach(u=>{u.forEach(d=>{d.reject(new he(ne.CANCELLED,l))})}),s.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _a(t,r.ks)}}function IY(n,e){const t=_e(n),r=t.Pu.get(e);if(r&&r._u)return Ue().add(r.key);{let i=Ue();const s=t.cu.get(e);if(!s)return i;for(const l of s){const u=t.uu.get(l);i=i.unionWith(u.view.Ya)}return i}}async function DY(n,e){const t=_e(n),r=await pv(t.localStore,e.query,!0),i=e.view.su(r);return t.isPrimaryClient&&VT(t,e.targetId,i.ru),i}async function RY(n,e){const t=_e(n);return yV(t.localStore,e).then(r=>_a(t,r))}async function CY(n,e,t,r){const i=_e(n),s=await function(u,d){const f=_e(u),p=_e(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",y=>p.tr(y,d).next(v=>v?f.localDocuments.getDocuments(y,v):X.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await $d(i.remoteStore):t==="acknowledged"||t==="rejected"?(z1(i,e,r||null),j1(i,e),function(u,d){_e(_e(u).mutationQueue).sr(d)}(i.localStore,e)):be(6720,"Unknown batchState",{fu:t}),await _a(i,s)):fe(Bo,"Cannot apply mutation batch with id: "+e)}async function PY(n,e){const t=_e(n);if(__(t),q1(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await GC(t,r.toArray());t.Au=!0,await OT(t.remoteStore,!0);for(const s of i)v_(t.remoteStore,s)}else if(e===!1&&t.Au!==!1){const r=[];let i=Promise.resolve();t.cu.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(vd(t,l),md(t.localStore,l,!0))),gd(t.remoteStore,l)}),await i,await GC(t,r),function(l){const u=_e(l);u.Pu.forEach((d,f)=>{gd(u.remoteStore,f)}),u.Tu.Jr(),u.Pu=new Map,u.hu=new xt(ve.comparator)}(t),t.Au=!1,await OT(t.remoteStore,!1)}}async function GC(n,e,t){const r=_e(n),i=[],s=[];for(const l of e){let u;const d=r.cu.get(l);if(d&&d.length!==0){u=await pd(r.localStore,fr(d[0]));for(const f of d){const p=r.uu.get(f),y=await DY(r,p);y.snapshot&&s.push(y.snapshot)}}else{const f=await gV(r.localStore,l);u=await pd(r.localStore,f),await U1(r,LV(f),l,!1,u.resumeToken)}i.push(u)}return r.au.j_(s),i}function LV(n){return wN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kY(n){return function(t){return _e(_e(t).persistence).Is()}(_e(n).localStore)}async function MY(n,e,t,r){const i=_e(n);if(i.Au)return void fe(Bo,"Ignoring unexpected query state notification.");const s=i.cu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await yV(i.localStore,TN(s[0])),u=tm.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Kt.EMPTY_BYTE_STRING);await _a(i,l,u);break}case"rejected":await md(i.localStore,e,!0),vd(i,e,r);break;default:be(64155,t)}}async function OY(n,e,t){const r=__(n);if(r.Au){for(const i of e){if(r.cu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){fe(Bo,"Adding an already active target "+i);continue}const s=await gV(r.localStore,i),l=await pd(r.localStore,s);await U1(r,LV(s),l.targetId,!1,l.resumeToken),v_(r.remoteStore,l)}for(const i of t)r.cu.has(i)&&await md(r.localStore,i,!1).then(()=>{gd(r.remoteStore,i),vd(r,i)}).catch(No)}}function __(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bY.bind(null,e),e.au.j_=cY.bind(null,e.eventManager),e.au.Vu=uY.bind(null,e.eventManager),e}function q1(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EY.bind(null,e),e}function NY(n,e,t){const r=_e(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(b,T){const A=_e(b),I=on(T.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",C=>A.Ei.getBundleMetadata(C,T.id)).then(C=>!!C&&C.createTime.compareTo(I)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(CV(d));const f=new hY(d,s.localStore,l.serializer);let p=await l.gu();for(;p;){const v=await f.$a(p);v&&u._updateProgress(v),p=await l.gu()}const y=await f.complete();return await _a(s,y.Wa,void 0),await function(b,T){const A=_e(b);return A.persistence.runTransaction("Save bundle","readwrite",I=>A.Ei.saveBundleMetadata(I,T))}(s.localStore,d),u._completeWith(y.progress),Promise.resolve(y.Ka)}catch(d){return ms(Bo,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rm(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return hV(this.persistence,new dV,e.initialUser,this.serializer)}yu(e){return new x1(y_.fi,this.serializer)}pu(e){return new TV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class VY extends wp{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){xe(this.persistence.referenceDelegate instanceof fv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sV(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new x1(r=>fv.fi(r,t),this.serializer)}}class FV extends wp{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await q1(this.Du.syncEngine),await $d(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return hV(this.persistence,new dV,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new sV(r,e.asyncQueue,t)}bu(e,t){const r=new H$(t,this.persistence);return new q$(e.asyncQueue,r)}yu(e){const t=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new A1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,EV(),Py(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new TV}}class LY extends FV{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof wb&&(this.sharedClientState.syncEngine={Co:CY.bind(null,t),Fo:MY.bind(null,t),Mo:OY.bind(null,t),Is:kY.bind(null,t),vo:RY.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await PY(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=EV();if(!wb.C(t))throw new he(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AY.bind(null,this.syncEngine),await OT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lY}()}createDatastore(e){const t=rm(e.databaseInfo.databaseId),r=function(s){return new qH(s)}(e.databaseInfo);return function(s,l,u,d){return new GH(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new QH(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>WC(this.syncEngine,t,0),function(){return UC.C()?new UC:new UH}())}createSyncEngine(e,t){return function(i,s,l,u,d,f,p){const y=new mY(i,s,l,u,d,f);return p&&(y.Au=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=_e(i);fe(dc,"RemoteStore shutting down."),s.Ta.add(5),await zd(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bp.provider={build:()=>new bp};function KC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new $n,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const i=await this.Bu(r);return new dY(JSON.parse(i),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=_e(i),u={documents:s.map(y=>vp(l.serializer,y))},d=await l.Yo("BatchGetDocuments",l.serializer.databaseId,Ke.emptyPath(),u,s.length),f=new Map;d.forEach(y=>{const v=Xq(l.serializer,y);f.set(v.key.toString(),v)});const p=[];return s.forEach(y=>{const v=f.get(y.toString());xe(!!v,55234,{key:y}),p.push(v)}),p}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new m1(i,this.precondition(i)))}),await async function(r,i){const s=_e(r),l={writes:i.map(u=>_p(s.serializer,u))};await s.zo("Commit",s.serializer.databaseId,Ke.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be(50498,{qu:e.constructor.name});t=De.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new he(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(De.min())?Mt.exists(!1):Mt.updateTime(t):Mt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(De.min()))throw new he(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(t)}return Mt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Qu=r.maxAttempts,this.C_=new P1(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new BY(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Wu(i)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!Kp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!NN(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class jY{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pn.UNAUTHENTICATED,this.clientId=BO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{fe(Ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(fe(Ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hd(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tb(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Ao,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function QC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H1(n);fe(Ao,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zC(e.remoteStore,i)),n._onlineComponents=e}async function H1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Ao,"Using user provided OfflineComponentProvider");try{await Tb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ms("Error using user provided cache. Falling back to memory cache: "+t),await Tb(n,new wp)}}else fe(Ao,"Using default OfflineComponentProvider"),await Tb(n,new VY(void 0));return n._offlineComponents}async function b_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Ao,"Using user provided OnlineComponentProvider"),await QC(n,n._uninitializedComponentsProvider._online)):(fe(Ao,"Using default OnlineComponentProvider"),await QC(n,new bp))),n._onlineComponents}function BV(n){return H1(n).then(e=>e.persistence)}function Y1(n){return H1(n).then(e=>e.localStore)}function UV(n){return b_(n).then(e=>e.remoteStore)}function W1(n){return b_(n).then(e=>e.syncEngine)}function zY(n){return b_(n).then(e=>e.datastore)}async function _d(n){const e=await b_(n),t=e.eventManager;return t.onListen=gY.bind(null,e.syncEngine),t.onUnlisten=vY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_Y.bind(null,e.syncEngine),t}function $Y(n){return n.asyncQueue.enqueue(async()=>{const e=await BV(n),t=await UV(n);return e.setNetworkEnabled(!0),function(i){const s=_e(i);return s.Ta.delete(0),im(s)}(t)})}function qY(n){return n.asyncQueue.enqueue(async()=>{const e=await BV(n),t=await UV(n);return e.setNetworkEnabled(!1),async function(i){const s=_e(i);s.Ta.add(0),await zd(s),s.da.set("Offline")}(t)})}function HY(n,e){const t=new $n;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(f,p){const y=_e(f);return y.persistence.runTransaction("read document","readonly",v=>y.localDocuments.getDocument(v,p))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new he(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Hd(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await Y1(n),e,t)),t.promise}function jV(n,e,t={}){const r=new $n;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,f){const p=new w_({next:v=>{p.Cu(),l.enqueueAndForget(()=>L1(s,y));const b=v.docs.has(u);!b&&v.fromCache?f.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?f.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new B1(Bd(u.path),p,{includeMetadataChanges:!0,La:!0});return V1(s,y)}(await _d(n),n.asyncQueue,e,t,r)),r.promise}function YY(n,e){const t=new $n;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await pv(i,s,!0),d=new MV(s,u.$s),f=d.Za(u.documents),p=d.applyChanges(f,!1);l.resolve(p.snapshot)}catch(u){const d=Hd(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await Y1(n),e,t)),t.promise}function zV(n,e,t={}){const r=new $n;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,f){const p=new w_({next:v=>{p.Cu(),l.enqueueAndForget(()=>L1(s,y)),v.fromCache&&d.source==="server"?f.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new B1(u,p,{includeMetadataChanges:!0,La:!0});return V1(s,y)}(await _d(n),n.asyncQueue,e,t,r)),r.promise}function WY(n,e){const t=new w_(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){_e(i).ba.add(s),s.next()}(await _d(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){_e(i).ba.delete(s)}(await _d(n),t))}}function GY(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?n1().encode(l):l,function(p,y){return new FY(p,y)}(function(p,y){if(p instanceof Uint8Array)return KC(p,y);if(p instanceof ArrayBuffer)return KC(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,rm(e));n.asyncQueue.enqueueAndForget(async()=>{NY(await W1(n),i,r)})}function KY(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=_e(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Ei.getNamedQuery(l,i))}(await Y1(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qV(n,e,t,r){if(e===!0&&r===!0)throw new he(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZC(n){if(!ve.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JC(n){if(ve.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function T_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function st(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=T_(n);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function HV(n,e){if(e<=0)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="firestore.googleapis.com",eP=!0;class tP{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YV,this.ssl=eP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:eP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gH)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$V((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M$;switch(r.type){case"firstParty":return new L$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=XC.get(t);r&&(fe("ComponentProvider","Removing Datastore"),XC.delete(t),r.terminate())}(this),Promise.resolve()}}function QY(n,e,t,r={}){var i;n=st(n,sm);const s=jp(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;s&&(hM(`https://${d}`),fM("Firestore",!0)),l.host!==YV&&l.host!==d&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:s,emulatorOptions:r});if(!go(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Pn.MOCK_USER;else{p=QB(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Pn(v)}n._authCredentials=new O$(new FO(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr=class WV{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new WV(this.firestore,e,this._query)}},jt=class GV{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new GV(this.firestore,e,this._key)}},fo=class KV extends pr{constructor(e,t,r){super(e,t,Bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ve(e))}withConverter(e){return new KV(this.firestore,e,this._path)}};function QV(n,e,...t){if(n=ke(n),G1("collection","path",e),n instanceof sm){const r=Ke.fromString(e,...t);return JC(r),new fo(n,null,r)}{if(!(n instanceof jt||n instanceof fo))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return JC(r),new fo(n.firestore,null,r)}}function XY(n,e){if(n=st(n,sm),G1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pr(n,null,function(r){return new ga(Ke.emptyPath(),r)}(e))}function vv(n,e,...t){if(n=ke(n),arguments.length===1&&(e=BO.newId()),G1("doc","path",e),n instanceof sm){const r=Ke.fromString(e,...t);return ZC(r),new jt(n,null,new ve(r))}{if(!(n instanceof jt||n instanceof fo))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return ZC(r),new jt(n.firestore,n instanceof fo?n.converter:null,new ve(r))}}function XV(n,e){return n=ke(n),e=ke(e),(n instanceof jt||n instanceof fo)&&(e instanceof jt||e instanceof fo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ZV(n,e){return n=ke(n),e=ke(e),n instanceof pr&&e instanceof pr&&n.firestore===e.firestore&&Zp(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="AsyncQueue";class rP{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new P1(this,"async_queue_retry"),this.ec=()=>{const r=Py();r&&fe(nP,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Py();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Py();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new $n;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vo(e))throw e;fe(nP,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,rn("INTERNAL UNHANDLED ERROR: ",iP(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=N1.createAndSchedule(this,e,t,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&be(47125,{_c:iP(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function iP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class ZY{constructor(){this._progressObserver={},this._taskCompletionResolver=new $n,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY=-1;let ln=class extends sm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new rP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rP(e),this._firestoreClient=void 0,await e}}};function nr(n){if(n._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JV(n),n._firestoreClient}function JV(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,f,p){return new wq(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$V(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new jY(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function eW(n,e){ms("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return eL(n,bp.provider,{build:r=>new FV(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function tW(n){ms("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();eL(n,bp.provider,{build:t=>new LY(t,e.cacheSizeBytes)})}function eL(n,e,t){if((n=st(n,ln))._firestoreClient||n._terminated)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new he(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},JV(n)}function nW(n){if(n._initialized&&!n._terminated)throw new he(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $n;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!as.C())return Promise.resolve();const i=r+uV;await as.delete(i)}(I1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function rW(n){return function(t){const r=new $n;return t.asyncQueue.enqueueAndForget(async()=>SY(await W1(t),r)),r.promise}(nr(n=st(n,ln)))}function iW(n){return $Y(nr(n=st(n,ln)))}function sW(n){return qY(nr(n=st(n,ln)))}function aW(n,e){const t=nr(n=st(n,ln)),r=new ZY;return GY(t,n._databaseId,e,r),r}function oW(n,e){return KY(nr(n=st(n,ln)),e).then(t=>t?new pr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Kt.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ys(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=/^__.*__$/;class cW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ud(e,this.data,t,this.fieldTransforms)}}class tL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{hc:n})}}class S_{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new S_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return _v(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(nL(this.hc)&&lW.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class uW{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rm(e)}gc(e,t,r,i=!1){return new S_({hc:e,methodName:t,fc:r,path:kt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _c(n){const e=n._freezeSettings(),t=rm(n._databaseId);return new uW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function x_(n,e,t,r,i,s={}){const l=n.gc(s.merge||s.mergeFields?2:0,e,t,i);nS("Data must be an object, but it was:",l,r);const u=sL(r,l);let d,f;if(s.merge)d=new Tr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const v=FT(e,y,t);if(!l.contains(v))throw new he(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oL(p,v)||p.push(v)}d=new Tr(p),f=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=l.fieldTransforms;return new cW(new jn(u),d,f)}class am extends vc{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function rL(n,e,t){return new S_({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Q1 extends vc{_toFieldTransform(e){return new em(e.path,new dd)}isEqual(e){return e instanceof Q1}}class X1 extends vc{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=rL(this,e,!0),r=this.yc.map(s=>wc(s,t)),i=new ac(r);return new em(e.path,i)}isEqual(e){return e instanceof X1&&go(this.yc,e.yc)}}class Z1 extends vc{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=rL(this,e,!0),r=this.yc.map(s=>wc(s,t)),i=new oc(r);return new em(e.path,i)}isEqual(e){return e instanceof Z1&&go(this.yc,e.yc)}}class J1 extends vc{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new hd(e.serializer,DN(e.serializer,this.wc));return new em(e.path,t)}isEqual(e){return e instanceof J1&&this.wc===e.wc}}function eS(n,e,t,r){const i=n.gc(1,e,t);nS("Data must be an object, but it was:",i,r);const s=[],l=jn.empty();Lo(r,(d,f)=>{const p=rS(e,d,t);f=ke(f);const y=i.Ac(p);if(f instanceof am)s.push(p);else{const v=wc(f,y);v!=null&&(s.push(p),l.set(p,v))}});const u=new Tr(s);return new tL(l,u,i.fieldTransforms)}function tS(n,e,t,r,i,s){const l=n.gc(1,e,t),u=[FT(e,r,t)],d=[i];if(s.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)u.push(FT(e,s[v])),d.push(s[v+1]);const f=[],p=jn.empty();for(let v=u.length-1;v>=0;--v)if(!oL(f,u[v])){const b=u[v];let T=d[v];T=ke(T);const A=l.Ac(b);if(T instanceof am)f.push(b);else{const I=wc(T,A);I!=null&&(f.push(b),p.set(b,I))}}const y=new Tr(f);return new tL(p,y,l.fieldTransforms)}function iL(n,e,t,r=!1){return wc(t,n.gc(r?4:3,e))}function wc(n,e){if(aL(n=ke(n)))return nS("Unsupported field value:",e,n),sL(n,e);if(n instanceof vc)return function(r,i){if(!nL(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=wc(u,i.Rc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Nt.fromDate(r);return{timestampValue:fd(i.serializer,s)}}if(r instanceof Nt){const s=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,s)}}if(r instanceof E_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ys)return{bytesValue:BN(i.serializer,r._byteString)};if(r instanceof jt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:w1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof K1)return function(l,u){return{mapValue:{fields:{[c1]:{stringValue:u1},[ld]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Vc("VectorValues must only contain numeric values.");return p1(u.serializer,f)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${T_(r)}`)}(n,e)}function sL(n,e){const t={};return rN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(n,(r,i)=>{const s=wc(i,e.Ic(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function aL(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof E_||n instanceof ys||n instanceof jt||n instanceof vc||n instanceof K1)}function nS(n,e,t){if(!aL(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=T_(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function FT(n,e,t){if((e=ke(e))instanceof Io)return e._internalPath;if(typeof e=="string")return rS(n,e);throw _v("Field path arguments must be of type string or ",n,!1,void 0,t)}const dW=new RegExp("[~\\*/\\[\\]]");function rS(n,e,t){if(e.search(dW)>=0)throw _v(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Io(...e.split("."))._internalPath}catch{throw _v(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _v(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new he(ne.INVALID_ARGUMENT,u+n+d)}function oL(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(A_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hW extends Tp{data(){return super.data()}}function A_(n,e){return typeof e=="string"?rS(n,e):e instanceof Io?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iS{}class om extends iS{}function Ja(n,e,...t){let r=[];e instanceof iS&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof sS).length,u=s.filter(d=>d instanceof I_).length;if(l>1||l>0&&u>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class I_ extends om{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new I_(e,t,r)}_apply(e){const t=this._parse(e);return uL(e._query,t),new pr(e.firestore,e.converter,ST(e._query,t))}_parse(e){const t=_c(e.firestore);return function(s,l,u,d,f,p,y){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){aP(y,p);const T=[];for(const A of y)T.push(sP(d,s,A));v={arrayValue:{values:T}}}else v=sP(d,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||aP(y,p),v=iL(u,l,y,p==="in"||p==="not-in");return Qe.create(f,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fW(n,e,t){const r=e,i=A_("where",n);return I_._create(i,r,t)}class sS extends iS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sS(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)uL(l,d),l=ST(l,d)}(e._query,t),new pr(e.firestore,e.converter,ST(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aS extends om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aS(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yp(s,l)}(e._query,this._field,this._direction);return new pr(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new ga(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function pW(n,e="asc"){const t=e,r=A_("orderBy",n);return aS._create(r,t)}class D_ extends om{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new D_(e,t,r)}_apply(e){return new pr(e.firestore,e.converter,cv(e._query,this._limit,this._limitType))}}function mW(n){return HV("limit",n),D_._create("limit",n,"F")}function gW(n){return HV("limitToLast",n),D_._create("limitToLast",n,"L")}class R_ extends om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new R_(e,t,r)}_apply(e){const t=cL(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,function(i,s){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function yW(...n){return R_._create("startAt",n,!0)}function vW(...n){return R_._create("startAfter",n,!1)}class C_ extends om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new C_(e,t,r)}_apply(e){const t=cL(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,function(i,s){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function _W(...n){return C_._create("endBefore",n,!1)}function wW(...n){return C_._create("endAt",n,!0)}function cL(n,e,t,r){if(t[0]=ke(t[0]),t[0]instanceof Tp)return function(s,l,u,d,f){if(!d)throw new he(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const p=[];for(const y of ju(s))if(y.field.isKeyField())p.push(ic(l,d.key));else{const v=d.data.field(y.field);if(u_(v))throw new he(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=y.field.canonicalString();throw new he(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(v)}return new So(p,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_c(n.firestore);return function(l,u,d,f,p,y){const v=l.explicitOrderBy;if(p.length>v.length)throw new he(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let T=0;T<p.length;T++){const A=p[T];if(v[T].field.isKeyField()){if(typeof A!="string")throw new he(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof A}`);if(!h1(l)&&A.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${A}' contains a slash.`);const I=l.path.child(Ke.fromString(A));if(!ve.isDocumentKey(I))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const C=new ve(I);b.push(ic(u,C))}else{const I=iL(d,f,A);b.push(I)}}return new So(b,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function sP(n,e,t){if(typeof(t=ke(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h1(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ke.fromString(t));if(!ve.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ic(n,new ve(r))}if(t instanceof jt)return ic(n,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${T_(t)}.`)}function aP(n,e){if(!Array.isArray(n)||n.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uL(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oS{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ld].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Ct(l.doubleValue));return new K1(s)}convertGeoPoint(e){return new E_(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=d_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pp(e));default:return null}}convertTimestamp(e){const t=la(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ke.fromString(e);xe(QN(r),9688,{name:e});const i=new bo(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(t)||rn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bW extends oS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ua=class extends Tp{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(A_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Wf=class extends ua{data(e={}){return super.data(e)}},Do=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wf(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Wf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new Wf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:TW(u.type),doc:d,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function TW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}function dL(n,e){return n instanceof ua&&e instanceof ua?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Do&&e instanceof Do&&n._firestore===e._firestore&&ZV(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(n){n=st(n,jt);const e=st(n.firestore,ln);return jV(nr(e),n._key).then(t=>lS(e,n,t))}class bc extends oS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}function SW(n){n=st(n,jt);const e=st(n.firestore,ln),t=nr(e),r=new bc(e);return HY(t,n._key).then(i=>new ua(e,r,n._key,i,new Fl(i!==null&&i.hasLocalMutations,!0),n.converter))}function xW(n){n=st(n,jt);const e=st(n.firestore,ln);return jV(nr(e),n._key,{source:"server"}).then(t=>lS(e,n,t))}function AW(n){n=st(n,pr);const e=st(n.firestore,ln),t=nr(e),r=new bc(e);return lL(n._query),zV(t,n._query).then(i=>new Do(e,r,n,i))}function IW(n){n=st(n,pr);const e=st(n.firestore,ln),t=nr(e),r=new bc(e);return YY(t,n._query).then(i=>new Do(e,r,n,i))}function DW(n){n=st(n,pr);const e=st(n.firestore,ln),t=nr(e),r=new bc(e);return zV(t,n._query,{source:"server"}).then(i=>new Do(e,r,n,i))}function oP(n,e,t){n=st(n,jt);const r=st(n.firestore,ln),i=P_(n.converter,e,t);return lm(r,[x_(_c(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Mt.none())])}function lP(n,e,t,...r){n=st(n,jt);const i=st(n.firestore,ln),s=_c(i);let l;return l=typeof(e=ke(e))=="string"||e instanceof Io?tS(s,"updateDoc",n._key,e,t,r):eS(s,"updateDoc",n._key,e),lm(i,[l.toMutation(n._key,Mt.exists(!0))])}function RW(n){return lm(st(n.firestore,ln),[new jd(n._key,Mt.none())])}function CW(n,e){const t=st(n.firestore,ln),r=vv(n),i=P_(n.converter,e);return lm(t,[x_(_c(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Mt.exists(!1))]).then(()=>r)}function hL(n,...e){var t,r,i;n=ke(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||LT(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(LT(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,f,p;if(n instanceof jt)f=st(n.firestore,ln),p=Bd(n._key.path),d={next:y=>{e[l]&&e[l](lS(f,n,y))},error:e[l+1],complete:e[l+2]};else{const y=st(n,pr);f=st(y.firestore,ln),p=y._query;const v=new bc(f);d={next:b=>{e[l]&&e[l](new Do(f,v,y,b))},error:e[l+1],complete:e[l+2]},lL(n._query)}return function(v,b,T,A){const I=new w_(A),C=new B1(b,I,T);return v.asyncQueue.enqueueAndForget(async()=>V1(await _d(v),C)),()=>{I.Cu(),v.asyncQueue.enqueueAndForget(async()=>L1(await _d(v),C))}}(nr(f),p,u,d)}function PW(n,e){return WY(nr(n=st(n,ln)),LT(e)?e:{next:e})}function lm(n,e){return function(r,i){const s=new $n;return r.asyncQueue.enqueueAndForget(async()=>wY(await W1(r),i,s)),s.promise}(nr(n),e)}function lS(n,e,t){const r=t.docs.get(e._key),i=new bc(n);return new ua(n,i,e._key,r,new Fl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MW=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_c(e)}set(e,t,r){this._verifyNotCommitted();const i=ao(e,this._firestore),s=P_(i.converter,t,r),l=x_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Mt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=ao(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof Io?tS(this._dataReader,"WriteBatch.update",s._key,t,r,i):eS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Mt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ao(e,this._firestore);return this._mutations=this._mutations.concat(new jd(t._key,Mt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ao(n,e){if((n=ke(n)).firestore!==e)throw new he(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_c(e)}get(e){const t=ao(e,this._firestore),r=new bW(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return be(24041);const s=i[0];if(s.isFoundDocument())return new Tp(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Tp(this._firestore,r,t._key,null,t.converter);throw be(18433,{doc:s})})}set(e,t,r){const i=ao(e,this._firestore),s=P_(i.converter,t,r),l=x_(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=ao(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof Io?tS(this._dataReader,"Transaction.update",s._key,t,r,i):eS(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=ao(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NW=class extends OW{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ao(e,this._firestore),r=new bc(this._firestore);return super.get(e).then(i=>new ua(this._firestore,r,t._key,i._document,new Fl(!1,!1),t.converter))}};function VW(n,e,t){n=st(n,ln);const r=Object.assign(Object.assign({},kW),t);return function(s){if(s.maxAttempts<1)throw new he(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new $n;return s.asyncQueue.enqueueAndForget(async()=>{const f=await zY(s);new UY(s.asyncQueue,f,u,l,d).$u()}),d.promise}(nr(n),i=>e(new NW(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(){return new am("deleteField")}function FW(){return new Q1("serverTimestamp")}function BW(...n){return new X1("arrayUnion",n)}function UW(...n){return new Z1("arrayRemove",n)}function jW(n){return new J1("increment",n)}(function(e,t=!0){(function(i){Fd=i})(Mo),_o(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new ln(new N$(r.getProvider("auth-internal")),new F$(l,r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(f.options.projectId,p)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Ei(LR,FR,e),Ei(LR,FR,"esm2017")})();const zW="@firebase/firestore-compat",$W="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new he("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){if(typeof Uint8Array>"u")throw new he("unimplemented","Uint8Arrays are not available in this environment.")}function uP(){if(!vq())throw new he("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ep{constructor(e){this._delegate=e}static fromBase64String(e){return uP(),new Ep(ys.fromBase64String(e))}static fromUint8Array(e){return cP(),new Ep(ys.fromUint8Array(e))}toBase64(){return uP(),this._delegate.toBase64()}toUint8Array(){return cP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){return qW(n,["next","error","complete"])}function qW(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{enableIndexedDbPersistence(e,t){return eW(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return tW(e._delegate)}clearIndexedDbPersistence(e){return nW(e._delegate)}}class fL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ms("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){QY(this._delegate,e,t,r)}enableNetwork(){return iW(this._delegate)}disableNetwork(){return sW(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qV("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rW(this._delegate)}onSnapshotsInSync(e){return PW(this._delegate,e)}get app(){if(!this._appCompat)throw new he("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wd(this,QV(this._delegate,e))}catch(t){throw lr(t,"collection()","Firestore.collection()")}}doc(e){try{return new oi(this,vv(this._delegate,e))}catch(t){throw lr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new or(this,XY(this._delegate,e))}catch(t){throw lr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return VW(this._delegate,t=>e(new pL(this,t)))}batch(){return nr(this._delegate),new mL(new MW(this._delegate,e=>lm(this._delegate,e)))}loadBundle(e){return aW(this._delegate,e)}namedQuery(e){return oW(this._delegate,e).then(t=>t?new or(this,t):null)}}class k_ extends oS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ep(new ys(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oi.forKey(t,this.firestore,null)}}function YW(n){P$(n)}class pL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}get(e){const t=Bl(e);return this._delegate.get(t).then(r=>new Sp(this._firestore,new ua(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Bl(e);return r?(cS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Bl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Bl(e);return this._delegate.delete(t),this}}class mL{constructor(e){this._delegate=e}set(e,t,r){const i=Bl(e);return r?(cS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Bl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Bl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Wf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xp(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=hc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new hc(e,new k_(e),t),i.set(t,s)),s}}hc.INSTANCES=new WeakMap;class oi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}static forPath(e,t,r){if(e.length%2!==0)throw new he("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oi(t,new jt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new oi(t,new jt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wd(this.firestore,QV(this._delegate,e))}catch(t){throw lr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof jt?XV(this._delegate,e):!1}set(e,t){t=cS("DocumentReference.set",t);try{return t?oP(this._delegate,e,t):oP(this._delegate,e)}catch(r){throw lr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?lP(this._delegate,e):lP(this._delegate,e,t,...r)}catch(i){throw lr(i,"updateDoc()","DocumentReference.update()")}}delete(){return RW(this._delegate)}onSnapshot(...e){const t=gL(e),r=yL(e,i=>new Sp(this.firestore,new ua(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return hL(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=SW(this._delegate):(e==null?void 0:e.source)==="server"?t=xW(this._delegate):t=EW(this._delegate),t.then(r=>new Sp(this.firestore,new ua(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oi(this.firestore,e?this._delegate.withConverter(hc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lr(n,e,t){return n.message=n.message.replace(e,t),n}function gL(n){for(const e of n)if(typeof e=="object"&&!BT(e))return e;return{}}function yL(n,e){var t,r;let i;return BT(n[0])?i=n[0]:BT(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Sp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dL(this._delegate,e._delegate)}}class xp extends Sp{data(e){const t=this._delegate.data(e);return this._delegate._converter||k$(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class or{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}where(e,t,r){try{return new or(this.firestore,Ja(this._delegate,fW(e,t,r)))}catch(i){throw lr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new or(this.firestore,Ja(this._delegate,pW(e,t)))}catch(r){throw lr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new or(this.firestore,Ja(this._delegate,mW(e)))}catch(t){throw lr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new or(this.firestore,Ja(this._delegate,gW(e)))}catch(t){throw lr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new or(this.firestore,Ja(this._delegate,yW(...e)))}catch(t){throw lr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new or(this.firestore,Ja(this._delegate,vW(...e)))}catch(t){throw lr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new or(this.firestore,Ja(this._delegate,_W(...e)))}catch(t){throw lr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new or(this.firestore,Ja(this._delegate,wW(...e)))}catch(t){throw lr(t,"endAt()","Query.endAt()")}}isEqual(e){return ZV(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=IW(this._delegate):(e==null?void 0:e.source)==="server"?t=DW(this._delegate):t=AW(this._delegate),t.then(r=>new UT(this.firestore,new Do(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=gL(e),r=yL(e,i=>new UT(this.firestore,new Do(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return hL(this._delegate,t,r)}withConverter(e){return new or(this.firestore,e?this._delegate.withConverter(hc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class WW{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new WW(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xp(this._firestore,r))})}isEqual(e){return dL(this._delegate,e._delegate)}}class wd extends or{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oi(this.firestore,e):null}doc(e){try{return e===void 0?new oi(this.firestore,vv(this._delegate)):new oi(this.firestore,vv(this._delegate,e))}catch(t){throw lr(t,"doc()","CollectionReference.doc()")}}add(e){return CW(this._delegate,e).then(t=>new oi(this.firestore,t))}isEqual(e){return XV(this._delegate,e._delegate)}withConverter(e){return new wd(this.firestore,e?this._delegate.withConverter(hc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bl(n){return st(n,jt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(...e){this._delegate=new Io(...e)}static documentId(){return new uS(kt.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof Io?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static serverTimestamp(){const e=FW();return e._methodName="FieldValue.serverTimestamp",new Ol(e)}static delete(){const e=LW();return e._methodName="FieldValue.delete",new Ol(e)}static arrayUnion(...e){const t=BW(...e);return t._methodName="FieldValue.arrayUnion",new Ol(t)}static arrayRemove(...e){const t=UW(...e);return t._methodName="FieldValue.arrayRemove",new Ol(t)}static increment(e){const t=jW(e);return t._methodName="FieldValue.increment",new Ol(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW={Firestore:fL,GeoPoint:E_,Timestamp:Nt,Blob:Ep,Transaction:pL,WriteBatch:mL,DocumentReference:oi,DocumentSnapshot:Sp,Query:or,QueryDocumentSnapshot:xp,QuerySnapshot:UT,CollectionReference:wd,FieldPath:uS,FieldValue:Ol,setLogLevel:YW,CACHE_SIZE_UNLIMITED:JY};function KW(n,e){n.INTERNAL.registerComponent(new fs("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},GW)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(n){KW(n,(e,t)=>new fL(e,t,new HW)),n.registerVersion(zW,$W)}QW(Od);const XW={apiKey:"AIzaSyDmou8h5vxGjuSeTbrkgm-3qLnY9Equwuw",authDomain:"parple-c3ea0.firebaseapp.com",projectId:"parple-c3ea0",storageBucket:"parple-c3ea0.firebasestorage.app",messagingSenderId:"596458668455",appId:"1:596458668455:web:e653f1ca2091f697527682"},ZW=Od.initializeApp(XW),St=ZW.firestore(),JW=W.div`
  width: 100%;
  max-width: 362px;
  height: 180px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: start;
  justify-content: center;
  gap: 10px;
  background-color: #fff;
  border-radius: ${ae.radius.medium};
  margin-top: 20px;
  margin-bottom: 12px;
`;function eG(){const n=mr(),[e,t]=P.useState([]);return P.useEffect(()=>{let r=[];St.collection("post").get().then(i=>{i.forEach(s=>{r.push(s.data())}),t(r)})},[]),P.useEffect(()=>{(async()=>{const i=await St.collection("profile").get(),s=await St.collection("post").get(),l={};i.forEach(d=>{const f=d.data();f.name&&(l[f.name]=f.imageUrl)});const u=[];s.forEach(d=>{const f=d.data();u.push({id:d.id,...f,authorImageUrl:l[f.author]||null})}),t(u)})()},[]),x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"default",badge:!1}),x.jsxs("div",{className:"content_wrap",children:[x.jsxs(JW,{children:[x.jsx("h1",{className:"TipTitle",children:"프로젝트 팀원, 간단하게 구하자!"}),x.jsxs("div",{className:"TipWrap",children:[x.jsxs("div",{className:"TipItem",children:[x.jsx("img",{src:"/WADA_final//first.svg"}),x.jsxs("h5",{className:"TipSubText",children:["프로젝트",x.jsx("br",{}),"정보등록"]})]}),x.jsx("img",{className:"TipImg",src:"/WADA_final//nextImg.svg"}),x.jsxs("div",{className:"TipItem",children:[x.jsx("img",{src:"/WADA_final//second.svg"}),x.jsxs("h5",{className:"TipSubText",children:["모집글",x.jsx("br",{}),"작성"]})]}),x.jsx("img",{className:"TipImg",src:"/WADA_final//nextImg.svg"}),x.jsxs("div",{className:"TipItem",children:[x.jsx("img",{src:"/WADA_final//three.svg"}),x.jsxs("h5",{className:"TipSubText",children:["지원자",x.jsx("br",{}),"확인"]})]})]})]}),x.jsx(eR,{type:"dark",onClick:()=>n("/profile")}),x.jsx(eR,{type:"light",onClick:()=>n("/post")}),x.jsxs("div",{className:"ConTitleWrap",children:[x.jsx("h2",{className:"ConTitle",children:"파티 모집"}),x.jsxs("div",{className:"ConBtn",onClick:()=>n("/post"),children:[x.jsx("span",{className:"allView",children:"전체보기"}),x.jsx("img",{className:"main_arrow",src:"/WADA_final//arrow_right.svg"})]})]}),x.jsx(tp,{limit:4,type:"homeList",posts:e})]}),x.jsx(Up,{})]})}const tG=W.div`
  width: 100%;
  max-width: 362px;
  min-height: 44px;
  padding: 0px 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 0px 20px;

  border-radius: ${ae.radius.small};
  background-color: ${ae.colors.gray[100]};
  color: ${ae.colors.gray[300]};
`,nG=W.img`
  width: 24px;
  height: 24px;
`,rG=W.input`
  flex: 1;
  border: none;
  outline: none;
  background: transparent;
  font-size: 14px;
  color: ${ae.colors.gray[900]};

  &::placeholder {
    color: ${ae.colors.gray[300]};
  }
`;function iG({value:n,onChange:e}){return x.jsxs(tG,{children:[x.jsx(nG,{src:"/WADA_final//search.svg"}),x.jsx(rG,{type:"text",placeholder:"프로젝트를 검색해보세요",value:n,onChange:e})]})}const sG=W.div`
  width: 402px;
  height: 40px;
  line-height: 40px;
  display: flex;
  align-items: center;
  border-bottom: 1px solid ${ae.colors.gray[300]};
  padding-left: 20px;
  gap: 20px;
  background-color: #fff;
  z-index: 5;
`,aG=W.span`
  height: 100%;
  display: flex;
  align-items: center;
  font-size: 16px;
  cursor: pointer;
  transition: color 0.2s ease;

  font-weight: ${({$selected:n})=>n?600:500};

  color: ${({$selected:n})=>n?ae.colors.gray[800]:ae.colors.gray[300]};

  border-bottom: ${({$selected:n})=>n?`3px solid ${ae.colors.gray[800]}`:"none"};
`;function dS({items:n=[],onChange:e}){const[t,r]=P.useState(0),i=s=>{r(s),e==null||e(n[s])};return x.jsx(sG,{children:n.map((s,l)=>x.jsx(aG,{$selected:t===l,onClick:()=>i(l),children:s},l))})}const oG=W.div`
  width: 100%;
  height: calc(875px - 52px - 95px - 120px);
  overflow-y: scroll;
  z-index: -1;

  &::-webkit-scrollbar {
    display: none;
  }
`,lG=W.button`
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  z-index: 999px;
  bottom: 107px;
  right: 16px;
  background-color: ${ae.colors.primary};
  position: absolute;
`,cG=W.img`
  width: 24px;
  height: 24px;
`,uG=W.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: ${ae.colors.gray[600]};
`;function dG(){const n=mr(),[e,t]=P.useState([]),[r,i]=P.useState("전체"),[s,l]=P.useState("");P.useEffect(()=>{(async()=>{const f=await St.collection("profile").get(),p=await St.collection("post").get(),y={};f.forEach(b=>{const T=b.data();T.name&&(y[T.name]=T.imageUrl)});const v=[];p.forEach(b=>{const T=b.data();v.push({id:b.id,...T,authorImageUrl:y[T.author]||null})}),t(v)})()},[]);const u=e.filter(d=>{const f=r==="전체"||d.category===r,p=d.topic.toLowerCase().includes(s.toLowerCase());return f&&p});return x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"back",title:"파티 모집 목록"}),x.jsxs("div",{className:"PostTopCon",children:[x.jsx(iG,{value:s,onChange:d=>l(d.target.value)}),x.jsx(dS,{items:["전체","졸업작품","사이드 프로젝트","공모전","기타"],onChange:d=>i(d)})]}),x.jsx(oG,{children:u.length===0?x.jsx(uG,{children:"글이 없습니다"}):x.jsx(tp,{type:"postList",posts:u})}),x.jsx(lG,{onClick:()=>n("/post/write"),children:x.jsx(cG,{src:"/WADA_final//pencil.svg"})}),x.jsx(Up,{})]})}const dP=W.div`
  width: 100%;
  height: calc(875px - 52px - 58px - 95px);
  overflow-y: scroll;
  z-index: -1;

  &::-webkit-scrollbar {
    display: none;
  }
`,hP=W.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: ${ae.colors.gray[600]};
`;function hG(){const[n,e]=P.useState(null),[t,r]=P.useState([]),[i,s]=P.useState("모집한 파티"),[l,u]=P.useState([]),d=mr();return P.useEffect(()=>{if(!(n!=null&&n.name))return;i==="지원한 파티"&&(async()=>{const p=await St.collection("applications").where("profile.name","==",n.name).get(),y=[];for(const v of p.docs){const b=v.data(),T=await St.collection("post").doc(b.postId).get();T.exists&&y.push({applicationId:v.id,...b,post:T.data()})}u(y)})()},[n==null?void 0:n.name,i]),P.useEffect(()=>{(async()=>{var T;const y=(T=(await St.collection("profile").get()).docs[0])==null?void 0:T.data();if(e(y),!(y!=null&&y.name))return;const v=await St.collection("post").get(),b=[];v.forEach(A=>{const I=A.data(),C=b.some(V=>V.id===A.id);I.author===y.name&&!C&&b.push({id:A.id,...I})}),r(b)})()},[]),x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"back",title:"내 파티"}),x.jsx("div",{className:"PostTopCon",children:x.jsx(dS,{items:["모집한 파티","지원한 파티"],onChange:f=>s(f)})}),x.jsx(dP,{children:x.jsx(dP,{children:i==="모집한 파티"?t.length===0?x.jsx(hP,{children:"글이 없습니다"}):x.jsx(tp,{type:"partyList",posts:t,onItemClick:f=>d(`/author/${f.id}`)}):l.length===0?x.jsx(hP,{children:"지원한 글이 없습니다"}):x.jsx(tp,{type:"appliedList",posts:l,onItemClick:f=>d(`/signup/view/${f.applicationId}`,{state:f})})})}),x.jsx(Up,{})]})}const fP=W.div`
  width: 100%;
  max-width: 362px;
  padding: 12px;
  max-height: 48px;
  border-radius: ${ae.radius.small};
  background-color: ${ae.colors.gray[100]};
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: ${({type:n})=>n==="not"?"default":"pointer"};
  opacity: ${({type:n})=>n==="disabled"?.2:1};
`,fG=W.div`
  display: flex;
  align-items: center;
  gap: 8px;
  color: ${ae.colors.gray[800]};
`,pG=W.img`
  width: 36px;
  height: 36px;
  border-radius: 999px;
  object-fit: cover;
  overflow: hidden;
`,mG=W.p`
  font-size: 14px;
  font-weight: 600;
  line-height: 22px;
`,gG=W.img`
  width: 20px;
  height: 20px;
`,yG="/WADA_final//vite.svg";function pP({imageUrl:n,name:e,onClick:t,type:r="default"}){return r==="not"?x.jsx(fP,{type:"not",children:x.jsx("p",{style:{color:"#999",margin:"0 auto"},children:"아직 지원자가 없어요"})}):x.jsxs(fP,{onClick:r!=="disabled"?t:void 0,type:r,children:[x.jsxs(fG,{children:[x.jsx(pG,{src:n||yG}),x.jsx(mG,{children:e||"신청자"})]}),x.jsx(gG,{src:"/arrow_right.svg",alt:"보기 버튼"})]})}const vG=W.div`
    display: flex;
    flex-direction: column;
    gap: 8px;
`;function _G({applicants:n=[],onClickItem:e}){return x.jsx(vG,{children:n.length===0?x.jsx(pP,{type:"not"}):n.map((t,r)=>{var s,l;let i="default";return t.notice==="rejected"&&(i="disabled"),t.notice==="accepted"&&(i="default"),(!t.notice||t.notice==="wait")&&(i="default"),x.jsx(pP,{imageUrl:(s=t.profile)==null?void 0:s.imageUrl,name:(l=t.profile)==null?void 0:l.name,type:i,onClick:()=>e(t)},r)})})}const wG=W.h3`
  font-size: 18px;
  font-weight: 700;
  color: ${ae.colors.gray[800]};
  margin-top: 8px;
`,bG=W.p`
  font-size: 14px;
  color: ${ae.colors.gray[400]};
  margin-bottom: 16px;
  margin-top: 4px;
`,TG=W.div`
  display: flex;
  align-items: center;
  gap: 4px;
  line-height: 150%;
  font-size: 14px;

  & .label {
    font-weight: 500;
    color: ${ae.colors.gray[800]};
  }

  & .count {
    font-weight: 600;
    color: ${ae.colors.primary};
  }
`,EG=W.div`
  display: flex;
  flex-direction: column;
  padding: 24px 20px;
  background-color: #fff;
`;function SG({positions:n=[],applicants:e={},onClickApplicant:t=()=>{}}){return x.jsx(x.Fragment,{children:n.map((r,i)=>{var u;const s=r.position,l=e[s]||[];return x.jsxs(EG,{children:[x.jsxs(TG,{children:[x.jsx("span",{className:"label",children:"지원자"}),x.jsxs("span",{className:"count",children:[l.length,"명"]})]}),x.jsx(wG,{children:s}),x.jsx(bG,{children:(u=r.stack)==null?void 0:u.join(" · ")}),x.jsx(_G,{applicants:l,onClickItem:t})]},i)})})}const xG=W.div`
    width: 100%;
    height: calc(875px - 52px - 58px);
    overflow-y: scroll;
    z-index: -1;
    &::-webkit-scrollbar {
        display: none;
    }
`,AG=W.h3`
    font-size: 18px;
    font-weight: 700;
    line-height: 22px;
    background-color: #fff;
    padding: 24px 0 0 20px;
    margin-top: 12px;
`;function IG(){const{id:n}=Hv(),e=mr(),[t,r]=P.useState(null),[i,s]=P.useState({});return P.useEffect(()=>{St.collection("post").doc(n).get().then(l=>{l.exists&&r({id:l.id,...l.data()})})},[n]),P.useEffect(()=>{(async()=>{const d=(await St.collection("applications").where("postId","==",n).get()).docs.map(p=>({applicationId:p.id,...p.data()})),f={};d.forEach(p=>{var v;const y=((v=p.position)==null?void 0:v.title)||"기타";f[y]||(f[y]=[]),f[y].push(p)}),s(f)})()},[n]),x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"back",title:"지원자 확인",backTo:"/party"}),x.jsxs(xG,{children:[t&&x.jsx(tp,{type:"postList",posts:[t],onItemClick:()=>{}}),x.jsx(AG,{children:"지원 현황"}),t?x.jsx(SG,{positions:t.positions,applicants:i,onClickApplicant:l=>e(`/signup/view/${l.applicationId}`,{state:l})}):x.jsx("p",{style:{padding:"20px"},children:"로딩 중..."})]}),x.jsx(Up,{})]})}const DG=W.div`
  width: 362px;
  height: 572px;
  padding: 0px 20px 32px 20px;
  background-color: ${ae.colors.gray[50]};
  border-radius: 8px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.25);

  display: flex;
  flex-direction: column;
  gap: 28px;
`,RG=W.div`
  padding: 0px 20px;
  display: flex;
  justify-content: center;
  align-items: center;

  gap: 40px;
`,CG=W.div`
  width: fit-content;
  display: flex;
  flex-direction: column;

  gap: 2px;
`,PG=W.div`
  width: 70px;
  height: 70px;
  border-radius: 36px;
  overflow: hidden;
`,kG=W.p`
  font-size: 20px;
  font-weight: 700;
  color: ${ae.colors.gray[700]};
  margin-bottom: 4px;
`,MG=W.p``,OG=W.p``,NG=W.div`
  width: 100%;
  height: 1px;
  background-color: ${ae.colors.gray[400]};
`,VG=W.div`
  display: flex;
  flex-direction: column;
  gap: 24px;
  flex-grow: 1;
`,LG=W.div`
  display: flex;
  gap: 4px;

  align-items: center;
`,FG=W.p`
  font-size: 18px;
  font-weight: 700;
`,BG=W.div`
  font-family: poppins;
  font-size: 18px;
  font-weight: 700;
  color: ${ae.colors.gray[500]};
  width: 100%;
  text-align: center;
  margin: 12px 0px 0px 0px;
`,UG=W.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 8px;
  width: 100%;
  height: 572px;
  border-radius: 8px;
  background-color: ${ae.colors.gray[50]};
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.25);

  color: ${ae.colors.gray[400]};
  text-align: center;

  & > h1 {
    color: ${ae.colors.gray[600]};
    font-size: 20px;
  }
`;function hS({profileData:n}){if(!n)return x.jsxs(UG,{children:[x.jsx("h1",{children:"프로필 카드가 없어요."}),x.jsx("p",{children:"아래 버튼을 눌러 프로필을 작성하세요."})]});const e={디자이너:"/WADA_final//designer.svg",개발자:"/WADA_final//programmer.svg",기획자:"/WADA_final//productmanager.svg"},t={디자이너:"/WADA_final//designerProfile.svg",개발자:"/WADA_final//programmerProfile.svg",기획자:"/WADA_final//productmanagerProfile.svg"},r=e[n.task]||"/WADA_final//designer.svg",i=t[n.task]||"/WADA_final//designerProfile.svg";return console.log({TaskIcon:r}),console.log("task:",`"${n.task}"`),x.jsx(x.Fragment,{children:x.jsxs(DG,{children:[x.jsx("img",{src:"/WADA_final//Tag.svg",style:{width:"24px"}}),x.jsxs(RG,{children:[x.jsx(PG,{children:x.jsx("img",{src:i,alt:"프로필 아이콘",style:{width:"100%",height:"100%",objectFit:"cover"}})}),x.jsxs(CG,{children:[x.jsx(kG,{children:n.name}),x.jsx(MG,{children:n.enroll}),x.jsxs(OG,{children:[n.major," ",n.grade]})]})]}),x.jsx(NG,{}),x.jsxs(VG,{children:[x.jsxs(LG,{children:[x.jsx("img",{src:r}),x.jsx(FG,{children:n.task})]}),x.jsx(Xu,{title:"선호 포지션",type:"none",size:"large",chips:n.position,unLock:!1}),x.jsx(Xu,{title:"기술 스택",type:"none",size:"large",chips:n.stack,unLock:!1})]}),x.jsx(BG,{children:"parple"})]})})}W.img`
  margin-top: 32px;
  width: 362px;
`;function jG(){const n=mr(),[e,t]=P.useState(null);return P.useEffect(()=>{St.collection("profile").get().then(r=>{const i=[];r.forEach(s=>i.push(s.data())),t(i.length>0?i[0]:null)})},[]),console.log({profile:e}),x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"back",title:"프로필"}),x.jsxs("div",{className:"content_wrap dummy_img",children:[x.jsx(hS,{profileData:e}),x.jsx(Fr,{btnName:e?"프로필 카드 수정":"프로필 카드 작성",onClick:()=>n("/profile/write")})]}),x.jsx(Up,{})]})}const zG=W.div`
    padding: 8px 20px;
    display: flex;
    align-items: end;
    justify-content: space-between;
    width: 100%;
    max-width: 402px;
    gap: 2px;
    min-height: 30px;
`,$G=W.div`
    flex: 1;
    height: 2px;
    background-color: ${({theme:n,$active:e})=>e?n.colors.primary:n.colors.gray[300]};
`;function qG({step:n=1}){return x.jsx(zG,{children:[1,2].map(e=>x.jsx($G,{$active:e<=n},e))})}const fS=P.createContext({});function pS(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const mS=typeof window<"u",vL=mS?P.useLayoutEffect:P.useEffect,M_=P.createContext(null);function gS(n,e){n.indexOf(e)===-1&&n.push(e)}function yS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const da=(n,e,t)=>t>e?e:t<n?n:t;let vS=()=>{};const ha={},_L=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function wL(n){return typeof n=="object"&&n!==null}const bL=n=>/^0[^.\s]+$/u.test(n);function _S(n){let e;return()=>(e===void 0&&(e=n()),e)}const ci=n=>n,HG=(n,e)=>t=>e(n(t)),cm=(...n)=>n.reduce(HG),Ap=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class wS{constructor(){this.subscriptions=[]}add(e){return gS(this.subscriptions,e),()=>yS(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ls=n=>n*1e3,cs=n=>n/1e3;function TL(n,e){return e?n*(1e3/e):0}const EL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YG=1e-7,WG=12;function GG(n,e,t,r,i){let s,l,u=0;do l=e+(t-e)/2,s=EL(l,r,i)-n,s>0?t=l:e=l;while(Math.abs(s)>YG&&++u<WG);return l}function um(n,e,t,r){if(n===e&&t===r)return ci;const i=s=>GG(s,0,1,n,t);return s=>s===0||s===1?s:EL(i(s),e,r)}const SL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,xL=n=>e=>1-n(1-e),AL=um(.33,1.53,.69,.99),bS=xL(AL),IL=SL(bS),DL=n=>(n*=2)<1?.5*bS(n):.5*(2-Math.pow(2,-10*(n-1))),TS=n=>1-Math.sin(Math.acos(n)),RL=xL(TS),CL=SL(TS),KG=um(.42,0,1,1),QG=um(0,0,.58,1),PL=um(.42,0,.58,1),XG=n=>Array.isArray(n)&&typeof n[0]!="number",kL=n=>Array.isArray(n)&&typeof n[0]=="number",ZG={linear:ci,easeIn:KG,easeInOut:PL,easeOut:QG,circIn:TS,circInOut:CL,circOut:RL,backIn:bS,backInOut:IL,backOut:AL,anticipate:DL},JG=n=>typeof n=="string",mP=n=>{if(kL(n)){vS(n.length===4);const[e,t,r,i]=n;return um(e,t,r,i)}else if(JG(n))return ZG[n];return n},Jg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gP={value:null};function eK(n,e){let t=new Set,r=new Set,i=!1,s=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function f(y){l.has(y)&&(p.schedule(y),n()),d++,y(u)}const p={schedule:(y,v=!1,b=!1)=>{const A=b&&i?t:r;return v&&l.add(y),A.has(y)||A.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(u=y,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(f),e&&gP.value&&gP.value.frameloop[e].push(d),d=0,t.clear(),i=!1,s&&(s=!1,p.process(y))}};return p}const tK=40;function ML(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,l=Jg.reduce((N,q)=>(N[q]=eK(s,e?q:void 0),N),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:y,preRender:v,render:b,postRender:T}=l,A=()=>{const N=ha.useManualTiming?i.timestamp:performance.now();t=!1,ha.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,tK),1)),i.timestamp=N,i.isProcessing=!0,u.process(i),d.process(i),f.process(i),p.process(i),y.process(i),v.process(i),b.process(i),T.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(A))},I=()=>{t=!0,r=!0,i.isProcessing||n(A)};return{schedule:Jg.reduce((N,q)=>{const z=l[q];return N[q]=(Y,k=!1,D=!1)=>(t||I(),z.schedule(Y,k,D)),N},{}),cancel:N=>{for(let q=0;q<Jg.length;q++)l[Jg[q]].cancel(N)},state:i,steps:l}}const{schedule:zt,cancel:Ro,state:Bn,steps:Eb}=ML(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let ky;function nK(){ky=void 0}const Sr={now:()=>(ky===void 0&&Sr.set(Bn.isProcessing||ha.useManualTiming?Bn.timestamp:performance.now()),ky),set:n=>{ky=n,queueMicrotask(nK)}},OL=n=>e=>typeof e=="string"&&e.startsWith(n),ES=OL("--"),rK=OL("var(--"),SS=n=>rK(n)?iK.test(n.split("/*")[0].trim()):!1,iK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ip={...Yd,transform:n=>da(0,1,n)},ey={...Yd,default:1},Gf=n=>Math.round(n*1e5)/1e5,xS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sK(n){return n==null}const aK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AS=(n,e)=>t=>!!(typeof t=="string"&&aK.test(t)&&t.startsWith(n)||e&&!sK(t)&&Object.prototype.hasOwnProperty.call(t,e)),NL=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,l,u]=r.match(xS);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},oK=n=>da(0,255,n),Sb={...Yd,transform:n=>Math.round(oK(n))},Ul={test:AS("rgb","red"),parse:NL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Sb.transform(n)+", "+Sb.transform(e)+", "+Sb.transform(t)+", "+Gf(Ip.transform(r))+")"};function lK(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const jT={test:AS("#"),parse:lK,transform:Ul.transform},dm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),no=dm("deg"),us=dm("%"),Fe=dm("px"),cK=dm("vh"),uK=dm("vw"),yP={...us,parse:n=>us.parse(n)/100,transform:n=>us.transform(n*100)},ku={test:AS("hsl","hue"),parse:NL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+us.transform(Gf(e))+", "+us.transform(Gf(t))+", "+Gf(Ip.transform(r))+")"},Qn={test:n=>Ul.test(n)||jT.test(n)||ku.test(n),parse:n=>Ul.test(n)?Ul.parse(n):ku.test(n)?ku.parse(n):jT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ul.transform(n):ku.transform(n)},dK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hK(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(xS))==null?void 0:e.length)||0)+(((t=n.match(dK))==null?void 0:t.length)||0)>0}const VL="number",LL="color",fK="var",pK="var(",vP="${}",mK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=e.replace(mK,d=>(Qn.test(d)?(r.color.push(s),i.push(LL),t.push(Qn.parse(d))):d.startsWith(pK)?(r.var.push(s),i.push(fK),t.push(d)):(r.number.push(s),i.push(VL),t.push(parseFloat(d))),++s,vP)).split(vP);return{values:t,split:u,indexes:r,types:i}}function FL(n){return Dp(n).values}function BL(n){const{split:e,types:t}=Dp(n),r=e.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=e[l],i[l]!==void 0){const u=t[l];u===VL?s+=Gf(i[l]):u===LL?s+=Qn.transform(i[l]):s+=i[l]}return s}}const gK=n=>typeof n=="number"?0:n;function yK(n){const e=FL(n);return BL(n)(e.map(gK))}const Co={test:hK,parse:FL,createTransformer:BL,getAnimatableNone:yK};function xb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function vK({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,l=0;if(!e)i=s=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;i=xb(d,u,n+1/3),s=xb(d,u,n),l=xb(d,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function wv(n,e){return t=>t>0?e:n}const Ft=(n,e,t)=>n+(e-n)*t,Ab=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},_K=[jT,Ul,ku],wK=n=>_K.find(e=>e.test(n));function _P(n){const e=wK(n);if(!e)return!1;let t=e.parse(n);return e===ku&&(t=vK(t)),t}const wP=(n,e)=>{const t=_P(n),r=_P(e);if(!t||!r)return wv(n,e);const i={...t};return s=>(i.red=Ab(t.red,r.red,s),i.green=Ab(t.green,r.green,s),i.blue=Ab(t.blue,r.blue,s),i.alpha=Ft(t.alpha,r.alpha,s),Ul.transform(i))},zT=new Set(["none","hidden"]);function bK(n,e){return zT.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function TK(n,e){return t=>Ft(n,e,t)}function IS(n){return typeof n=="number"?TK:typeof n=="string"?SS(n)?wv:Qn.test(n)?wP:xK:Array.isArray(n)?UL:typeof n=="object"?Qn.test(n)?wP:EK:wv}function UL(n,e){const t=[...n],r=t.length,i=n.map((s,l)=>IS(s)(s,e[l]));return s=>{for(let l=0;l<r;l++)t[l]=i[l](s);return t}}function EK(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=IS(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function SK(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],l=n.indexes[s][r[s]],u=n.values[l]??0;t[i]=u,r[s]++}return t}const xK=(n,e)=>{const t=Co.createTransformer(e),r=Dp(n),i=Dp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?zT.has(n)&&!i.values.length||zT.has(e)&&!r.values.length?bK(n,e):cm(UL(SK(r,i),i.values),t):wv(n,e)};function jL(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ft(n,e,t):IS(n)(n,e)}const AK=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>zt.update(e,t),stop:()=>Ro(e),now:()=>Bn.isProcessing?Bn.timestamp:Sr.now()}},zL=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},bv=2e4;function DS(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<bv;)e+=t,r=n.next(e);return e>=bv?1/0:e}function IK(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(DS(r),bv);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:cs(i)}}const DK=5;function $L(n,e,t){const r=Math.max(e-DK,0);return TL(t-n(r),e-r)}const Gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bP=.001;function RK({duration:n=Gt.duration,bounce:e=Gt.bounce,velocity:t=Gt.velocity,mass:r=Gt.mass}){let i,s,l=1-e;l=da(Gt.minDamping,Gt.maxDamping,l),n=da(Gt.minDuration,Gt.maxDuration,cs(n)),l<1?(i=f=>{const p=f*l,y=p*n,v=p-t,b=$T(f,l),T=Math.exp(-y);return bP-v/b*T},s=f=>{const y=f*l*n,v=y*t+t,b=Math.pow(l,2)*Math.pow(f,2)*n,T=Math.exp(-y),A=$T(Math.pow(f,2),l);return(-i(f)+bP>0?-1:1)*((v-b)*T)/A}):(i=f=>{const p=Math.exp(-f*n),y=(f-t)*n+1;return-.001+p*y},s=f=>{const p=Math.exp(-f*n),y=(t-f)*(n*n);return p*y});const u=5/n,d=PK(i,s,u);if(n=ls(n),isNaN(d))return{stiffness:Gt.stiffness,damping:Gt.damping,duration:n};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const CK=12;function PK(n,e,t){let r=t;for(let i=1;i<CK;i++)r=r-n(r)/e(r);return r}function $T(n,e){return n*Math.sqrt(1-e*e)}const kK=["duration","bounce"],MK=["stiffness","damping","mass"];function TP(n,e){return e.some(t=>n[t]!==void 0)}function OK(n){let e={velocity:Gt.velocity,stiffness:Gt.stiffness,damping:Gt.damping,mass:Gt.mass,isResolvedFromDuration:!1,...n};if(!TP(n,MK)&&TP(n,kK))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*da(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Gt.mass,stiffness:i,damping:s}}else{const t=RK(n);e={...e,...t,mass:Gt.mass},e.isResolvedFromDuration=!0}return e}function Tv(n=Gt.visualDuration,e=Gt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:f,mass:p,duration:y,velocity:v,isResolvedFromDuration:b}=OK({...t,velocity:-cs(t.velocity||0)}),T=v||0,A=f/(2*Math.sqrt(d*p)),I=l-s,C=cs(Math.sqrt(d/p)),V=Math.abs(I)<5;r||(r=V?Gt.restSpeed.granular:Gt.restSpeed.default),i||(i=V?Gt.restDelta.granular:Gt.restDelta.default);let N;if(A<1){const z=$T(C,A);N=Y=>{const k=Math.exp(-A*C*Y);return l-k*((T+A*C*I)/z*Math.sin(z*Y)+I*Math.cos(z*Y))}}else if(A===1)N=z=>l-Math.exp(-C*z)*(I+(T+C*I)*z);else{const z=C*Math.sqrt(A*A-1);N=Y=>{const k=Math.exp(-A*C*Y),D=Math.min(z*Y,300);return l-k*((T+A*C*I)*Math.sinh(D)+z*I*Math.cosh(D))/z}}const q={calculatedDuration:b&&y||null,next:z=>{const Y=N(z);if(b)u.done=z>=y;else{let k=z===0?T:0;A<1&&(k=z===0?ls(T):$L(N,z,Y));const D=Math.abs(k)<=r,M=Math.abs(l-Y)<=i;u.done=D&&M}return u.value=u.done?l:Y,u},toString:()=>{const z=Math.min(DS(q),bv),Y=zL(k=>q.next(z*k).value,z,30);return z+"ms "+Y},toTransition:()=>{}};return q}Tv.applyToOptions=n=>{const e=IK(n,100,Tv);return n.ease=e.ease,n.duration=ls(e.duration),n.type="keyframes",n};function qT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:p}){const y=n[0],v={done:!1,value:y},b=D=>u!==void 0&&D<u||d!==void 0&&D>d,T=D=>u===void 0?d:d===void 0||Math.abs(u-D)<Math.abs(d-D)?u:d;let A=t*e;const I=y+A,C=l===void 0?I:l(I);C!==I&&(A=C-y);const V=D=>-A*Math.exp(-D/r),N=D=>C+V(D),q=D=>{const M=V(D),L=N(D);v.done=Math.abs(M)<=f,v.value=v.done?C:L};let z,Y;const k=D=>{b(v.value)&&(z=D,Y=Tv({keyframes:[v.value,T(v.value)],velocity:$L(N,D,v.value),damping:i,stiffness:s,restDelta:f,restSpeed:p}))};return k(0),{calculatedDuration:null,next:D=>{let M=!1;return!Y&&z===void 0&&(M=!0,q(D),k(D)),z!==void 0&&D>=z?Y.next(D-z):(!M&&q(D),v)}}}function NK(n,e,t){const r=[],i=t||ha.mix||jL,s=n.length-1;for(let l=0;l<s;l++){let u=i(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||ci:e;u=cm(d,u)}r.push(u)}return r}function VK(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(vS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=NK(e,r,i),d=u.length,f=p=>{if(l&&p<n[0])return e[0];let y=0;if(d>1)for(;y<n.length-2&&!(p<n[y+1]);y++);const v=Ap(n[y],n[y+1],p);return u[y](v)};return t?p=>f(da(n[0],n[s-1],p)):f}function LK(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Ap(0,e,r);n.push(Ft(t,1,i))}}function FK(n){const e=[0];return LK(e,n.length-1),e}function BK(n,e){return n.map(t=>t*e)}function UK(n,e){return n.map(()=>e||PL).splice(0,n.length-1)}function Kf({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=XG(r)?r.map(mP):mP(r),s={done:!1,value:e[0]},l=BK(t&&t.length===e.length?t:FK(e),n),u=VK(l,e,{ease:Array.isArray(i)?i:UK(e,i)});return{calculatedDuration:n,next:d=>(s.value=u(d),s.done=d>=n,s)}}const jK=n=>n!==null;function RS(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(jK),u=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!u||r===void 0?s[u]:r}const zK={decay:qT,inertia:qT,tween:Kf,keyframes:Kf,spring:Tv};function qL(n){typeof n.type=="string"&&(n.type=zK[n.type])}class CS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const $K=n=>n/100;class PS extends CS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Sr.now()&&this.tick(Sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qL(e);const{type:t=Kf,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=e;let{keyframes:u}=e;const d=t||Kf;d!==Kf&&typeof u[0]!="number"&&(this.mixKeyframes=cm($K,jL(u[0],u[1])),u=[0,100]);const f=d({...e,keyframes:u});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=DS(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:y,repeatType:v,repeatDelay:b,type:T,onUpdate:A,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,q=r;if(y){const D=Math.min(this.currentTime,i)/u;let M=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&M--,M=Math.min(M,y+1),!!(M%2)&&(v==="reverse"?(L=1-L,b&&(L-=b/u)):v==="mirror"&&(q=l)),N=da(0,1,L)*u}const z=V?{done:!1,value:p[0]}:q.next(N);s&&(z.value=s(z.value));let{done:Y}=z;!V&&d!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return k&&T!==qT&&(z.value=RS(p,this.options,I,this.speed)),A&&A(z.value),k&&this.finish(),z}then(e,t){return this.finished.then(e,t)}get duration(){return cs(this.calculatedDuration)}get time(){return cs(this.currentTime)}set time(e){var t;e=ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=AK,startTime:t}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function qK(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const jl=n=>n*180/Math.PI,HT=n=>{const e=jl(Math.atan2(n[1],n[0]));return YT(e)},HK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:HT,rotateZ:HT,skewX:n=>jl(Math.atan(n[1])),skewY:n=>jl(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},YT=n=>(n=n%360,n<0&&(n+=360),n),EP=HT,SP=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),xP=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),YK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SP,scaleY:xP,scale:n=>(SP(n)+xP(n))/2,rotateX:n=>YT(jl(Math.atan2(n[6],n[5]))),rotateY:n=>YT(jl(Math.atan2(-n[2],n[0]))),rotateZ:EP,rotate:EP,skewX:n=>jl(Math.atan(n[4])),skewY:n=>jl(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function WT(n){return n.includes("scale")?1:0}function GT(n,e){if(!n||n==="none")return WT(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=YK,i=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=HK,i=u}if(!i)return WT(e);const s=r[e],l=i[1].split(",").map(GK);return typeof s=="function"?s(l):l[s]}const WK=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return GT(t,e)};function GK(n){return parseFloat(n.trim())}const Wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gd=new Set(Wd),AP=n=>n===Yd||n===Fe,KK=new Set(["x","y","z"]),QK=Wd.filter(n=>!KK.has(n));function XK(n){const e=[];return QK.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Gl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>GT(e,"x"),y:(n,{transform:e})=>GT(e,"y")};Gl.translateX=Gl.x;Gl.translateY=Gl.y;const Kl=new Set;let KT=!1,QT=!1,XT=!1;function HL(){if(QT){const n=Array.from(Kl).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=XK(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,l])=>{var u;(u=r.getValue(s))==null||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}QT=!1,KT=!1,Kl.forEach(n=>n.complete(XT)),Kl.clear()}function YL(){Kl.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(QT=!0)})}function ZK(){XT=!0,YL(),HL(),XT=!1}class kS{constructor(e,t,r,i,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Kl.add(this),KT||(KT=!0,zt.read(YL),zt.resolveKeyframes(HL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const u=r.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&s===void 0&&i.set(e[0])}qK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kl.delete(this)}cancel(){this.state==="scheduled"&&(Kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JK=n=>n.startsWith("--");function eQ(n,e,t){JK(e)?n.style.setProperty(e,t):n.style[e]=t}const tQ=_S(()=>window.ScrollTimeline!==void 0),nQ={};function rQ(n,e){const t=_S(n);return()=>nQ[e]??t()}const WL=rQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,IP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rf([0,.65,.55,1]),circOut:Rf([.55,0,1,.45]),backIn:Rf([.31,.01,.66,-.59]),backOut:Rf([.33,1.53,.69,.99])};function GL(n,e){if(n)return typeof n=="function"?WL()?zL(n,e):"ease-out":kL(n)?Rf(n):Array.isArray(n)?n.map(t=>GL(t,e)||IP.easeOut):IP[n]}function iQ(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[e]:t};d&&(p.offset=d);const y=GL(u,i);Array.isArray(y)&&(p.easing=y);const v={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),n.animate(p,v)}function KL(n){return typeof n=="function"&&"applyToOptions"in n}function sQ({type:n,...e}){return KL(n)&&WL()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aQ extends CS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=e,vS(typeof e.type!="string");const f=sQ(e);this.animation=iQ(t,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=RS(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):eQ(t,r,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return cs(Number(e))}get time(){return cs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tQ()?(this.animation.timeline=e,ci):t(this)}}const QL={anticipate:DL,backInOut:IL,circInOut:CL};function oQ(n){return n in QL}function lQ(n){typeof n.ease=="string"&&oQ(n.ease)&&(n.ease=QL[n.ease])}const DP=10;class cQ extends aQ{constructor(e){lQ(e),qL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new PS({...l,autoplay:!1}),d=ls(this.finishedTime??this.time);t.setWithVelocity(u.sample(d-DP).value,u.sample(d).value,DP),u.stop()}}const RP=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Co.test(n)||n==="0")&&!n.startsWith("url("));function uQ(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function dQ(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],l=RP(i,e),u=RP(s,e);return!l||!u?!1:uQ(n)||(t==="spring"||KL(t))&&r}function MS(n){return wL(n)&&"offsetHeight"in n}const hQ=new Set(["opacity","clipPath","filter","transform"]),fQ=_S(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pQ(n){var f;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:l}=n;if(!MS((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return fQ()&&t&&hQ.has(t)&&(t!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&l!=="inertia"}const mQ=40;class gQ extends CS{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",keyframes:u,name:d,motionValue:f,element:p,...y}){var T;super(),this.stop=()=>{var A,I;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Sr.now();const v={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:l,name:d,motionValue:f,element:p,...y},b=(p==null?void 0:p.KeyframeResolver)||kS;this.keyframeResolver=new b(u,(A,I,C)=>this.onKeyframesResolved(A,I,v,!C),d,f,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:l,velocity:u,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Sr.now(),dQ(e,s,l,u)||((ha.instantAnimations||!d)&&(p==null||p(RS(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},b=!f&&pQ(v)?new cQ({...v,element:v.motionValue.owner.current}):new PS(v);b.finished.then(()=>this.notifyFinished()).catch(ci),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ZK()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const yQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vQ(n){const e=yQ.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function XL(n,e,t=1){const[r,i]=vQ(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return _L(l)?parseFloat(l):l}return SS(i)?XL(i,e,t+1):i}function OS(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const ZL=new Set(["width","height","top","left","right","bottom",...Wd]),_Q={test:n=>n==="auto",parse:n=>n},JL=n=>e=>e.test(n),e4=[Yd,Fe,us,no,uK,cK,_Q],CP=n=>e4.find(JL(n));function wQ(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||bL(n):!0}const bQ=new Set(["brightness","contrast","saturate","opacity"]);function TQ(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(xS)||[];if(!r)return n;const i=t.replace(r,"");let s=bQ.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const EQ=/\b([a-z-]*)\(.*?\)/gu,ZT={...Co,getAnimatableNone:n=>{const e=n.match(EQ);return e?e.map(TQ).join(" "):n}},PP={...Yd,transform:Math.round},SQ={rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:ey,scaleX:ey,scaleY:ey,scaleZ:ey,skew:no,skewX:no,skewY:no,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Ip,originX:yP,originY:yP,originZ:Fe},NS={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...SQ,zIndex:PP,fillOpacity:Ip,strokeOpacity:Ip,numOctaves:PP},xQ={...NS,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:ZT,WebkitFilter:ZT},t4=n=>xQ[n];function n4(n,e){let t=t4(n);return t!==ZT&&(t=Co),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AQ=new Set(["auto","none","0"]);function IQ(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!AQ.has(s)&&Dp(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=n4(t,i)}class DQ extends kS{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),SS(f))){const p=XL(f,t.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!ZL.has(r)||e.length!==2)return;const[i,s]=e,l=CP(i),u=CP(s);if(l!==u)if(AP(l)&&AP(u))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Gl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||wQ(e[i]))&&r.push(i);r.length&&IQ(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=Gl[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function RQ(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const r4=(n,e)=>e&&typeof n=="number"?e.transform(n):n,kP=30,CQ=n=>!isNaN(parseFloat(n));class PQ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var l,u;const s=Sr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Sr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new wS);const r=this.events[e].add(t);return e==="change"?()=>{r(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kP)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,kP);return TL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(n,e){return new PQ(n,e)}const{schedule:VS}=ML(queueMicrotask,!1),_i={x:!1,y:!1};function i4(){return _i.x||_i.y}function kQ(n){return n==="x"||n==="y"?_i[n]?null:(_i[n]=!0,()=>{_i[n]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}function s4(n,e){const t=RQ(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function MP(n){return!(n.pointerType==="touch"||i4())}function MQ(n,e,t={}){const[r,i,s]=s4(n,t),l=u=>{if(!MP(u))return;const{target:d}=u,f=e(d,u);if(typeof f!="function"||!d)return;const p=y=>{MP(y)&&(f(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),s}const a4=(n,e)=>e?n===e?!0:a4(n,e.parentElement):!1,LS=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,OQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NQ(n){return OQ.has(n.tagName)||n.tabIndex!==-1}const My=new WeakSet;function OP(n){return e=>{e.key==="Enter"&&n(e)}}function Ib(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VQ=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=OP(()=>{if(My.has(t))return;Ib(t,"down");const i=OP(()=>{Ib(t,"up")}),s=()=>Ib(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function NP(n){return LS(n)&&!i4()}function LQ(n,e,t={}){const[r,i,s]=s4(n,t),l=u=>{const d=u.currentTarget;if(!NP(u))return;My.add(d);const f=e(d,u),p=(b,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),My.has(d)&&My.delete(d),NP(b)&&typeof f=="function"&&f(b,{success:T})},y=b=>{p(b,d===window||d===document||t.useGlobalTarget||a4(d,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),MS(u)&&(u.addEventListener("focus",f=>VQ(f,i)),!NQ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function o4(n){return wL(n)&&"ownerSVGElement"in n}function FQ(n){return o4(n)&&n.tagName==="svg"}const er=n=>!!(n&&n.getVelocity),BQ=[...e4,Qn,Co],UQ=n=>BQ.find(JL(n)),FS=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class jQ extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=MS(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zQ({children:n,isPresent:e,anchorX:t}){const r=P.useId(),i=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=P.useContext(FS);return P.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p,right:y}=s.current;if(e||!i.current||!u||!d)return;const v=t==="left"?`left: ${p}`:`right: ${y}`;i.current.dataset.motionPopId=r;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[e]),x.jsx(jQ,{isPresent:e,childRef:i,sizeRef:s,children:P.cloneElement(n,{ref:i})})}const $Q=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:l,anchorX:u})=>{const d=pS(qQ),f=P.useId();let p=!0,y=P.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:t,custom:i,onExitComplete:v=>{d.set(v,!0);for(const b of d.values())if(!b)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[t,d,r]);return s&&p&&(y={...y}),P.useMemo(()=>{d.forEach((v,b)=>d.set(b,!1))},[t]),P.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),l==="popLayout"&&(n=x.jsx(zQ,{isPresent:t,anchorX:u,children:n})),x.jsx(M_.Provider,{value:y,children:n})};function qQ(){return new Map}function l4(n=!0){const e=P.useContext(M_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=P.useId();P.useEffect(()=>{if(n)return i(s)},[n]);const l=P.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,l]:[!0]}const ty=n=>n.key||"";function VP(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const HQ=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,f]=l4(l),p=P.useMemo(()=>VP(n),[n]),y=l&&!d?[]:p.map(ty),v=P.useRef(!0),b=P.useRef(p),T=pS(()=>new Map),[A,I]=P.useState(p),[C,V]=P.useState(p);vL(()=>{v.current=!1,b.current=p;for(let z=0;z<C.length;z++){const Y=ty(C[z]);y.includes(Y)?T.delete(Y):T.get(Y)!==!0&&T.set(Y,!1)}},[C,y.length,y.join("-")]);const N=[];if(p!==A){let z=[...p];for(let Y=0;Y<C.length;Y++){const k=C[Y],D=ty(k);y.includes(D)||(z.splice(Y,0,k),N.push(k))}return s==="wait"&&N.length&&(z=N),V(VP(z)),I(p),null}const{forceRender:q}=P.useContext(fS);return x.jsx(x.Fragment,{children:C.map(z=>{const Y=ty(z),k=l&&!d?!1:p===C||y.includes(Y),D=()=>{if(T.has(Y))T.set(Y,!0);else return;let M=!0;T.forEach(L=>{L||(M=!1)}),M&&(q==null||q(),V(b.current),l&&(f==null||f()),r&&r())};return x.jsx($Q,{isPresent:k,initial:!v.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:k?void 0:D,anchorX:u,children:z},Y)})})},c4=P.createContext({strict:!1}),LP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Td={};for(const n in LP)Td[n]={isEnabled:e=>LP[n].some(t=>!!e[t])};function YQ(n){for(const e in n)Td[e]={...Td[e],...n[e]}}const WQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ev(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||WQ.has(n)}let u4=n=>!Ev(n);function GQ(n){n&&(u4=e=>e.startsWith("on")?!Ev(e):n(e))}try{GQ(require("@emotion/is-prop-valid").default)}catch{}function KQ(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(u4(i)||t===!0&&Ev(i)||!e&&!Ev(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function QQ(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const O_=P.createContext({});function N_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Rp(n){return typeof n=="string"||Array.isArray(n)}const BS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],US=["initial",...BS];function V_(n){return N_(n.animate)||US.some(e=>Rp(n[e]))}function d4(n){return!!(V_(n)||n.variants)}function XQ(n,e){if(V_(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Rp(t)?t:void 0,animate:Rp(r)?r:void 0}}return n.inherit!==!1?e:{}}function ZQ(n){const{initial:e,animate:t}=XQ(n,P.useContext(O_));return P.useMemo(()=>({initial:e,animate:t}),[FP(e),FP(t)])}function FP(n){return Array.isArray(n)?n.join(" "):n}const JQ=Symbol.for("motionComponentSymbol");function Mu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function eX(n,e,t){return P.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Mu(t)&&(t.current=r))},[e])}const jS=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tX="framerAppearId",h4="data-"+jS(tX),f4=P.createContext({});function nX(n,e,t,r,i){var A,I;const{visualElement:s}=P.useContext(O_),l=P.useContext(c4),u=P.useContext(M_),d=P.useContext(FS).reducedMotion,f=P.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:s,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,y=P.useContext(f4);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&rX(f.current,t,i,y);const v=P.useRef(!1);P.useInsertionEffect(()=>{p&&v.current&&p.update(t,u)});const b=t[h4],T=P.useRef(!!b&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,b))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,b)));return vL(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),VS.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),T.current=!1))}),p}function rX(n,e,t,r){const{layoutId:i,layout:s,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:p4(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||u&&Mu(u),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function p4(n){if(n)return n.options.allowProjection!==!1?n.projection:p4(n.parent)}function iX({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&YQ(n);function s(u,d){let f;const p={...P.useContext(FS),...u,layoutId:sX(u)},{isStatic:y}=p,v=ZQ(u),b=r(u,y);if(!y&&mS){aX();const T=oX(p);f=T.MeasureLayout,v.visualElement=nX(i,b,p,e,T.ProjectionNode)}return x.jsxs(O_.Provider,{value:v,children:[f&&v.visualElement?x.jsx(f,{visualElement:v.visualElement,...p}):null,t(i,u,eX(b,v.visualElement,d),b,y,v.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=P.forwardRef(s);return l[JQ]=i,l}function sX({layoutId:n}){const e=P.useContext(fS).id;return e&&n!==void 0?e+"-"+n:n}function aX(n,e){P.useContext(c4).strict}function oX(n){const{drag:e,layout:t}=Td;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Cp={};function lX(n){for(const e in n)Cp[e]=n[e],ES(e)&&(Cp[e].isCSSVariable=!0)}function m4(n,{layout:e,layoutId:t}){return Gd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Cp[n]||n==="opacity")}const cX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uX=Wd.length;function dX(n,e,t){let r="",i=!0;for(let s=0;s<uX;s++){const l=Wd[s],u=n[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||t){const f=r4(u,NS[l]);if(!d){i=!1;const p=cX[l]||l;r+=`${p}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function zS(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let l=!1,u=!1;for(const d in e){const f=e[d];if(Gd.has(d)){l=!0;continue}else if(ES(d)){i[d]=f;continue}else{const p=r4(f,NS[d]);d.startsWith("origin")?(u=!0,s[d]=p):r[d]=p}}if(e.transform||(l||t?r.transform=dX(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=s;r.transformOrigin=`${d} ${f} ${p}`}}const $S=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g4(n,e,t){for(const r in e)!er(e[r])&&!m4(r,t)&&(n[r]=e[r])}function hX({transformTemplate:n},e){return P.useMemo(()=>{const t=$S();return zS(t,e,n),Object.assign({},t.vars,t.style)},[e])}function fX(n,e){const t=n.style||{},r={};return g4(r,t,n),Object.assign(r,hX(n,e)),r}function pX(n,e){const t={},r=fX(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const mX={offset:"stroke-dashoffset",array:"stroke-dasharray"},gX={offset:"strokeDashoffset",array:"strokeDasharray"};function yX(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?mX:gX;n[s.offset]=Fe.transform(-r);const l=Fe.transform(e),u=Fe.transform(t);n[s.array]=`${l} ${u}`}function y4(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(zS(n,u,f),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),r!==void 0&&(y.scale=r),i!==void 0&&yX(y,i,s,l,!1)}const v4=()=>({...$S(),attrs:{}}),_4=n=>typeof n=="string"&&n.toLowerCase()==="svg";function vX(n,e,t,r){const i=P.useMemo(()=>{const s=v4();return y4(s,e,_4(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};g4(s,n.style,n),i.style={...s,...i.style}}return i}const _X=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qS(n){return typeof n!="string"||n.includes("-")?!1:!!(_X.indexOf(n)>-1||/[A-Z]/u.test(n))}function wX(n=!1){return(t,r,i,{latestValues:s},l)=>{const d=(qS(t)?vX:pX)(r,s,l,t),f=KQ(r,typeof t=="string",n),p=t!==P.Fragment?{...f,...d,ref:i}:{},{children:y}=r,v=P.useMemo(()=>er(y)?y.get():y,[y]);return P.createElement(t,{...p,children:v})}}function BP(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function HS(n,e,t,r){if(typeof e=="function"){const[i,s]=BP(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=BP(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function Oy(n){return er(n)?n.get():n}function bX({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:TX(t,r,i,n),renderState:e()}}const w4=n=>(e,t)=>{const r=P.useContext(O_),i=P.useContext(M_),s=()=>bX(n,e,r,i);return t?s():pS(s)};function TX(n,e,t,r){const i={},s=r(n,{});for(const v in s)i[v]=Oy(s[v]);let{initial:l,animate:u}=n;const d=V_(n),f=d4(n);e&&f&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=t?t.initial===!1:!1;p=p||l===!1;const y=p?u:l;if(y&&typeof y!="boolean"&&!N_(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const T=HS(n,v[b]);if(T){const{transitionEnd:A,transition:I,...C}=T;for(const V in C){let N=C[V];if(Array.isArray(N)){const q=p?N.length-1:0;N=N[q]}N!==null&&(i[V]=N)}for(const V in A)i[V]=A[V]}}}return i}function YS(n,e,t){var s;const{style:r}=n,i={};for(const l in r)(er(r[l])||e.style&&er(e.style[l])||m4(l,n)||((s=t==null?void 0:t.getValue(l))==null?void 0:s.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const EX={useVisualState:w4({scrapeMotionValuesFromProps:YS,createRenderState:$S})};function b4(n,e,t){const r=YS(n,e,t);for(const i in n)if(er(n[i])||er(e[i])){const s=Wd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const SX={useVisualState:w4({scrapeMotionValuesFromProps:b4,createRenderState:v4})};function xX(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...qS(r)?SX:EX,preloadedFeatures:n,useRender:wX(i),createVisualElement:e,Component:r};return iX(l)}}function Pp(n,e,t){const r=n.getProps();return HS(r,e,t!==void 0?t:r.custom,n)}const JT=n=>Array.isArray(n);function AX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bd(t))}function IX(n){return JT(n)?n[n.length-1]||0:n}function DX(n,e){const t=Pp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const l in s){const u=IX(s[l]);AX(n,l,u)}}function RX(n){return!!(er(n)&&n.add)}function eE(n,e){const t=n.getValue("willChange");if(RX(t))return t.add(e);if(!t&&ha.WillChange){const r=new ha.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function T4(n){return n.props[h4]}const CX=n=>n!==null;function PX(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(CX),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const kX={type:"spring",stiffness:500,damping:25,restSpeed:10},MX=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),OX={type:"keyframes",duration:.8},NX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VX=(n,{keyframes:e})=>e.length>2?OX:Gd.has(n)?n.startsWith("scale")?MX(e[1]):kX:NX;function LX({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const WS=(n,e,t,r={},i,s)=>l=>{const u=OS(r,n)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ls(d);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:s?void 0:i};LX(u)||Object.assign(p,VX(n,p)),p.duration&&(p.duration=ls(p.duration)),p.repeatDelay&&(p.repeatDelay=ls(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(ha.instantAnimations||ha.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,y&&!s&&e.get()!==void 0){const v=PX(p.keyframes,u);if(v!==void 0){zt.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new PS(p):new gQ(p)};function FX({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function E4(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(s=r);const d=[],f=i&&n.animationState&&n.animationState.getState()[i];for(const p in u){const y=n.getValue(p,n.latestValues[p]??null),v=u[p];if(v===void 0||f&&FX(f,p))continue;const b={delay:t,...OS(s||{},p)},T=y.get();if(T!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===T&&!b.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const C=T4(n);if(C){const V=window.MotionHandoffAnimation(C,p,zt);V!==null&&(b.startTime=V,A=!0)}}eE(n,p),y.start(WS(p,y,v,n.shouldReduceMotion&&ZL.has(p)?{type:!1}:b,n,A));const I=y.animation;I&&d.push(I)}return l&&Promise.all(d).then(()=>{zt.update(()=>{l&&DX(n,l)})}),d}function tE(n,e,t={}){var d;const r=Pp(n,e,t.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(E4(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=i;return BX(n,e,p+f,y,v,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,p]=u==="beforeChildren"?[s,l]:[l,s];return f().then(()=>p())}else return Promise.all([s(),l(t.delay)])}function BX(n,e,t=0,r=0,i=1,s){const l=[],u=(n.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(n.variantChildren).sort(UX).forEach((f,p)=>{f.notify("AnimationStart",e),l.push(tE(f,e,{...s,delay:t+d(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function UX(n,e){return n.sortNodePosition(e)}function jX(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>tE(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=tE(n,e,t);else{const i=typeof e=="function"?Pp(n,e,t.custom):e;r=Promise.all(E4(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function S4(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const zX=US.length;function x4(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?x4(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<zX;t++){const r=US[t],i=n.props[r];(Rp(i)||i===!1)&&(e[r]=i)}return e}const $X=[...BS].reverse(),qX=BS.length;function HX(n){return e=>Promise.all(e.map(({animation:t,options:r})=>jX(n,t,r)))}function YX(n){let e=HX(n),t=UP(),r=!0;const i=d=>(f,p)=>{var v;const y=Pp(n,p,d==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:b,transitionEnd:T,...A}=y;f={...f,...A,...T}}return f};function s(d){e=d(n)}function l(d){const{props:f}=n,p=x4(n.parent)||{},y=[],v=new Set;let b={},T=1/0;for(let I=0;I<qX;I++){const C=$X[I],V=t[C],N=f[C]!==void 0?f[C]:p[C],q=Rp(N),z=C===d?V.isActive:null;z===!1&&(T=I);let Y=N===p[C]&&N!==f[C]&&q;if(Y&&r&&n.manuallyAnimateOnMount&&(Y=!1),V.protectedKeys={...b},!V.isActive&&z===null||!N&&!V.prevProp||N_(N)||typeof N=="boolean")continue;const k=WX(V.prevProp,N);let D=k||C===d&&V.isActive&&!Y&&q||I>T&&q,M=!1;const L=Array.isArray(N)?N:[N];let j=L.reduce(i(C),{});z===!1&&(j={});const{prevResolvedValues:$={}}=V,F={...$,...j},Ve=ie=>{D=!0,v.has(ie)&&(M=!0,v.delete(ie)),V.needsAnimating[ie]=!0;const de=n.getValue(ie);de&&(de.liveStyle=!1)};for(const ie in F){const de=j[ie],Ee=$[ie];if(b.hasOwnProperty(ie))continue;let U=!1;JT(de)&&JT(Ee)?U=!S4(de,Ee):U=de!==Ee,U?de!=null?Ve(ie):v.add(ie):de!==void 0&&v.has(ie)?Ve(ie):V.protectedKeys[ie]=!0}V.prevProp=N,V.prevResolvedValues=j,V.isActive&&(b={...b,...j}),r&&n.blockInitialAnimation&&(D=!1),D&&(!(Y&&k)||M)&&y.push(...L.map(ie=>({animation:ie,options:{type:C}})))}if(v.size){const I={};if(typeof f.initial!="boolean"){const C=Pp(n,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(I.transition=C.transition)}v.forEach(C=>{const V=n.getBaseTarget(C),N=n.getValue(C);N&&(N.liveStyle=!0),I[C]=V??null}),y.push({animation:I})}let A=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(y):Promise.resolve()}function u(d,f){var y;if(t[d].isActive===f)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(d,f)}),t[d].isActive=f;const p=l(d);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=UP(),r=!0}}}function WX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!S4(e,n):!1}function Sl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UP(){return{animate:Sl(!0),whileInView:Sl(),whileHover:Sl(),whileTap:Sl(),whileDrag:Sl(),whileFocus:Sl(),exit:Sl()}}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GX extends Uo{constructor(e){super(e),e.animationState||(e.animationState=YX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();N_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let KX=0;class QX extends Uo{constructor(){super(...arguments),this.id=KX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const XX={animation:{Feature:GX},exit:{Feature:QX}};function kp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function hm(n){return{point:{x:n.pageX,y:n.pageY}}}const ZX=n=>e=>LS(e)&&n(e,hm(e));function Qf(n,e,t,r){return kp(n,e,ZX(t),r)}function A4({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function JX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function eZ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const I4=1e-4,tZ=1-I4,nZ=1+I4,D4=.01,rZ=0-D4,iZ=0+D4;function ur(n){return n.max-n.min}function sZ(n,e,t){return Math.abs(n-e)<=t}function jP(n,e,t,r=.5){n.origin=r,n.originPoint=Ft(e.min,e.max,n.origin),n.scale=ur(t)/ur(e),n.translate=Ft(t.min,t.max,n.origin)-n.originPoint,(n.scale>=tZ&&n.scale<=nZ||isNaN(n.scale))&&(n.scale=1),(n.translate>=rZ&&n.translate<=iZ||isNaN(n.translate))&&(n.translate=0)}function Xf(n,e,t,r){jP(n.x,e.x,t.x,r?r.originX:void 0),jP(n.y,e.y,t.y,r?r.originY:void 0)}function zP(n,e,t){n.min=t.min+e.min,n.max=n.min+ur(e)}function aZ(n,e,t){zP(n.x,e.x,t.x),zP(n.y,e.y,t.y)}function $P(n,e,t){n.min=e.min-t.min,n.max=n.min+ur(e)}function Zf(n,e,t){$P(n.x,e.x,t.x),$P(n.y,e.y,t.y)}const qP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ou=()=>({x:qP(),y:qP()}),HP=()=>({min:0,max:0}),nn=()=>({x:HP(),y:HP()});function ri(n){return[n("x"),n("y")]}function Db(n){return n===void 0||n===1}function nE({scale:n,scaleX:e,scaleY:t}){return!Db(n)||!Db(e)||!Db(t)}function Dl(n){return nE(n)||R4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function R4(n){return YP(n.x)||YP(n.y)}function YP(n){return n&&n!=="0%"}function Sv(n,e,t){const r=n-t,i=e*r;return t+i}function WP(n,e,t,r,i){return i!==void 0&&(n=Sv(n,i,r)),Sv(n,t,r)+e}function rE(n,e=0,t=1,r,i){n.min=WP(n.min,e,t,r,i),n.max=WP(n.max,e,t,r,i)}function C4(n,{x:e,y:t}){rE(n.x,e.translate,e.scale,e.originPoint),rE(n.y,t.translate,t.scale,t.originPoint)}const GP=.999999999999,KP=1.0000000000001;function oZ(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,l;for(let u=0;u<i;u++){s=t[u],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Vu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,C4(n,l)),r&&Dl(s.latestValues)&&Vu(n,s.latestValues))}e.x<KP&&e.x>GP&&(e.x=1),e.y<KP&&e.y>GP&&(e.y=1)}function Nu(n,e){n.min=n.min+e,n.max=n.max+e}function QP(n,e,t,r,i=.5){const s=Ft(n.min,n.max,i);rE(n,e,t,s,r)}function Vu(n,e){QP(n.x,e.x,e.scaleX,e.scale,e.originX),QP(n.y,e.y,e.scaleY,e.scale,e.originY)}function P4(n,e){return A4(eZ(n.getBoundingClientRect(),e))}function lZ(n,e,t){const r=P4(n,t),{scroll:i}=e;return i&&(Nu(r.x,i.offset.x),Nu(r.y,i.offset.y)),r}const k4=({current:n})=>n?n.ownerDocument.defaultView:null,XP=(n,e)=>Math.abs(n-e);function cZ(n,e){const t=XP(n.x,e.x),r=XP(n.y,e.y);return Math.sqrt(t**2+r**2)}class M4{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Cb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=cZ(y.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:T}=y,{timestamp:A}=Bn;this.history.push({...T,timestamp:A});const{onStart:I,onMove:C}=this.handlers;v||(I&&I(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Rb(v,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Cb(y.type==="pointercancel"?this.lastMoveEventInfo:Rb(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,I),T&&T(y,I)},!LS(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=hm(e),u=Rb(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=Bn;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,Cb(u,this.history)),this.removeListeners=cm(Qf(this.contextWindow,"pointermove",this.handlePointerMove),Qf(this.contextWindow,"pointerup",this.handlePointerUp),Qf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ro(this.updatePoint)}}function Rb(n,e){return e?{point:e(n.point)}:n}function ZP(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Cb({point:n},e){return{point:n,delta:ZP(n,O4(e)),offset:ZP(n,uZ(e)),velocity:dZ(e,.1)}}function uZ(n){return n[0]}function O4(n){return n[n.length-1]}function dZ(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=O4(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ls(e)));)t--;if(!r)return{x:0,y:0};const s=cs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function hZ(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Ft(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Ft(t,n,r.max):Math.min(n,t)),n}function JP(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function fZ(n,{top:e,left:t,bottom:r,right:i}){return{x:JP(n.x,t,i),y:JP(n.y,e,r)}}function ek(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function pZ(n,e){return{x:ek(n.x,e.x),y:ek(n.y,e.y)}}function mZ(n,e){let t=.5;const r=ur(n),i=ur(e);return i>r?t=Ap(e.min,e.max-r,n.min):r>i&&(t=Ap(n.min,n.max-i,e.min)),da(0,1,t)}function gZ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const iE=.35;function yZ(n=iE){return n===!1?n=0:n===!0&&(n=iE),{x:tk(n,"left","right"),y:tk(n,"top","bottom")}}function tk(n,e,t){return{min:nk(n,e),max:nk(n,t)}}function nk(n,e){return typeof n=="number"?n:n[e]||0}const vZ=new WeakMap;class _Z{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hm(p).point)},s=(p,y)=>{const{drag:v,dragPropagation:b,onDragStart:T}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kQ(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(I=>{let C=this.getAxisMotionValue(I).get()||0;if(us.test(C)){const{projection:V}=this.visualElement;if(V&&V.layout){const N=V.layout.layoutBox[I];N&&(C=ur(N)*(parseFloat(C)/100))}}this.originPoint[I]=C}),T&&zt.postRender(()=>T(p,y)),eE(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:T,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:I}=y;if(b&&this.currentDirection===null){this.currentDirection=wZ(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,I),this.updateAxis("y",y.point,I),this.visualElement.render(),A&&A(p,y)},u=(p,y)=>this.stop(p,y),d=()=>ri(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new M4(e,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:k4(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&zt.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!ny(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=hZ(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Mu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=fZ(r.layoutBox,e):this.constraints=!1,this.elastic=yZ(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ri(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=gZ(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Mu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lZ(r,i.root,this.visualElement.getTransformPagePoint());let l=pZ(i.layout.layoutBox,s);if(t){const u=t(JX(l));this.hasMutatedConstraints=!!u,u&&(l=A4(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=ri(p=>{if(!ny(p,t,this.currentDirection))return;let y=d&&d[p]||{};l&&(y={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...y};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return eE(this.visualElement,e),r.start(WS(e,r,0,t,this.visualElement,!1))}stopAnimation(){ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ri(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ri(t=>{const{drag:r}=this.getProps();if(!ny(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];s.set(e[t]-Ft(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Mu(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ri(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=mZ({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ri(l=>{if(!ny(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(Ft(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;vZ.set(this.visualElement,this);const e=this.visualElement.current,t=Qf(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Mu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zt.read(r);const l=kp(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ri(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=iE,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function ny(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function wZ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class bZ extends Uo{constructor(e){super(e),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new _Z(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const rk=n=>(e,t)=>{n&&zt.postRender(()=>n(e,t))};class TZ extends Uo{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(e){this.session=new M4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:rk(e),onStart:rk(t),onMove:r,onEnd:(s,l)=>{delete this.session,i&&zt.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=Qf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ny={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ik(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const vf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Fe.test(n))n=parseFloat(n);else return n;const t=ik(n,e.target.x),r=ik(n,e.target.y);return`${t}% ${r}%`}},EZ={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Co.parse(n);if(i.length>5)return r;const s=Co.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=d;const f=Ft(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),s(i)}};class SZ extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;lX(xZ),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ny.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||zt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),VS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function N4(n){const[e,t]=l4(),r=P.useContext(fS);return x.jsx(SZ,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(f4),isPresent:e,safeToRemove:t})}const xZ={borderRadius:{...vf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vf,borderTopRightRadius:vf,borderBottomLeftRadius:vf,borderBottomRightRadius:vf,boxShadow:EZ};function AZ(n,e,t){const r=er(n)?n:bd(n);return r.start(WS("",r,e,t)),r.animation}const IZ=(n,e)=>n.depth-e.depth;class DZ{constructor(){this.children=[],this.isDirty=!1}add(e){gS(this.children,e),this.isDirty=!0}remove(e){yS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IZ),this.isDirty=!1,this.children.forEach(e)}}function RZ(n,e){const t=Sr.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ro(r),n(s-e))};return zt.setup(r,!0),()=>Ro(r)}const V4=["TopLeft","TopRight","BottomLeft","BottomRight"],CZ=V4.length,sk=n=>typeof n=="string"?parseFloat(n):n,ak=n=>typeof n=="number"||Fe.test(n);function PZ(n,e,t,r,i,s){i?(n.opacity=Ft(0,t.opacity??1,kZ(r)),n.opacityExit=Ft(e.opacity??1,0,MZ(r))):s&&(n.opacity=Ft(e.opacity??1,t.opacity??1,r));for(let l=0;l<CZ;l++){const u=`border${V4[l]}Radius`;let d=ok(e,u),f=ok(t,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||ak(d)===ak(f)?(n[u]=Math.max(Ft(sk(d),sk(f),r),0),(us.test(f)||us.test(d))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=Ft(e.rotate||0,t.rotate||0,r))}function ok(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const kZ=L4(0,.5,RL),MZ=L4(.5,.95,ci);function L4(n,e,t){return r=>r<n?0:r>e?1:t(Ap(n,e,r))}function lk(n,e){n.min=e.min,n.max=e.max}function ti(n,e){lk(n.x,e.x),lk(n.y,e.y)}function ck(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function uk(n,e,t,r,i){return n-=e,n=Sv(n,1/t,r),i!==void 0&&(n=Sv(n,1/i,r)),n}function OZ(n,e=0,t=1,r=.5,i,s=n,l=n){if(us.test(e)&&(e=parseFloat(e),e=Ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ft(s.min,s.max,r);n===s&&(u-=e),n.min=uk(n.min,e,t,u,i),n.max=uk(n.max,e,t,u,i)}function dk(n,e,[t,r,i],s,l){OZ(n,e[t],e[r],e[i],e.scale,s,l)}const NZ=["x","scaleX","originX"],VZ=["y","scaleY","originY"];function hk(n,e,t,r){dk(n.x,e,NZ,t?t.x:void 0,r?r.x:void 0),dk(n.y,e,VZ,t?t.y:void 0,r?r.y:void 0)}function fk(n){return n.translate===0&&n.scale===1}function F4(n){return fk(n.x)&&fk(n.y)}function pk(n,e){return n.min===e.min&&n.max===e.max}function LZ(n,e){return pk(n.x,e.x)&&pk(n.y,e.y)}function mk(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function B4(n,e){return mk(n.x,e.x)&&mk(n.y,e.y)}function gk(n){return ur(n.x)/ur(n.y)}function yk(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class FZ{constructor(){this.members=[]}add(e){gS(this.members,e),e.scheduleRender()}remove(e){if(yS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BZ(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:v,skewX:b,skewY:T}=t;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Pb=["","X","Y","Z"],UZ={visibility:"hidden"},jZ=1e3;let zZ=0;function kb(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function U4(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=T4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",zt,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&U4(r)}function j4({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=zZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HZ),this.nodes.forEach(QZ),this.nodes.forEach(XZ),this.nodes.forEach(YZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new DZ)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new wS),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=o4(l)&&!FQ(l),this.instance=l;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),n){let p;const y=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=RZ(y,250),Ny.hasAnimatedSinceResize&&(Ny.hasAnimatedSinceResize=!1,this.nodes.forEach(_k))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||nJ,{onLayoutAnimationStart:A,onLayoutAnimationComplete:I}=f.getProps(),C=!this.targetLayout||!B4(this.targetLayout,b),V=!y&&v;if(this.options.layoutRoot||this.resumeFrom||V||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...OS(T,"layout"),onPlay:A,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(p,V)}else y||_k(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vk);return}this.isUpdating||this.nodes.forEach(GZ),this.isUpdating=!1,this.nodes.forEach(KZ),this.nodes.forEach($Z),this.nodes.forEach(qZ),this.clearAllSnapshots();const u=Sr.now();Bn.delta=da(0,1e3/60,u-Bn.timestamp),Bn.timestamp=u,Bn.isProcessing=!0,Eb.update.process(Bn),Eb.preRender.process(Bn),Eb.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WZ),this.sharedNodes.forEach(JZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!F4(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||Dl(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),rJ(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(iJ))){const{scroll:p}=this.root;p&&(Nu(u.x,p.offset.x),Nu(u.y,p.offset.y))}return u}removeElementScroll(l){var d;const u=nn();if(ti(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ti(u,l),Nu(u.x,y.offset.x),Nu(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const d=nn();ti(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Vu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Dl(p.latestValues)&&Vu(d,p.latestValues)}return Dl(this.latestValues)&&Vu(d,this.latestValues),d}removeTransform(l){const u=nn();ti(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Dl(f.latestValues))continue;nE(f.latestValues)&&f.updateSnapshot();const p=nn(),y=f.measurePageBox();ti(p,y),hk(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Dl(this.latestValues)&&hk(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Zf(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),C4(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Zf(this.relativeTargetOrigin,this.target,b.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nE(this.parent.latestValues)||R4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ti(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;oZ(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ck(this.prevProjectionDelta.x,this.projectionDelta.x),ck(this.prevProjectionDelta.y,this.projectionDelta.y)),Xf(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!yk(this.projectionDelta.x,this.prevProjectionDelta.x)||!yk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ou(),this.projectionDelta=Ou(),this.projectionDeltaWithTransform=Ou()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},y=Ou();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=nn(),b=d?d.source:void 0,T=this.layout?this.layout.source:void 0,A=b!==T,I=this.getStack(),C=!I||I.members.length<=1,V=!!(A&&!C&&this.options.crossfade===!0&&!this.path.some(tJ));this.animationProgress=0;let N;this.mixTargetDelta=q=>{const z=q/1e3;wk(y.x,l.x,z),wk(y.y,l.y,z),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zf(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eJ(this.relativeTarget,this.relativeTargetOrigin,v,z),N&&LZ(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=nn()),ti(N,this.relativeTarget)),A&&(this.animationValues=p,PZ(p,f,this.latestValues,z,V,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{Ny.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bd(0)),this.currentAnimation=AZ(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&z4(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||nn();const y=ur(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const v=ur(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}ti(u,d),Vu(u,p),Xf(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FZ),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&kb("z",l,f,this.animationValues);for(let p=0;p<Pb.length;p++)kb(`rotate${Pb[p]}`,l,f,this.animationValues),kb(`skew${Pb[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return UZ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Oy(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Oy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Dl(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=BZ(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Cp){if(p[b]===void 0)continue;const{correct:T,applyTo:A,isCSSVariable:I}=Cp[b],C=u.transform==="none"?p[b]:T(p[b],f);if(A){const V=A.length;for(let N=0;N<V;N++)u[A[N]]=C}else I?this.options.visualElement.renderState.vars[b]=C:u[b]=C}return this.options.layoutId&&(u.pointerEvents=f===this?Oy(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(vk),this.root.sharedNodes.clear()}}}function $Z(n){n.updateLayout()}function qZ(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,l=e.source!==n.layout.source;s==="size"?ri(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=ur(v);v.min=r[y].min,v.max=v.min+b}):z4(s,e.layoutBox,r)&&ri(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],b=ur(r[y]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const u=Ou();Xf(u,r,e.layoutBox);const d=Ou();l?Xf(d,n.applyTransform(i,!0),e.measuredBox):Xf(d,r,e.layoutBox);const f=!F4(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const T=nn();Zf(T,e.layoutBox,v.layoutBox);const A=nn();Zf(A,r,b.layoutBox),B4(T,A)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=T,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function HZ(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function YZ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function WZ(n){n.clearSnapshot()}function vk(n){n.clearMeasurements()}function GZ(n){n.isLayoutDirty=!1}function KZ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function _k(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function QZ(n){n.resolveTargetDelta()}function XZ(n){n.calcProjection()}function ZZ(n){n.resetSkewAndRotation()}function JZ(n){n.removeLeadSnapshot()}function wk(n,e,t){n.translate=Ft(e.translate,0,t),n.scale=Ft(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function bk(n,e,t,r){n.min=Ft(e.min,t.min,r),n.max=Ft(e.max,t.max,r)}function eJ(n,e,t,r){bk(n.x,e.x,t.x,r),bk(n.y,e.y,t.y,r)}function tJ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const nJ={duration:.45,ease:[.4,0,.1,1]},Tk=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Ek=Tk("applewebkit/")&&!Tk("chrome/")?Math.round:ci;function Sk(n){n.min=Ek(n.min),n.max=Ek(n.max)}function rJ(n){Sk(n.x),Sk(n.y)}function z4(n,e,t){return n==="position"||n==="preserve-aspect"&&!sZ(gk(e),gk(t),.2)}function iJ(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const sJ=j4({attachResizeListener:(n,e)=>kp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mb={current:void 0},$4=j4({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Mb.current){const n=new sJ({});n.mount(window),n.setOptions({layoutScroll:!0}),Mb.current=n}return Mb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),aJ={pan:{Feature:TZ},drag:{Feature:bZ,ProjectionNode:$4,MeasureLayout:N4}};function xk(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&zt.postRender(()=>s(e,hm(e)))}class oJ extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=MQ(e,(t,r)=>(xk(this.node,r,"Start"),i=>xk(this.node,i,"End"))))}unmount(){}}class lJ extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cm(kp(this.node.current,"focus",()=>this.onFocus()),kp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ak(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&zt.postRender(()=>s(e,hm(e)))}class cJ extends Uo{mount(){const{current:e}=this.node;e&&(this.unmount=LQ(e,(t,r)=>(Ak(this.node,r,"Start"),(i,{success:s})=>Ak(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sE=new WeakMap,Ob=new WeakMap,uJ=n=>{const e=sE.get(n.target);e&&e(n)},dJ=n=>{n.forEach(uJ)};function hJ({root:n,...e}){const t=n||document;Ob.has(t)||Ob.set(t,{});const r=Ob.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(dJ,{root:n,...e})),r[i]}function fJ(n,e,t){const r=hJ(e);return sE.set(n,t),r.observe(n),()=>{sE.delete(n),r.unobserve(n)}}const pJ={some:0,all:1};class mJ extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:pJ[i]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),v=f?p:y;v&&v(d)};return fJ(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(gJ(e,t))&&this.startObserver()}unmount(){}}function gJ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const yJ={inView:{Feature:mJ},tap:{Feature:cJ},focus:{Feature:lJ},hover:{Feature:oJ}},vJ={layout:{ProjectionNode:$4,MeasureLayout:N4}},aE={current:null},q4={current:!1};function _J(){if(q4.current=!0,!!mS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>aE.current=n.matches;n.addListener(e),e()}else aE.current=!1}const wJ=new WeakMap;function bJ(n,e,t){for(const r in e){const i=e[r],s=t[r];if(er(i))n.addValue(r,i);else if(er(s))n.addValue(r,bd(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,bd(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Ik=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TJ{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Sr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,zt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=V_(t),this.isVariantNode=d4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in y){const b=y[v];d[v]!==void 0&&er(b)&&b.set(d[v],!1)}}mount(e){this.current=e,wJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),q4.current||_J(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ro(this.notifyUpdate),Ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Gd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&zt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Td){const t=Td[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Ik.length;r++){const i=Ik[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=e[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=bJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=bd(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_L(r)||bL(r))?r=parseFloat(r):!UQ(r)&&Co.test(t)&&(r=n4(e,t)),this.setBaseTarget(e,er(r)?r.get():r)),er(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const l=HS(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);l&&(r=l[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!er(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new wS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class H4 extends TJ{constructor(){super(...arguments),this.KeyframeResolver=DQ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;er(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Y4(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}function EJ(n){return window.getComputedStyle(n)}class SJ extends H4{constructor(){super(...arguments),this.type="html",this.renderInstance=Y4}readValueFromInstance(e,t){var r;if(Gd.has(t))return(r=this.projection)!=null&&r.isProjecting?WT(t):WK(e,t);{const i=EJ(e),s=(ES(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return P4(e,t)}build(e,t,r){zS(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return YS(e,t,r)}}const W4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xJ(n,e,t,r){Y4(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(W4.has(i)?i:jS(i),e.attrs[i])}class AJ extends H4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gd.has(t)){const r=t4(t);return r&&r.default||0}return t=W4.has(t)?t:jS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return b4(e,t,r)}build(e,t,r){y4(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){xJ(e,t,r,i)}mount(e){this.isSVGTag=_4(e.tagName),super.mount(e)}}const IJ=(n,e)=>qS(n)?new AJ(e):new SJ(e,{allowProjection:n!==P.Fragment}),DJ=xX({...XX,...yJ,...aJ,...vJ},IJ),fm=QQ(DJ),RJ=W.div`
  width: 100%;
  max-width: 362px;
  display: flex;
  flex-direction: column;
`,CJ=W.div`
  font-size: 18px;
  font-weight: 700;
  color: ${ae.colors.gray[800]};
  display: flex;
  align-items: center;
  margin-bottom: 12px;
`,PJ=W.img`
  width: 20px;
  height: 20px;
  margin-left: 4px;
`,Dk={initial:{x:0},animate:{x:[0,-4,0,4,0,-4,0,4,0],transition:{duration:.2}}},kJ=W(fm.input)`
  width: 100%;
  padding: ${({$isTopic:n})=>n?"12px 16px":"12px 16px 60px 16px"};
  border-radius: ${ae.radius.small};
  border: 1px solid
    ${({$hasError:n,$hasValue:e})=>n?ae.colors.error:e?ae.colors.primary:ae.colors.gray[300]};
  color: ${ae.colors.gray[800]};
  font-size: 14px;
  line-height: 22px;
  resize: none;
  height: auto;

  &::placeholder {
    color: ${ae.colors.gray[400]};
  }

  &:focus {
    outline: none;
    border-color: ${ae.colors.primary};
  }

  &::-webkit-scrollbar {
    display: none;
  }
`,MJ=W(fm.p)`
  font-size: 12px;
  color: ${ae.colors.error};
  line-height: 150%;
  margin-top: 8px;
`;function Mp({title:n="제목",placeholder:e="텍스트를 입력해주세요",type:t="default",topic:r=!0,value:i,onChange:s}){const[l,u]=P.useState(!1),d=t==="essential",f=d&&l&&i.trim()==="",p=i.trim()!=="",y=()=>u(!0),v=b=>{s==null||s(b.target.value)};return x.jsxs(RJ,{children:[x.jsxs(CJ,{children:[n,d&&x.jsx(PJ,{src:"/WADA_final//essential.svg",alt:"필수 입력"})]}),x.jsx(kJ,{as:r?"input":"textarea",placeholder:e,value:i,onChange:v,onBlur:y,$hasError:f,$hasValue:p,$isTopic:r,...f?Dk:{}}),f&&x.jsx(MJ,{...Dk,children:"필수 입력사항입니다."})]})}const OJ=W.div`
  width: 100%;
  max-width: 362px;
  position: relative;
  display: flex;
  flex-direction: column;
`,NJ=W.div`
  font-size: 18px;
  font-weight: 700;
  color: ${ae.colors.gray[800]};
  display: flex;
  align-items: center;
  margin-bottom: 12px;
`,VJ=W.img`
  width: 20px;
  height: 20px;
`,LJ=W(fm.button)`
  width: 100%;
  padding: 12px 16px;
  font-size: 14px;
  line-height: 22px;
  text-align: left;
  background-color: #fff;
  border: 1px solid
    ${({$hasError:n,open:e})=>n?ae.colors.error:e?ae.colors.primary:ae.colors.gray[300]};
  border-radius: ${ae.radius.small};
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: ${({$inValue:n})=>n?ae.colors.gray[800]:ae.colors.gray[400]};
  cursor: pointer;
`,FJ=W.img`
  width: 20px;
  height: 20px;
  transition: transform 0.3s ease;
  transform: ${({open:n})=>n?"rotate(-180deg)":"rotate(0deg)"};
`,BJ=W(fm.ul)`
  width: 100%;
  position: absolute;
  top: 84px;
  max-height: 160px;
  background-color: #fff;
  border: 1px solid ${ae.colors.gray[300]};
  border-radius: ${ae.radius.small};
  margin-top: 4px;
  overflow: hidden;
  overflow-y: scroll;
  z-index: 10;
  padding: 4px 8px;
  display: flex;
  flex-direction: column;
  gap: 4px;
`,UJ=W.li`
  padding: 12px;
  font-size: 14px;
  background-color: ${({selected:n})=>n?ae.colors.secondary:"#fff"};
  color: ${({selected:n})=>n?ae.colors.primary:ae.colors.gray[800]};
  border-radius: ${ae.radius.small};
  cursor: pointer;
`,jJ=W(fm.p)`
  font-size: 12px;
  color: ${ae.colors.error};
  line-height: 150%;
  margin-top: 8px;
`,zJ={open:{opacity:1,height:"auto",transition:{duration:.1}},closed:{opacity:1,height:0,transition:{duration:.1}}},Rk={initial:{x:0},animate:{x:[0,-4,0,4,0,-4,0,4,0],transition:{duration:.3}}};function GS({items:n=[],title:e="항목 선택",placeholder:t="선택해주세요",onSelect:r,type:i="default",value:s=""}){const[l,u]=P.useState(!1),[d,f]=P.useState(!1),p=s,y=i==="essential",v=y&&d&&!p,b=!!p,T=()=>{l&&!p&&f(!0),u(!l)},A=I=>{u(!1),r==null||r(I)};return x.jsxs(OJ,{children:[x.jsxs(NJ,{children:[e,y&&x.jsx(VJ,{src:"/WADA_final//essential.svg",alt:"필수 입력"})]}),x.jsxs(LJ,{onClick:T,open:l,$inValue:b,$hasError:v,...v?Rk:{},children:[p||t,x.jsx(FJ,{src:"/WADA_final//arrow_bottom.svg",open:l,alt:"화살표"})]}),x.jsx(HQ,{children:l&&x.jsx(BJ,{initial:"closed",animate:"open",exit:"closed",variants:zJ,children:n.map(I=>x.jsx(UJ,{onClick:()=>A(I),selected:p===I,children:I},I))})}),v&&x.jsx(jJ,{...Rk,children:"필수 선택 항목입니다."})]})}const $J=W.button`
  width: 100%;
  max-width: 177px;
  padding: 12px 16px;
  border-radius: ${ae.radius.small};
  font-size: 14px;
  line-height: 22px;
  font-weight: 600;
  cursor: ${({disabled:n})=>n?"not-allowed":"pointer"};

  background-color: ${({selected:n})=>n?ae.colors.secondary:"#fff"};
  color: ${({theme:n,selected:e,disabled:t})=>t?n.colors.gray[400]:e?n.colors.primary:n.colors.gray[700]};
  border: 1px solid
    ${({selected:n,disabled:e})=>e?ae.colors.gray[400]:n?ae.colors.primary:ae.colors.gray[400]};
`;function qJ({label:n,selected:e,disabled:t,onClick:r}){return x.jsx($J,{onClick:r,selected:e,disabled:t,children:n})}const HJ=W.div`
  gap: 12px;
`,YJ=W.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  width: 100%;
  gap: 6px;
  margin-top: 16px;
`,WJ=W.div`
  display: flex;
  align-items: center;
  margin-bottom: 8px;
`,GJ=W.p`
  font-size: 18px;
  font-weight: 600;
  color: ${ae.colors.gray[800]};
`,KJ=W.p`
  font-size: 14px;
  color: ${ae.colors.gray[600]};
`,QJ=W.img`
  width: 20px;
  height: 20px;
`,XJ=W.p`
  font-size: 12px;
  color: ${ae.colors.error};
  margin-top: 8px;
`;function Op({title:n="제목",subtext:e="",items:t=[],mode:r="multi",essential:i=!1,value:s=[],onChange:l=()=>{}}){const u=s,[d,f]=P.useState(!1),p=i&&d&&u.length===0,y=v=>{f(!0),r==="multi"?u.includes(v)?l==null||l(u.filter(b=>b!==v)):u.length<2&&(l==null||l([...u,v])):r==="single"&&(l==null||l([v]))};return x.jsxs(x.Fragment,{children:[x.jsxs(HJ,{children:[x.jsxs(WJ,{children:[x.jsx(GJ,{children:n}),i&&x.jsx(QJ,{src:"/WADA_final//essential.svg",alt:"필수"})]}),r==="multi"&&x.jsx(KJ,{children:e}),x.jsx(YJ,{children:t.map((v,b)=>{const T=u.includes(v),A=r==="multi"&&!T&&u.length>=2;return x.jsx(qJ,{label:v,selected:T,disabled:A,onClick:()=>y(v)},b)})})]}),p&&x.jsx(XJ,{children:"최소 1개 이상 선택해주세요."})]})}const ZJ=W.div`
  background-color: #fff;
  display: flex;
  flex-direction: column;
  gap: 40px;
  border-radius: 24px 24px 0px 0px;
  width: 402px;
  height: 712px;
  padding: 0px 20px 36px 20px;
  overflow-y: hidden;

  position: absolute;
  bottom: -20px;
  left: 0;

  z-index: 1000;

  transform: translateY(100%);
  animation: BottomSheet 0.3s ease-out forwards;

  @keyframes BottomSheet {
    to {
      transform: translateY(0);
    }
  }
`,JJ=W.div`
  display: flex;
  flex-direction: column;
  gap: 40px;
  height: 624px;
  overflow-y: scroll;

  &::-webkit-scrollbar {
    display: none;
  }
`,eee=W.div`
  background-color: ${ae.colors.gray[400]};
  width: 72px;
  height: 4px;
`,tee=W.div`
  width: 100%;
  display: flex;
  justify-content: center;
`,nee=W.div`
  height: auto;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 20px 0px 0px 0px;
`,ree=W.p`
  font-size: 20px;
  line-height: 28px;
  font-weight: 700;
  color: ${ae.colors.gray[800]};
`,iee=W.p`
  font-size: 16px;
  line-height: 150%;
  font-weight: 500;
  color: ${ae.colors.gray[500]};
`;function see({onAdd:n,onClose:e}){const[t,r]=P.useState({task:"",position:"",stack:[]}),i={디자이너:["UI 디자이너","UX 디자이너","BX 디자이너","UX 전략가","서비스 디자이너","3D 디자이너","모션 디자이너","일러스트레이터","BI 디자이너"],개발자:["프론트엔드","백엔드","풀스택","퍼블리셔","개발자","서버 관리자","IOS 개발자","Android 개발자","SRE","데브옵스","데이터 엔지니어"],기획자:["서비스 기획자","PM","콘텐츠 기획자","마케팅 기획자","경쟁 분석가","기능 설계자","플로우 설계자"]},s={디자이너:["Figma"," Adobe XD","Photoshop","Illustrator","Whimsical","Affter Effecs","Cinema4D"],개발자:["React","Node.js","J-Queary","TypeScript","MongoDB","Swift","Xcode","Kotlin","Android Studio","Expo","Python","AWS"],기획자:["Notion","Excel","Jira","rello","Google Analytics","PPT"]},l=d=>{r(f=>({...f,task:d,position:""}))},u=d=>{r(f=>({...f,position:d}))};return x.jsx(x.Fragment,{children:x.jsxs(ZJ,{children:[x.jsxs(nee,{children:[x.jsx(tee,{children:x.jsx(eee,{})}),x.jsx(ree,{children:"파티원추가"}),x.jsx(iee,{children:" 모집하려는 파티원의 정보를 추가해주세요"})]}),x.jsxs(JJ,{children:[x.jsx(Op,{title:"모집분야",items:["디자이너","개발자","기획자"],mode:"single",essential:!0,value:t.task,onChange:l}),x.jsx(GS,{title:"포지션",placeholder:"포지션을 선택해주세요",items:i[t.task]||[],type:"essential",value:t.position,onSelect:u}),x.jsx(Xu,{title:"기술 스택",subtext:"최대 3개까지 선택할 수 있어요",chips:s[t.task]||[],size:"large",onChange:d=>r(f=>({...f,stack:d}))})]}),x.jsx(Fr,{btnName:"추가하기",type:t.stack.length>0?"default":"disabled",onClick:()=>{n(t)}})]})})}const aee=n=>P.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...n},P.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1ZM17.707 8.29297C17.3165 7.90244 16.6835 7.90244 16.293 8.29297L11 13.5859L8.70703 11.293L8.63086 11.2246C8.23809 10.9043 7.65908 10.9269 7.29297 11.293C6.92689 11.6591 6.90427 12.2381 7.22461 12.6309L7.29297 12.707L10.293 15.707C10.6835 16.0975 11.3165 16.0975 11.707 15.707L17.707 9.70703C18.0975 9.31652 18.0975 8.6835 17.707 8.29297Z",fill:"currentColor"})),oee=n=>P.createElement("svg",{width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},P.createElement("path",{d:"M8 8.5L16 16.5",stroke:"#BDBDBD",strokeWidth:2,strokeLinecap:"round"}),P.createElement("path",{d:"M16 8.5L8 16.5",stroke:"#BDBDBD",strokeWidth:2,strokeLinecap:"round"})),lee=W.div.attrs({role:"button"})`
  max-width: 362px;
  width: 100%;
  border-radius: ${ae.radius.large};
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  cursor: pointer;

  background-color: ${({type:n})=>n==="selected"?ae.colors.secondary:n==="disabled"?ae.colors.gray[50]:"#fff"};

  border: 1px solid
    ${({type:n})=>n==="selected"?ae.colors.primary:n==="disabled"?ae.colors.gray[100]:ae.colors.gray[300]};
`,cee=W.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
`,uee=W.p`
  font-size: 16px;
  font-weight: 700;
  color: ${({type:n})=>n==="disabled"?ae.colors.gray[300]:ae.colors.gray[800]};
`,dee=W.p`
  font-size: 14px;
  color: ${({type:n})=>n==="disabled"?ae.colors.gray[200]:ae.colors.gray[400]};
`,hee=W.div`
  width: 24px;
  height: 24px;
  color: ${({type:n})=>n==="selected"?ae.colors.primary:ae.colors.gray[300]};
  transition: color 0.2s ease;

  svg {
    width: 100%;
    height: 100%;
  }
`;function fee({type:n="default",title:e="",skills:t="",onClick:r,onDelete:i,purpose:s="default"}){const l=()=>{s==="default"?r():s==="show"&&i()};return x.jsxs(lee,{type:n,onClick:l,children:[x.jsxs(cee,{children:[x.jsx(uee,{type:n,children:e}),x.jsx(dee,{type:n,children:Array.isArray(t)?t.join(" · "):t})]}),x.jsx(hee,{type:n,children:s==="show"?x.jsx(oee,{}):x.jsx(aee,{})})]})}const pee=W.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`;function G4({cards:n=[],mode:e="single",onSelect:t,purpose:r,onChange:i}){const[s,l]=P.useState([]),[u,d]=P.useState(n),f=y=>{l(e==="single"?[y]:v=>v.includes(y)?v.filter(b=>b!==y):[...v,y]),t&&t(n[y])};P.useEffect(()=>{d(n)},[n]);const p=y=>{const v=u.filter((b,T)=>T!==y);d(v),i&&i(v)};return x.jsx(pee,{children:u.map((y,v)=>{let b="default";return e==="single"?s.length>0&&(b=s.includes(v)?"selected":"disabled"):b=s.includes(v)?"selected":"default",x.jsx(fee,{type:b,title:y.title,skills:y.skills,onClick:()=>f(v),onDelete:()=>p(v),purpose:r},v)})})}function K4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=K4(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=K4(n))&&(r&&(r+=" "),r+=e);return r}const Q4=6048e5,mee=864e5,L_=6e4,F_=36e5,gee=1e3,Ck=Symbol.for("constructDateFrom");function yt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Ck in n?n[Ck](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ae(n,e){return yt(e||n,n)}function Si(n,e,t){const r=Ae(n,t==null?void 0:t.in);return isNaN(e)?yt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ai(n,e,t){const r=Ae(n,t==null?void 0:t.in);if(isNaN(e))return yt(n,NaN);if(!e)return r;const i=r.getDate(),s=yt(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const l=s.getDate();return i>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function X4(n,e,t){return yt(n,+Ae(n)+e)}function yee(n,e,t){return X4(n,e*F_)}let vee={};function Tc(){return vee}function fa(n,e){var u,d,f,p;const t=Tc(),r=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,i=Ae(n,e==null?void 0:e.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Ed(n,e){return fa(n,{...e,weekStartsOn:1})}function Z4(n,e){const t=Ae(n,e==null?void 0:e.in),r=t.getFullYear(),i=yt(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ed(i),l=yt(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Ed(l);return t.getTime()>=s.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function xv(n){const e=Ae(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function wa(n,...e){const t=yt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function fc(n,e){const t=Ae(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Sd(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e),s=fc(r),l=fc(i),u=+s-xv(s),d=+l-xv(l);return Math.round((u-d)/mee)}function _ee(n,e){const t=Z4(n,e),r=yt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ed(r)}function oE(n,e,t){const r=Ae(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*L_),r}function KS(n,e,t){return Ai(n,e*3,t)}function wee(n,e,t){return X4(n,e*1e3)}function Av(n,e,t){return Si(n,e*7,t)}function ea(n,e,t){return Ai(n,e*12,t)}function Pk(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=yt.bind(null,i));const s=Ae(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),yt(r,t||NaN)}function kk(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=yt.bind(null,i));const s=Ae(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),yt(r,t||NaN)}function bee(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e);return+fc(r)==+fc(i)}function ta(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Iv(n){return!(!ta(n)&&typeof n!="number"||isNaN(+Ae(n)))}function Dv(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return s*12+l}function Ql(n,e){const t=Ae(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Rv(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),l=Ql(r)-Ql(i);return s*4+l}function Cv(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function Tee(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e),s=Mk(r,i),l=Math.abs(Sd(r,i));r.setDate(r.getDate()-s*l);const u=+(Mk(r,i)===-s),d=s*(l-u);return d===0?0:d}function Mk(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function J4(n,e){const t=Ae(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function e3(n,e){const t=Ae(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lE(n,e){const t=Ae(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function t3(n,e){const t=Ae(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function n3(n,e){const t=Ae(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function B_(n,e){const t=Ae(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Eee(n,e){var u,d;const t=Tc(),r=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ae(n,e==null?void 0:e.in),s=i.getDay(),l=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const See={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xee=(n,e,t)=>{let r;const i=See[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function $u(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Aee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Iee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ree={date:$u({formats:Aee,defaultWidth:"full"}),time:$u({formats:Iee,defaultWidth:"full"}),dateTime:$u({formats:Dee,defaultWidth:"full"})},Cee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pee=(n,e,t,r)=>Cee[n];function Zi(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[u]||n.values[l]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const kee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fee=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Bee={ordinalNumber:Fee,era:Zi({values:kee,defaultWidth:"wide"}),quarter:Zi({values:Mee,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Zi({values:Oee,defaultWidth:"wide"}),day:Zi({values:Nee,defaultWidth:"wide"}),dayPeriod:Zi({values:Vee,defaultWidth:"wide",formattingValues:Lee,defaultFormattingWidth:"wide"})};function Ji(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?jee(u,y=>y.test(l)):Uee(u,y=>y.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function Uee(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function jee(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function r3(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let l=n.valueCallback?n.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const zee=/^(\d+)(th|st|nd|rd)?/i,$ee=/\d+/i,qee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hee={any:[/^b/i,/^(a|c)/i]},Yee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wee={any:[/1/i,/2/i,/3/i,/4/i]},Gee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ete={ordinalNumber:r3({matchPattern:zee,parsePattern:$ee,valueCallback:n=>parseInt(n,10)}),era:Ji({matchPatterns:qee,defaultMatchWidth:"wide",parsePatterns:Hee,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:Yee,defaultMatchWidth:"wide",parsePatterns:Wee,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ji({matchPatterns:Gee,defaultMatchWidth:"wide",parsePatterns:Kee,defaultParseWidth:"any"}),day:Ji({matchPatterns:Qee,defaultMatchWidth:"wide",parsePatterns:Xee,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:Zee,defaultMatchWidth:"any",parsePatterns:Jee,defaultParseWidth:"any"})},i3={code:"en-US",formatDistance:xee,formatLong:Ree,formatRelative:Pee,localize:Bee,match:ete,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tte(n,e){const t=Ae(n,e==null?void 0:e.in);return Sd(t,B_(t))+1}function QS(n,e){const t=Ae(n,e==null?void 0:e.in),r=+Ed(t)-+_ee(t);return Math.round(r/Q4)+1}function XS(n,e){var p,y,v,b;const t=Ae(n,e==null?void 0:e.in),r=t.getFullYear(),i=Tc(),s=(e==null?void 0:e.firstWeekContainsDate)??((y=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(v=i.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=yt((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=fa(l,e),d=yt((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=fa(d,e);return+t>=+u?r+1:+t>=+f?r:r-1}function nte(n,e){var u,d,f,p;const t=Tc(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=XS(n,e),s=yt((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),fa(s,e)}function s3(n,e){const t=Ae(n,e==null?void 0:e.in),r=+fa(t,e)-+nte(t,e);return Math.round(r/Q4)+1}function pt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const eo={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return pt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):pt(t+1,2)},d(n,e){return pt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return pt(n.getHours()%12||12,e.length)},H(n,e){return pt(n.getHours(),e.length)},m(n,e){return pt(n.getMinutes(),e.length)},s(n,e){return pt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return pt(i,e.length)}},Eu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ok={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return eo.y(n,e)},Y:function(n,e,t,r){const i=XS(n,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return pt(l,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):pt(s,e.length)},R:function(n,e){const t=Z4(n);return pt(t,e.length)},u:function(n,e){const t=n.getFullYear();return pt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return eo.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=s3(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):pt(i,e.length)},I:function(n,e,t){const r=QS(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):pt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):eo.d(n,e)},D:function(n,e,t){const r=tte(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return pt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return pt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return pt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Eu.noon:r===0?i=Eu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Eu.evening:r>=12?i=Eu.afternoon:r>=4?i=Eu.morning:i=Eu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return eo.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):eo.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):eo.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):eo.s(n,e)},S:function(n,e){return eo.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Vk(r);case"XXXX":case"XX":return Rl(r);case"XXXXX":case"XXX":default:return Rl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Vk(r);case"xxxx":case"xx":return Rl(r);case"xxxxx":case"xxx":default:return Rl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Nk(r,":");case"OOOO":default:return"GMT"+Rl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Nk(r,":");case"zzzz":default:return"GMT"+Rl(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return pt(r,e.length)},T:function(n,e,t){return pt(+n,e.length)}};function Nk(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+pt(s,2)}function Vk(n,e){return n%60===0?(n>0?"-":"+")+pt(Math.abs(n)/60,2):Rl(n,e)}function Rl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=pt(Math.trunc(r/60),2),s=pt(r%60,2);return t+i+e+s}const Lk=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},a3=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rte=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Lk(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Lk(r,e)).replace("{{time}}",a3(i,e))},cE={p:a3,P:rte},ite=/^D+$/,ste=/^Y+$/,ate=["D","DD","YY","YYYY"];function ote(n){return ite.test(n)}function lte(n){return ste.test(n)}function cte(n,e,t){const r=ute(n,e,t);if(console.warn(r),ate.includes(n))throw new RangeError(r)}function ute(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fte=/^'([^]*?)'?$/,pte=/''/g,mte=/[a-zA-Z]/;function Fk(n,e,t){var p,y,v,b,T,A,I,C;const r=Tc(),i=(t==null?void 0:t.locale)??r.locale??i3,s=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((A=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((C=(I=r.locale)==null?void 0:I.options)==null?void 0:C.weekStartsOn)??0,u=Ae(n,t==null?void 0:t.in);if(!Iv(u))throw new RangeError("Invalid time value");let d=e.match(hte).map(V=>{const N=V[0];if(N==="p"||N==="P"){const q=cE[N];return q(V,i.formatLong)}return V}).join("").match(dte).map(V=>{if(V==="''")return{isToken:!1,value:"'"};const N=V[0];if(N==="'")return{isToken:!1,value:gte(V)};if(Ok[N])return{isToken:!0,value:V};if(N.match(mte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:V}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return d.map(V=>{if(!V.isToken)return V.value;const N=V.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&lte(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&ote(N))&&cte(N,e,String(n));const q=Ok[N[0]];return q(u,N,i.localize,f)}).join("")}function gte(n){const e=n.match(fte);return e?e[1].replace(pte,"'"):n}function Bk(n,e){return Ae(n,e==null?void 0:e.in).getDate()}function yte(n,e){return Ae(n,e==null?void 0:e.in).getDay()}function vte(n,e){const t=Ae(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=yt(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function _te(){return Object.assign({},Tc())}function na(n,e){return Ae(n,e==null?void 0:e.in).getHours()}function wte(n,e){const t=Ae(n,e==null?void 0:e.in).getDay();return t===0?7:t}function ra(n,e){return Ae(n,e==null?void 0:e.in).getMinutes()}function Zn(n,e){return Ae(n,e==null?void 0:e.in).getMonth()}function po(n){return Ae(n).getSeconds()}function uE(n){return+Ae(n)}function qe(n,e){return Ae(n,e==null?void 0:e.in).getFullYear()}function Po(n,e){return+Ae(n)>+Ae(e)}function pc(n,e){return+Ae(n)<+Ae(e)}function bte(n,e){return+Ae(n)==+Ae(e)}function Tte(n,e){const t=Ete(e)?new e(0):yt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function Ete(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const Ste=10;class o3{constructor(){Te(this,"subPriority",0)}validate(e,t){return!0}}class xte extends o3{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Ate extends o3{constructor(t,r){super();Te(this,"priority",Ste);Te(this,"subPriority",-1);this.context=t||(i=>yt(r,i))}set(t,r){return r.timestampIsSet?t:yt(t,Tte(t,this.context))}}class ot{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new xte(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class Ite extends ot{constructor(){super(...arguments);Te(this,"priority",140);Te(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const sn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},es={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function an(n,e){return n&&{value:e(n.value),rest:n.rest}}function Bt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ts(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(i*F_+s*L_+l*gee),rest:e.slice(t[0].length)}}function l3(n){return Bt(sn.anyDigitsSigned,n)}function Qt(n,e){switch(n){case 1:return Bt(sn.singleDigit,e);case 2:return Bt(sn.twoDigits,e);case 3:return Bt(sn.threeDigits,e);case 4:return Bt(sn.fourDigits,e);default:return Bt(new RegExp("^\\d{1,"+n+"}"),e)}}function Pv(n,e){switch(n){case 1:return Bt(sn.singleDigitSigned,e);case 2:return Bt(sn.twoDigitsSigned,e);case 3:return Bt(sn.threeDigitsSigned,e);case 4:return Bt(sn.fourDigitsSigned,e);default:return Bt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function ZS(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function c3(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,l=Math.trunc(s/100)*100,u=n>=s%100;i=n+l-(u?100:0)}return t?i:1-i}function u3(n){return n%400===0||n%4===0&&n%100!==0}class Dte extends ot{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return an(Qt(4,t),s);case"yo":return an(i.ordinalNumber(t,{unit:"year"}),s);default:return an(Qt(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const u=c3(i.year,s);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class Rte extends ot{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return an(Qt(4,t),s);case"Yo":return an(i.ordinalNumber(t,{unit:"year"}),s);default:return an(Qt(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const l=XS(t,s);if(i.isTwoDigitYear){const d=c3(i.year,l);return t.setFullYear(d,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),fa(t,s)}const u=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),fa(t,s)}}class Cte extends ot{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Pv(r==="R"?4:r.length,t)}set(t,r,i){const s=yt(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Ed(s)}}class Pte extends ot{constructor(){super(...arguments);Te(this,"priority",130);Te(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Pv(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class kte extends ot{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Qt(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Mte extends ot{constructor(){super(...arguments);Te(this,"priority",120);Te(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Qt(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Ote extends ot{constructor(){super(...arguments);Te(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Te(this,"priority",110)}parse(t,r,i){const s=l=>l-1;switch(r){case"M":return an(Bt(sn.month,t),s);case"MM":return an(Qt(2,t),s);case"Mo":return an(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class Nte extends ot{constructor(){super(...arguments);Te(this,"priority",110);Te(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=l=>l-1;switch(r){case"L":return an(Bt(sn.month,t),s);case"LL":return an(Qt(2,t),s);case"Lo":return an(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function Vte(n,e,t){const r=Ae(n,t==null?void 0:t.in),i=s3(r,t)-e;return r.setDate(r.getDate()-i*7),Ae(r,t==null?void 0:t.in)}class Lte extends ot{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Bt(sn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return fa(Vte(t,i,s),s)}}function Fte(n,e,t){const r=Ae(n,t==null?void 0:t.in),i=QS(r,t)-e;return r.setDate(r.getDate()-i*7),r}class Bte extends ot{constructor(){super(...arguments);Te(this,"priority",100);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Bt(sn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Ed(Fte(t,i))}}const Ute=[31,28,31,30,31,30,31,31,30,31,30,31],jte=[31,29,31,30,31,30,31,31,30,31,30,31];class zte extends ot{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subPriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Bt(sn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Qt(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=u3(i),l=t.getMonth();return s?r>=1&&r<=jte[l]:r>=1&&r<=Ute[l]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class $te extends ot{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"subpriority",1);Te(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Bt(sn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Qt(r.length,t)}}validate(t,r){const i=t.getFullYear();return u3(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function JS(n,e,t){var y,v,b,T;const r=Tc(),i=(t==null?void 0:t.weekStartsOn)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((T=(b=r.locale)==null?void 0:b.options)==null?void 0:T.weekStartsOn)??0,s=Ae(n,t==null?void 0:t.in),l=s.getDay(),d=(e%7+7)%7,f=7-i,p=e<0||e>6?e-(l+f)%7:(d+f)%7-(l+f)%7;return Si(s,p,t)}class qte extends ot{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=JS(t,i,s),t.setHours(0,0,0,0),t}}class Hte extends ot{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+d};switch(r){case"e":case"ee":return an(Qt(r.length,t),l);case"eo":return an(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=JS(t,i,s),t.setHours(0,0,0,0),t}}class Yte extends ot{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+d};switch(r){case"c":case"cc":return an(Qt(r.length,t),l);case"co":return an(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=JS(t,i,s),t.setHours(0,0,0,0),t}}function Wte(n,e,t){const r=Ae(n,t==null?void 0:t.in),i=wte(r,t),s=e-i;return Si(r,s,t)}class Gte extends ot{constructor(){super(...arguments);Te(this,"priority",90);Te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=l=>l===0?7:l;switch(r){case"i":case"ii":return Qt(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return an(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return an(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return an(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return an(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=Wte(t,i),t.setHours(0,0,0,0),t}}class Kte extends ot{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(ZS(i),0,0,0),t}}class Qte extends ot{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(ZS(i),0,0,0),t}}class Xte extends ot{constructor(){super(...arguments);Te(this,"priority",80);Te(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(ZS(i),0,0,0),t}}class Zte extends ot{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Bt(sn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class Jte extends ot{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Bt(sn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class ene extends ot{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Bt(sn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class tne extends ot{constructor(){super(...arguments);Te(this,"priority",70);Te(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Bt(sn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Qt(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class nne extends ot{constructor(){super(...arguments);Te(this,"priority",60);Te(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Bt(sn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class rne extends ot{constructor(){super(...arguments);Te(this,"priority",50);Te(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Bt(sn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Qt(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class ine extends ot{constructor(){super(...arguments);Te(this,"priority",30);Te(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return an(Qt(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class sne extends ot{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ts(es.basicOptionalMinutes,t);case"XX":return ts(es.basic,t);case"XXXX":return ts(es.basicOptionalSeconds,t);case"XXXXX":return ts(es.extendedOptionalSeconds,t);case"XXX":default:return ts(es.extended,t)}}set(t,r,i){return r.timestampIsSet?t:yt(t,t.getTime()-xv(t)-i)}}class ane extends ot{constructor(){super(...arguments);Te(this,"priority",10);Te(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ts(es.basicOptionalMinutes,t);case"xx":return ts(es.basic,t);case"xxxx":return ts(es.basicOptionalSeconds,t);case"xxxxx":return ts(es.extendedOptionalSeconds,t);case"xxx":default:return ts(es.extended,t)}}set(t,r,i){return r.timestampIsSet?t:yt(t,t.getTime()-xv(t)-i)}}class one extends ot{constructor(){super(...arguments);Te(this,"priority",40);Te(this,"incompatibleTokens","*")}parse(t){return l3(t)}set(t,r,i){return[yt(t,i*1e3),{timestampIsSet:!0}]}}class lne extends ot{constructor(){super(...arguments);Te(this,"priority",20);Te(this,"incompatibleTokens","*")}parse(t){return l3(t)}set(t,r,i){return[yt(t,i),{timestampIsSet:!0}]}}const cne={G:new Ite,y:new Dte,Y:new Rte,R:new Cte,u:new Pte,Q:new kte,q:new Mte,M:new Ote,L:new Nte,w:new Lte,I:new Bte,d:new zte,D:new $te,E:new qte,e:new Hte,c:new Yte,i:new Gte,a:new Kte,b:new Qte,B:new Xte,h:new Zte,H:new Jte,K:new ene,k:new tne,m:new nne,s:new rne,S:new ine,X:new sne,x:new ane,t:new one,T:new lne},une=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hne=/^'([^]*?)'?$/,fne=/''/g,pne=/\S/,mne=/[a-zA-Z]/;function gne(n,e,t,r){var I,C,V,N,q,z,Y,k;const i=()=>yt((r==null?void 0:r.in)||t,NaN),s=_te(),l=(r==null?void 0:r.locale)??s.locale??i3,u=(r==null?void 0:r.firstWeekContainsDate)??((C=(I=r==null?void 0:r.locale)==null?void 0:I.options)==null?void 0:C.firstWeekContainsDate)??s.firstWeekContainsDate??((N=(V=s.locale)==null?void 0:V.options)==null?void 0:N.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((z=(q=r==null?void 0:r.locale)==null?void 0:q.options)==null?void 0:z.weekStartsOn)??s.weekStartsOn??((k=(Y=s.locale)==null?void 0:Y.options)==null?void 0:k.weekStartsOn)??0;if(!e)return n?i():Ae(t,r==null?void 0:r.in);const f={firstWeekContainsDate:u,weekStartsOn:d,locale:l},p=[new Ate(r==null?void 0:r.in,t)],y=e.match(dne).map(D=>{const M=D[0];if(M in cE){const L=cE[M];return L(D,l.formatLong)}return D}).join("").match(une),v=[];for(let D of y){const M=D[0],L=cne[M];if(L){const{incompatibleTokens:j}=L;if(Array.isArray(j)){const F=v.find(Ve=>j.includes(Ve.token)||Ve.token===M);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${D}\` at the same time`)}else if(L.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);v.push({token:M,fullToken:D});const $=L.run(n,D,l.match,f);if(!$)return i();p.push($.setter),n=$.rest}else{if(M.match(mne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(D==="''"?D="'":M==="'"&&(D=yne(D)),n.indexOf(D)===0)n=n.slice(D.length);else return i()}}if(n.length>0&&pne.test(n))return i();const b=p.map(D=>D.priority).sort((D,M)=>M-D).filter((D,M,L)=>L.indexOf(D)===M).map(D=>p.filter(M=>M.priority===D).sort((M,L)=>L.subPriority-M.subPriority)).map(D=>D[0]);let T=Ae(t,r==null?void 0:r.in);if(isNaN(+T))return i();const A={};for(const D of b){if(!D.validate(T,f))return i();const M=D.set(T,A,f);Array.isArray(M)?(T=M[0],Object.assign(A,M[1])):T=M}return T}function yne(n){return n.match(hne)[1].replace(fne,"'")}function vne(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function _ne(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e);return+lE(r)==+lE(i)}function wne(n,e,t){const[r,i]=wa(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function Np(n,e,t){const r=+Ae(n,t==null?void 0:t.in),[i,s]=[+Ae(e.start,t==null?void 0:t.in),+Ae(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return r>=i&&r<=s}function bne(n,e,t){return Si(n,-1,t)}function Tne(n,e){const t=()=>yt(e==null?void 0:e.in,NaN),i=Ane(n);let s;if(i.date){const f=Ine(i.date,2);s=Dne(f.restDateString,f.year)}if(!s||isNaN(+s))return t();const l=+s;let u=0,d;if(i.time&&(u=Rne(i.time),isNaN(u)))return t();if(i.timezone){if(d=Cne(i.timezone),isNaN(d))return t()}else{const f=new Date(l+u),p=Ae(0,e==null?void 0:e.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Ae(l+u+d,e==null?void 0:e.in)}const ry={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ene=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Sne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ane(n){const e={},t=n.split(ry.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],ry.timeZoneDelimiter.test(e.date)&&(e.date=n.split(ry.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=ry.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Ine(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function Dne(n,e){if(e===null)return new Date(NaN);const t=n.match(Ene);if(!t)return new Date(NaN);const r=!!t[4],i=_f(t[1]),s=_f(t[2])-1,l=_f(t[3]),u=_f(t[4]),d=_f(t[5])-1;if(r)return Nne(e,u,d)?Pne(e,u,d):new Date(NaN);{const f=new Date(0);return!Mne(e,s,l)||!One(e,i)?new Date(NaN):(f.setUTCFullYear(e,s,Math.max(i,l)),f)}}function _f(n){return n?parseInt(n):1}function Rne(n){const e=n.match(Sne);if(!e)return NaN;const t=Nb(e[1]),r=Nb(e[2]),i=Nb(e[3]);return Vne(t,r,i)?t*F_+r*L_+i*1e3:NaN}function Nb(n){return n&&parseFloat(n.replace(",","."))||0}function Cne(n){if(n==="Z")return 0;const e=n.match(xne);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Lne(r,i)?t*(r*F_+i*L_):NaN}function Pne(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const kne=[31,null,31,30,31,30,31,31,30,31,30,31];function d3(n){return n%400===0||n%4===0&&n%100!==0}function Mne(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(kne[e]||(d3(n)?29:28))}function One(n,e){return e>=1&&e<=(d3(n)?366:365)}function Nne(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Vne(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Lne(n,e){return e>=0&&e<=59}function si(n,e,t){const r=Ae(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),l=yt(n,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=vte(l);return r.setMonth(e,Math.min(s,u)),r}function Vy(n,e,t){const r=Ae(n,t==null?void 0:t.in);return r.setHours(e),r}function Ly(n,e,t){const r=Ae(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Ru(n,e,t){const r=Ae(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return si(r,r.getMonth()+s*3)}function Fy(n,e,t){const r=Ae(n,t==null?void 0:t.in);return r.setSeconds(e),r}function qi(n,e,t){const r=Ae(n,t==null?void 0:t.in);return isNaN(+r)?yt(n,NaN):(r.setFullYear(e),r)}function Xl(n,e,t){return Ai(n,-e,t)}function h3(n,e,t){return KS(n,-1,t)}function Uk(n,e,t){return Av(n,-1,t)}function xd(n,e,t){return ea(n,-e,t)}function U_(){return typeof window<"u"}function Kd(n){return f3(n)?(n.nodeName||"").toLowerCase():"#document"}function Br(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Es(n){var e;return(e=(f3(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function f3(n){return U_()?n instanceof Node||n instanceof Br(n).Node:!1}function dr(n){return U_()?n instanceof Element||n instanceof Br(n).Element:!1}function vs(n){return U_()?n instanceof HTMLElement||n instanceof Br(n).HTMLElement:!1}function jk(n){return!U_()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Br(n).ShadowRoot}function pm(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=hi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function Fne(n){return["table","td","th"].includes(Kd(n))}function j_(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function ex(n){const e=tx(),t=dr(n)?hi(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Bne(n){let e=ko(n);for(;vs(e)&&!Ad(e);){if(ex(e))return e;if(j_(e))return null;e=ko(e)}return null}function tx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ad(n){return["html","body","#document"].includes(Kd(n))}function hi(n){return Br(n).getComputedStyle(n)}function z_(n){return dr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ko(n){if(Kd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||jk(n)&&n.host||Es(n);return jk(e)?e.host:e}function p3(n){const e=ko(n);return Ad(e)?n.ownerDocument?n.ownerDocument.body:n.body:vs(e)&&pm(e)?e:p3(e)}function Vp(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=p3(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),l=Br(i);if(s){const u=dE(l);return e.concat(l,l.visualViewport||[],pm(i)?i:[],u&&t?Vp(u):[])}return e.concat(i,Vp(i,[],t))}function dE(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Id=Math.min,Zl=Math.max,kv=Math.round,iy=Math.floor,ds=n=>({x:n,y:n}),Une={left:"right",right:"left",bottom:"top",top:"bottom"},jne={start:"end",end:"start"};function zne(n,e,t){return Zl(n,Id(e,t))}function $_(n,e){return typeof n=="function"?n(e):n}function Dd(n){return n.split("-")[0]}function mm(n){return n.split("-")[1]}function $ne(n){return n==="x"?"y":"x"}function nx(n){return n==="y"?"height":"width"}function qu(n){return["top","bottom"].includes(Dd(n))?"y":"x"}function rx(n){return $ne(qu(n))}function qne(n,e,t){t===void 0&&(t=!1);const r=mm(n),i=rx(n),s=nx(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Mv(l)),[l,Mv(l)]}function Hne(n){const e=Mv(n);return[hE(n),e,hE(e)]}function hE(n){return n.replace(/start|end/g,e=>jne[e])}function Yne(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:l;default:return[]}}function Wne(n,e,t,r){const i=mm(n);let s=Yne(Dd(n),t==="start",r);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(hE)))),s}function Mv(n){return n.replace(/left|right|bottom|top/g,e=>Une[e])}function Gne(n){return{top:0,right:0,bottom:0,left:0,...n}}function m3(n){return typeof n!="number"?Gne(n):{top:n,right:n,bottom:n,left:n}}function Ov(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var Nv=typeof document<"u"?P.useLayoutEffect:P.useEffect;const Kne={...v2},Qne=Kne.useInsertionEffect,Xne=Qne||(n=>n());function Zne(n){const e=P.useRef(()=>{});return Xne(()=>{e.current=n}),P.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function zk(n,e,t){let{reference:r,floating:i}=n;const s=qu(e),l=rx(e),u=nx(l),d=Dd(e),f=s==="y",p=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let b;switch(d){case"top":b={x:p,y:r.y-i.height};break;case"bottom":b={x:p,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-i.width,y};break;default:b={x:r.x,y:r.y}}switch(mm(e)){case"start":b[l]-=v*(t&&f?-1:1);break;case"end":b[l]+=v*(t&&f?-1:1);break}return b}const Jne=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=t,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y}=zk(f,r,d),v=r,b={},T=0;for(let A=0;A<u.length;A++){const{name:I,fn:C}=u[A],{x:V,y:N,data:q,reset:z}=await C({x:p,y,initialPlacement:r,placement:v,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:n,floating:e}});p=V??p,y=N??y,b={...b,[I]:{...b[I],...q}},z&&T<=50&&(T++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):z.rects),{x:p,y}=zk(f,v,d)),A=-1)}return{x:p,y,placement:v,strategy:i,middlewareData:b}};async function ere(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:l,elements:u,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:v=!1,padding:b=0}=$_(e,n),T=m3(b),I=u[v?y==="floating"?"reference":"floating":y],C=Ov(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(I)))==null||t?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),V=y==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),q=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},z=Ov(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:N,strategy:d}):V);return{top:(C.top-z.top+T.top)/q.y,bottom:(z.bottom-C.bottom+T.bottom)/q.y,left:(C.left-z.left+T.left)/q.x,right:(z.right-C.right+T.right)/q.x}}const tre=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:l,elements:u,middlewareData:d}=e,{element:f,padding:p=0}=$_(n,e)||{};if(f==null)return{};const y=m3(p),v={x:t,y:r},b=rx(i),T=nx(b),A=await l.getDimensions(f),I=b==="y",C=I?"top":"left",V=I?"bottom":"right",N=I?"clientHeight":"clientWidth",q=s.reference[T]+s.reference[b]-v[b]-s.floating[T],z=v[b]-s.reference[b],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let k=Y?Y[N]:0;(!k||!await(l.isElement==null?void 0:l.isElement(Y)))&&(k=u.floating[N]||s.floating[T]);const D=q/2-z/2,M=k/2-A[T]/2-1,L=Id(y[C],M),j=Id(y[V],M),$=L,F=k-A[T]-j,Ve=k/2-A[T]/2+D,Ie=zne($,Ve,F),K=!d.arrow&&mm(i)!=null&&Ve!==Ie&&s.reference[T]/2-(Ve<$?L:j)-A[T]/2<0,ie=K?Ve<$?Ve-$:Ve-F:0;return{[b]:v[b]+ie,data:{[b]:Ie,centerOffset:Ve-Ie-ie,...K&&{alignmentOffset:ie}},reset:K}}}),nre=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...I}=$_(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const C=Dd(i),V=qu(u),N=Dd(u)===u,q=await(d.isRTL==null?void 0:d.isRTL(f.floating)),z=v||(N||!A?[Mv(u)]:Hne(u)),Y=T!=="none";!v&&Y&&z.push(...Wne(u,A,T,q));const k=[u,...z],D=await ere(e,I),M=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&M.push(D[C]),y){const Ie=qne(i,l,q);M.push(D[Ie[0]],D[Ie[1]])}if(L=[...L,{placement:i,overflows:M}],!M.every(Ie=>Ie<=0)){var j,$;const Ie=(((j=s.flip)==null?void 0:j.index)||0)+1,K=k[Ie];if(K){var F;const de=y==="alignment"?V!==qu(K):!1,Ee=((F=L[0])==null?void 0:F.overflows[0])>0;if(!de||Ee)return{data:{index:Ie,overflows:L},reset:{placement:K}}}let ie=($=L.filter(de=>de.overflows[0]<=0).sort((de,Ee)=>de.overflows[1]-Ee.overflows[1])[0])==null?void 0:$.placement;if(!ie)switch(b){case"bestFit":{var Ve;const de=(Ve=L.filter(Ee=>{if(Y){const U=qu(Ee.placement);return U===V||U==="y"}return!0}).map(Ee=>[Ee.placement,Ee.overflows.filter(U=>U>0).reduce((U,oe)=>U+oe,0)]).sort((Ee,U)=>Ee[1]-U[1])[0])==null?void 0:Ve[0];de&&(ie=de);break}case"initialPlacement":ie=u;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};async function rre(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Dd(t),u=mm(t),d=qu(t)==="y",f=["left","top"].includes(l)?-1:1,p=s&&d?-1:1,y=$_(e,n);let{mainAxis:v,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof T=="number"&&(b=u==="end"?T*-1:T),d?{x:b*p,y:v*f}:{x:v*f,y:b*p}}const ire=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:l,middlewareData:u}=e,d=await rre(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:l}}}}};function g3(n){const e=hi(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=vs(n),s=i?n.offsetWidth:t,l=i?n.offsetHeight:r,u=kv(t)!==s||kv(r)!==l;return u&&(t=s,r=l),{width:t,height:r,$:u}}function ix(n){return dr(n)?n:n.contextElement}function Hu(n){const e=ix(n);if(!vs(e))return ds(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=g3(e);let l=(s?kv(t.width):t.width)/r,u=(s?kv(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const sre=ds(0);function y3(n){const e=Br(n);return!tx()||!e.visualViewport?sre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function are(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Br(n)?!1:e}function mc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=ix(n);let l=ds(1);e&&(r?dr(r)&&(l=Hu(r)):l=Hu(n));const u=are(s,t,r)?y3(s):ds(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,p=i.width/l.x,y=i.height/l.y;if(s){const v=Br(s),b=r&&dr(r)?Br(r):r;let T=v,A=dE(T);for(;A&&r&&b!==T;){const I=Hu(A),C=A.getBoundingClientRect(),V=hi(A),N=C.left+(A.clientLeft+parseFloat(V.paddingLeft))*I.x,q=C.top+(A.clientTop+parseFloat(V.paddingTop))*I.y;d*=I.x,f*=I.y,p*=I.x,y*=I.y,d+=N,f+=q,T=Br(A),A=dE(T)}}return Ov({width:p,height:y,x:d,y:f})}function sx(n,e){const t=z_(n).scrollLeft;return e?e.left+t:mc(Es(n)).left+t}function v3(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:sx(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function ore(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",l=Es(r),u=e?j_(e.floating):!1;if(r===l||u&&s)return t;let d={scrollLeft:0,scrollTop:0},f=ds(1);const p=ds(0),y=vs(r);if((y||!y&&!s)&&((Kd(r)!=="body"||pm(l))&&(d=z_(r)),vs(r))){const b=mc(r);f=Hu(r),p.x=b.x+r.clientLeft,p.y=b.y+r.clientTop}const v=l&&!y&&!s?v3(l,d,!0):ds(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-d.scrollTop*f.y+p.y+v.y}}function lre(n){return Array.from(n.getClientRects())}function cre(n){const e=Es(n),t=z_(n),r=n.ownerDocument.body,i=Zl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+sx(n);const u=-t.scrollTop;return hi(r).direction==="rtl"&&(l+=Zl(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:u}}function ure(n,e){const t=Br(n),r=Es(n),i=t.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){s=i.width,l=i.height;const f=tx();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:l,x:u,y:d}}function dre(n,e){const t=mc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=vs(n)?Hu(n):ds(1),l=n.clientWidth*s.x,u=n.clientHeight*s.y,d=i*s.x,f=r*s.y;return{width:l,height:u,x:d,y:f}}function $k(n,e,t){let r;if(e==="viewport")r=ure(n,t);else if(e==="document")r=cre(Es(n));else if(dr(e))r=dre(e,t);else{const i=y3(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ov(r)}function _3(n,e){const t=ko(n);return t===e||!dr(t)||Ad(t)?!1:hi(t).position==="fixed"||_3(t,e)}function hre(n,e){const t=e.get(n);if(t)return t;let r=Vp(n,[],!1).filter(u=>dr(u)&&Kd(u)!=="body"),i=null;const s=hi(n).position==="fixed";let l=s?ko(n):n;for(;dr(l)&&!Ad(l);){const u=hi(l),d=ex(l);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pm(l)&&!d&&_3(n,l))?r=r.filter(p=>p!==l):i=u,l=ko(l)}return e.set(n,r),r}function fre(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?j_(e)?[]:hre(e,this._c):[].concat(t),r],u=l[0],d=l.reduce((f,p)=>{const y=$k(e,p,i);return f.top=Zl(y.top,f.top),f.right=Id(y.right,f.right),f.bottom=Id(y.bottom,f.bottom),f.left=Zl(y.left,f.left),f},$k(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function pre(n){const{width:e,height:t}=g3(n);return{width:e,height:t}}function mre(n,e,t){const r=vs(e),i=Es(e),s=t==="fixed",l=mc(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const d=ds(0);function f(){d.x=sx(i)}if(r||!r&&!s)if((Kd(e)!=="body"||pm(i))&&(u=z_(e)),r){const b=mc(e,!0,s,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else i&&f();s&&!r&&i&&f();const p=i&&!r&&!s?v3(i,u):ds(0),y=l.left+u.scrollLeft-d.x-p.x,v=l.top+u.scrollTop-d.y-p.y;return{x:y,y:v,width:l.width,height:l.height}}function Vb(n){return hi(n).position==="static"}function qk(n,e){if(!vs(n)||hi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Es(n)===t&&(t=t.ownerDocument.body),t}function w3(n,e){const t=Br(n);if(j_(n))return t;if(!vs(n)){let i=ko(n);for(;i&&!Ad(i);){if(dr(i)&&!Vb(i))return i;i=ko(i)}return t}let r=qk(n,e);for(;r&&Fne(r)&&Vb(r);)r=qk(r,e);return r&&Ad(r)&&Vb(r)&&!ex(r)?t:r||Bne(n)||t}const gre=async function(n){const e=this.getOffsetParent||w3,t=this.getDimensions,r=await t(n.floating);return{reference:mre(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yre(n){return hi(n).direction==="rtl"}const vre={convertOffsetParentRelativeRectToViewportRelativeRect:ore,getDocumentElement:Es,getClippingRect:fre,getOffsetParent:w3,getElementRects:gre,getClientRects:lre,getDimensions:pre,getScale:Hu,isElement:dr,isRTL:yre};function b3(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function _re(n,e){let t=null,r;const i=Es(n);function s(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=n.getBoundingClientRect(),{left:p,top:y,width:v,height:b}=f;if(u||e(),!v||!b)return;const T=iy(y),A=iy(i.clientWidth-(p+v)),I=iy(i.clientHeight-(y+b)),C=iy(p),N={rootMargin:-T+"px "+-A+"px "+-I+"px "+-C+"px",threshold:Zl(0,Id(1,d))||1};let q=!0;function z(Y){const k=Y[0].intersectionRatio;if(k!==d){if(!q)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!b3(f,n.getBoundingClientRect())&&l(),q=!1}try{t=new IntersectionObserver(z,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(z,N)}t.observe(n)}return l(!0),s}function wre(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=ix(n),p=i||s?[...f?Vp(f):[],...Vp(e)]:[];p.forEach(C=>{i&&C.addEventListener("scroll",t,{passive:!0}),s&&C.addEventListener("resize",t)});const y=f&&u?_re(f,t):null;let v=-1,b=null;l&&(b=new ResizeObserver(C=>{let[V]=C;V&&V.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let T,A=d?mc(n):null;d&&I();function I(){const C=mc(n);A&&!b3(A,C)&&t(),A=C,T=requestAnimationFrame(I)}return t(),()=>{var C;p.forEach(V=>{i&&V.removeEventListener("scroll",t),s&&V.removeEventListener("resize",t)}),y==null||y(),(C=b)==null||C.disconnect(),b=null,d&&cancelAnimationFrame(T)}}const bre=ire,Tre=nre,Hk=tre,Ere=(n,e,t)=>{const r=new Map,i={platform:vre,...t},s={...i.platform,_c:r};return Jne(n,e,{...i,platform:s})};var By=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Vv(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vv(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Vv(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function T3(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Yk(n,e){const t=T3(n);return Math.round(e*t)/t}function Lb(n){const e=P.useRef(n);return By(()=>{e.current=n}),e}function Sre(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=n,[p,y]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=P.useState(r);Vv(v,r)||b(r);const[T,A]=P.useState(null),[I,C]=P.useState(null),V=P.useCallback(de=>{de!==Y.current&&(Y.current=de,A(de))},[]),N=P.useCallback(de=>{de!==k.current&&(k.current=de,C(de))},[]),q=s||T,z=l||I,Y=P.useRef(null),k=P.useRef(null),D=P.useRef(p),M=d!=null,L=Lb(d),j=Lb(i),$=Lb(f),F=P.useCallback(()=>{if(!Y.current||!k.current)return;const de={placement:e,strategy:t,middleware:v};j.current&&(de.platform=j.current),Ere(Y.current,k.current,de).then(Ee=>{const U={...Ee,isPositioned:$.current!==!1};Ve.current&&!Vv(D.current,U)&&(D.current=U,aM.flushSync(()=>{y(U)}))})},[v,e,t,j,$]);By(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,y(de=>({...de,isPositioned:!1})))},[f]);const Ve=P.useRef(!1);By(()=>(Ve.current=!0,()=>{Ve.current=!1}),[]),By(()=>{if(q&&(Y.current=q),z&&(k.current=z),q&&z){if(L.current)return L.current(q,z,F);F()}},[q,z,F,L,M]);const Ie=P.useMemo(()=>({reference:Y,floating:k,setReference:V,setFloating:N}),[V,N]),K=P.useMemo(()=>({reference:q,floating:z}),[q,z]),ie=P.useMemo(()=>{const de={position:t,left:0,top:0};if(!K.floating)return de;const Ee=Yk(K.floating,p.x),U=Yk(K.floating,p.y);return u?{...de,transform:"translate("+Ee+"px, "+U+"px)",...T3(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ee,top:U}},[t,u,K.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:F,refs:Ie,elements:K,floatingStyles:ie}),[p,F,Ie,K,ie])}const xre=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Hk({element:r.current,padding:i}).fn(t):{}:r?Hk({element:r,padding:i}).fn(t):{}}}},Are=(n,e)=>({...bre(n),options:[n,e]}),Ire=(n,e)=>({...Tre(n),options:[n,e]}),Dre=(n,e)=>({...xre(n),options:[n,e]}),Rre={...v2};let Wk=!1,Cre=0;const Gk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Cre++;function Pre(){const[n,e]=P.useState(()=>Wk?Gk():void 0);return Nv(()=>{n==null&&e(Gk())},[]),P.useEffect(()=>{Wk=!0},[]),n}const kre=Rre.useId,E3=kre||Pre,Mre=P.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:l}},width:u=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:y,stroke:v,d:b,style:{transform:T,...A}={},...I}=e,C=E3(),[V,N]=P.useState(!1);if(Nv(()=>{if(!i)return;hi(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[q,z]=r.split("-"),Y=q==="top"||q==="bottom";let k=y;(Y&&l!=null&&l.x||!Y&&l!=null&&l.y)&&(k=null);const D=p*2,M=D/2,L=u/2*(f/-8+1),j=d/2*f/4,$=!!b,F=k&&z==="end"?"bottom":"top";let Ve=k&&z==="end"?"right":"left";k&&V&&(Ve=z==="end"?"left":"right");const Ie=(s==null?void 0:s.x)!=null?k||s.x:"",K=(s==null?void 0:s.y)!=null?k||s.y:"",ie=b||"M0,0"+(" H"+u)+(" L"+(u-L)+","+(d-j))+(" Q"+u/2+","+d+" "+L+","+(d-j))+" Z",de={top:$?"rotate(180deg)":"",left:$?"rotate(90deg)":"rotate(-90deg)",bottom:$?"":"rotate(180deg)",right:$?"rotate(-90deg)":"rotate(90deg)"}[q];return x.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:$?u:u+D,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[Ve]:Ie,[F]:K,[q]:Y||$?"100%":"calc(100% - "+D/2+"px)",transform:[de,T].filter(Ee=>!!Ee).join(" "),...A},children:[D>0&&x.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:v,strokeWidth:D+(b?0:1),d:ie}),x.jsx("path",{stroke:D&&!b?I.fill:"none",d:ie}),x.jsx("clipPath",{id:C,children:x.jsx("rect",{x:-M,y:M*($?-1:1),width:u+D,height:u})})]})});function Ore(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const Nre=P.createContext(null),Vre=P.createContext(null),Lre=()=>{var n;return((n=P.useContext(Nre))==null?void 0:n.id)||null},Fre=()=>P.useContext(Vre);function Bre(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=E3(),s=P.useRef({}),[l]=P.useState(()=>Ore()),u=Lre()!=null,[d,f]=P.useState(r.reference),p=Zne((b,T,A)=>{s.current.openEvent=b?T:void 0,l.emit("openchange",{open:b,event:T,reason:A,nested:u}),t==null||t(b,T,A)}),y=P.useMemo(()=>({setPositionReference:f}),[]),v=P.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return P.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:v,events:l,floatingId:i,refs:y}),[e,p,v,l,i,y])}function Ure(n){n===void 0&&(n={});const{nodeId:e}=n,t=Bre({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,l]=P.useState(null),[u,d]=P.useState(null),p=(i==null?void 0:i.domReference)||s,y=P.useRef(null),v=Fre();Nv(()=>{p&&(y.current=p)},[p]);const b=Sre({...n,elements:{...i,...u&&{reference:u}}}),T=P.useCallback(N=>{const q=dr(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;d(q),b.refs.setReference(q)},[b.refs]),A=P.useCallback(N=>{(dr(N)||N===null)&&(y.current=N,l(N)),(dr(b.refs.reference.current)||b.refs.reference.current===null||N!==null&&!dr(N))&&b.refs.setReference(N)},[b.refs]),I=P.useMemo(()=>({...b.refs,setReference:A,setPositionReference:T,domReference:y}),[b.refs,A,T]),C=P.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),V=P.useMemo(()=>({...b,...r,refs:I,elements:C,nodeId:e}),[b,I,C,e,r]);return Nv(()=>{r.dataRef.current.floatingContext=V;const N=v==null?void 0:v.nodesRef.current.find(q=>q.id===e);N&&(N.context=V)}),P.useMemo(()=>({...b,context:V,refs:I,elements:C}),[b,I,C,V])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var fE=function(e,t){return fE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},fE(e,t)};function Mn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fE(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nt=function(){return nt=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},nt.apply(this,arguments)};function ss(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var jre=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,l=n.children,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return se.createElement("div",{className:s,role:"dialog","aria-label":u,"aria-modal":"true"},l)},zre=function(n,e){var t=P.useRef(null),r=P.useRef(n);r.current=n;var i=P.useCallback(function(s){var l,u=s.composed&&s.composedPath&&s.composedPath().find(function(d){return d instanceof Node})||s.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,s))},[e]);return P.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},q_=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,l=n.ignoreClass,u=zre(t,l);return se.createElement("div",{className:r,style:s,ref:function(d){u.current=d,i&&(i.current=d)}},e)},we;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(we||(we={}));function ax(){var n=typeof window<"u"?window:globalThis;return n}var gm=12;function ut(n){if(n==null)return new Date;var e=typeof n=="string"?Tne(n):Ae(n);return H_(e)?e:new Date}function Fb(n,e,t,r,i){i===void 0&&(i=ut());for(var s=Rd(t)||Rd(ox()),l=Array.isArray(e)?e:[e],u=0,d=l;u<d.length;u++){var f=d[u],p=gne(n,f,i,{locale:s});if(H_(p)&&(!r||n===Ot(p,f,t)))return p}return null}function H_(n,e){return Iv(n)&&!pc(n,new Date("1/1/1800"))}function Ot(n,e,t){if(t==="en")return Fk(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Rd(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Rd(ox()),Fk(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ii(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Ot(n,i,r)||""}var S3=" - ";function $re(n,e,t){if(!n)return"";var r=ii(n,t),i=e?ii(e,t):"";return"".concat(r).concat(S3).concat(i)}function qre(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?ii(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ii(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function Bb(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,l=e.second,u=l===void 0?0:l;return Vy(Ly(Fy(n,u),s),r)}function Hre(n){return QS(n)}function Yre(n,e){return Ot(n,"ddd",e)}function Uy(n){return fc(n)}function mo(n,e,t){var r=Rd(e||ox());return fa(n,{locale:r,weekStartsOn:t})}function ia(n){return t3(n)}function Cf(n){return B_(n)}function Kk(n){return lE(n)}function Qk(){return fc(ut())}function Xk(n){return J4(n)}function Wre(n){return Eee(n)}function Gre(n){return e3(n)}function Wi(n,e){return n&&e?wne(n,e):!n&&!e}function cr(n,e){return n&&e?vne(n,e):!n&&!e}function Lv(n,e){return n&&e?_ne(n,e):!n&&!e}function tt(n,e){return n&&e?bee(n,e):!n&&!e}function zl(n,e){return n&&e?bte(n,e):!n&&!e}function Pf(n,e,t){var r,i=fc(e),s=J4(t);try{r=Np(n,{start:i,end:s})}catch{r=!1}return r}function Kre(n,e){var t=ax();t.__localeData__||(t.__localeData__={}),t.__localeData__[n]=e}function ox(){var n=ax();return n.__localeId__}function Rd(n){if(typeof n=="string"){var e=ax();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function Qre(n,e,t){return e(Ot(n,"EEEE",t))}function Xre(n,e){return Ot(n,"EEEEEE",e)}function Zre(n,e){return Ot(n,"EEE",e)}function lx(n,e){return Ot(si(ut(),n),"LLLL",e)}function x3(n,e){return Ot(si(ut(),n),"LLL",e)}function Jre(n,e){return Ot(Ru(ut(),n),"QQQ",e)}function ai(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,f=t.filterDate;return ym(n,{minDate:r,maxDate:i})||s&&s.some(function(p){return p instanceof Date?tt(n,p):tt(n,p.date)})||l&&l.some(function(p){var y=p.start,v=p.end;return Np(n,{start:y,end:v})})||u&&!u.some(function(p){return tt(n,p)})||d&&!d.some(function(p){var y=p.start,v=p.end;return Np(n,{start:y,end:v})})||f&&!f(ut(n))||!1}function cx(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var l=s.start,u=s.end;return Np(n,{start:l,end:u})}):r&&r.some(function(s){var l;return s instanceof Date?tt(n,s):tt(n,(l=s.date)!==null&&l!==void 0?l:new Date)})||!1}function A3(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return ym(n,{minDate:r?t3(r):void 0,maxDate:i?e3(i):void 0})||(s==null?void 0:s.some(function(d){return cr(n,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return cr(n,d)})||u&&!u(ut(n))||!1}function sy(n,e,t,r){var i=qe(n),s=Zn(n),l=qe(e),u=Zn(e),d=qe(r);return i===l&&i===d?s<=t&&t<=u:i<l?d===i&&s<=t||d===l&&u>=t||d<l&&d>i:!1}function eie(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,l=t.includeDates;return ym(n,{minDate:r,maxDate:i})||s&&s.some(function(u){return cr(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return cr(u,n)})||!1}function ay(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return ym(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(d){return Lv(n,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Lv(n,d)})||u&&!u(ut(n))||!1}function oy(n,e,t){if(!e||!t||!Iv(e)||!Iv(t))return!1;var r=qe(e),i=qe(t);return r<=n&&i>=n}function jy(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(n,0,1);return ym(d,{minDate:r?B_(r):void 0,maxDate:i?n3(i):void 0})||(s==null?void 0:s.some(function(f){return Wi(d,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Wi(d,f)})||u&&!u(ut(d))||!1}function ly(n,e,t,r){var i=qe(n),s=Ql(n),l=qe(e),u=Ql(e),d=qe(r);return i===l&&i===d?s<=t&&t<=u:i<l?d===i&&s<=t||d===l&&u>=t||d<l&&d>i:!1}function ym(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&Sd(n,i)<0||s&&Sd(n,s)>0)!==null&&t!==void 0?t:!1}function Zk(n,e){return e.some(function(t){return na(t)===na(n)&&ra(t)===ra(n)&&po(t)===po(n)})}function Jk(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&Zk(n,r)||i&&!Zk(n,i)||s&&!s(n)||!1}function e2(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=ut();i=Vy(i,na(n)),i=Ly(i,ra(n)),i=Fy(i,po(n));var s=ut();s=Vy(s,na(t)),s=Ly(s,ra(t)),s=Fy(s,po(t));var l=ut();l=Vy(l,na(r)),l=Ly(l,ra(r)),l=Fy(l,po(r));var u;try{u=!Np(i,{start:s,end:l})}catch{u=!1}return u}function t2(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Xl(n,1);return r&&Dv(r,s)>0||i&&i.every(function(l){return Dv(l,s)>0})||!1}function n2(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Ai(n,1);return r&&Dv(s,r)>0||i&&i.every(function(l){return Dv(s,l)>0})||!1}function tie(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=B_(n),l=h3(s);return r&&Rv(r,l)>0||i&&i.every(function(u){return Rv(u,l)>0})||!1}function nie(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=n3(n),l=KS(s,1);return r&&Rv(l,r)>0||i&&i.every(function(u){return Rv(l,u)>0})||!1}function r2(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=xd(n,1);return r&&Cv(r,s)>0||i&&i.every(function(l){return Cv(l,s)>0})||!1}function rie(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?gm:i,l=Cf(xd(n,s)),u=oo(l,s).endPeriod,d=r&&qe(r);return d&&d>u||!1}function i2(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=ea(n,1);return r&&Cv(s,r)>0||i&&i.every(function(l){return Cv(s,l)>0})||!1}function iie(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?gm:i,l=ea(n,s),u=oo(l,s).startPeriod,d=r&&qe(r);return d&&d<u||!1}function I3(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Sd(i,e)>=0});return kk(r)}else return t?kk(t):e}function D3(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Sd(i,e)<=0});return Pk(r)}else return t?Pk(t):e}function s2(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var l=n[i];if(ta(l)){var u=Ot(l,"MM.dd.yyyy"),d=r.get(u)||[];d.includes(e)||(d.push(e),r.set(u,d))}else if(typeof l=="object"){var f=Object.keys(l),p=(t=f[0])!==null&&t!==void 0?t:"",y=l[p];if(typeof p=="string"&&Array.isArray(y))for(var v=0,b=y.length;v<b;v++){var T=y[v];if(T){var u=Ot(T,"MM.dd.yyyy"),d=r.get(u)||[];d.includes(p)||(d.push(p),r.set(u,d))}}}}return r}function sie(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function aie(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(ta(i)){var l=Ot(i,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&sie(u.holidayNames,[s]))){u.className=e;var d=u.holidayNames;u.holidayNames=d?ss(ss([],d,!0),[s],!1):[s],t.set(l,u)}}}),t}function oie(n,e,t,r,i){for(var s=i.length,l=[],u=0;u<s;u++){var d=n,f=i[u];f&&(d=yee(d,na(f)),d=oE(d,ra(f)),d=wee(d,po(f)));var p=oE(n,(t+1)*r);Po(d,e)&&pc(d,p)&&f!=null&&l.push(f)}return l}function a2(n){return n<10?"0".concat(n):"".concat(n)}function oo(n,e){e===void 0&&(e=gm);var t=Math.ceil(qe(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function lie(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function o2(n){var e=n.getSeconds(),t=n.getMilliseconds();return Ae(n.getTime()-e*1e3-t)}function cie(n,e){return o2(n).getTime()===o2(e).getTime()}function l2(n){if(!ta(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function c2(n,e){if(!ta(n)||!ta(e))throw new Error("Invalid date received");var t=l2(n),r=l2(e);return pc(t,r)}function R3(n){return n.key===we.Space}var uie=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=se.createRef(),r.onTimeChange=function(i){var s,l;r.setState({time:i});var u=r.props.date,d=u instanceof Date&&!isNaN(+u),f=d?u:new Date;if(i!=null&&i.includes(":")){var p=i.split(":"),y=p[0],v=p[1];f.setHours(Number(y)),f.setMinutes(Number(v))}(l=(s=r.props).onChange)===null||l===void 0||l.call(s,f)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,l=s.date,u=s.timeString,d=s.customTimeInput;return d?P.cloneElement(d,{date:l,value:i,onChange:r.onTimeChange}):se.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var f;(f=r.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){r.onTimeChange(f.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return se.createElement("div",{className:"react-datepicker__input-time-container"},se.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.createElement("div",{className:"react-datepicker-time__input-container"},se.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(P.Component),die=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=P.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,l=r.key;l===we.Space&&(r.preventDefault(),r.key=we.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return tt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ai(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return cx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return tt(t.props.day,mo(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&tt(r,mo(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var l=Ot(i,"MM.dd.yyyy");return s.get(l)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,l=i.holidays;if(!l)return[void 0];var u=Ot(s,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:Pf(i,s,l)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,l=i.selectsStart,u=i.selectsEnd,d=i.selectsRange,f=i.selectsDisabledDaysInRange,p=i.startDate,y=i.endDate,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||u||d)||!v||!f&&t.isDisabled()?!1:l&&y&&(pc(v,y)||zl(v,y))?Pf(s,v,y):u&&p&&(Po(v,p)||zl(v,p))||d&&p&&!y&&(Po(v,p)||zl(v,p))?Pf(s,p,v):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,l=i.startDate,u=i.selectsStart,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?tt(s,d):tt(s,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,l=i.endDate,u=i.selectsEnd,d=i.selectsRange,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||d?tt(s,f):tt(s,l)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:tt(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,l=r.endDate;return!s||!l?!1:tt(l,i)},t.isWeekend=function(){var r=yte(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Zn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Zn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ut())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return zn("react-datepicker__day",i,"react-datepicker__day--"+Yre(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,l=s===void 0?"Choose":s,u=r.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,f=t.isDisabled()||t.isExcluded()?d:l;return"".concat(f," ").concat(Ot(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,l=s===void 0?new Map:s,u=r.excludeDates,d=Ot(i,"MM.dd.yyyy"),f=[];return l.has(d)&&f.push.apply(f,l.get(d).holidayNames),t.isExcluded()&&f.push(u==null?void 0:u.filter(function(p){return p instanceof Date?tt(p,i):tt(p==null?void 0:p.date,i)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&tt(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Bk(t.props.day),t.props.day):Bk(t.props.day)},t.render=function(){return se.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&se.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(P.Component),hie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=P.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,l=r.key;l===we.Space&&(r.preventDefault(),r.key=we.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!tt(t.props.date,t.props.selected)&&tt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||tt(t.props.date,t.props.selected)&&tt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&tt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,l=s===void 0?e.defaultProps.ariaLabelPrefix:s,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&tt(this.props.date,this.props.selected)};return se.createElement("div",{ref:this.weekNumberEl,className:zn(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(P.Component),fie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ai(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var l,u,d,f=new Date(r),p=0;p<7;p++){var y=new Date(r);y.setDate(y.getDate()+p);var v=!t.isDisabled(y);if(v){f=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,i,s),t.props.showWeekPicker&&t.handleDayClick(f,s),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):Hre(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Si(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=Si(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(se.createElement(hie,nt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var d=Si(r,u);return se.createElement(die,nt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return mo(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!tt(t.startOfWeek(),t.props.selected)&&tt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":tt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return se.createElement("div",{className:zn(t)},this.renderDays())},e}(P.Component),wf,pie=6,Yu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ub=(wf={},wf[Yu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},wf[Yu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},wf[Yu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},wf),cy=1;function u2(n,e){return n?Yu.FOUR_COLUMNS:e?Yu.TWO_COLUMNS:Yu.THREE_COLUMNS}var mie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ss([],Array(12),!0).map(function(){return P.createRef()}),t.QUARTER_REFS=ss([],Array(4),!0).map(function(){return P.createRef()}),t.isDisabled=function(r){return ai(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return cx(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,l;(l=(s=t.props).onDayClick)===null||l===void 0||l.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:cr(si(s,r),l)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:Lv(Ru(s,r),l)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:cr(si(s,r),u)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:Lv(Ru(s,r),u)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,l=s.day,u=s.selectsStart,d=s.selectsEnd,f=s.selectsRange,p=s.startDate,y=s.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||f)||!v?!1:u&&y?sy(v,y,r,l):d&&p||f&&p&&!y?sy(p,v,r,l):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.startDate,d=s.selectsStart,f=si(l,r),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?cr(f,p):cr(f,u)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,l=s.day,u=s.endDate,d=s.selectsEnd,f=s.selectsRange,p=si(l,r),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||f?cr(p,y):cr(p,u)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,l=s.day,u=s.selectsStart,d=s.selectsEnd,f=s.selectsRange,p=s.startDate,y=s.endDate,v=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||f)||!v?!1:u&&y?ly(v,y,r,l):d&&p||f&&p&&!y?ly(p,v,r,l):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=Si(r,6);return cr(r,i)||cr(s,i)},t.isCurrentMonth=function(r,i){return qe(r)===qe(ut())&&i===Zn(ut())},t.isCurrentQuarter=function(r,i){return qe(r)===qe(ut())&&i===Ql(ut())},t.isSelectedMonth=function(r,i,s){return Zn(s)===i&&qe(r)===qe(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(l){return t.isSelectedMonth(r,i,l)})},t.isSelectedQuarter=function(r,i,s){return Ql(r)===i&&qe(r)===qe(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,l=r.selectedDates,u=r.selectsMultiple,d=Zn(i);return u?l==null?void 0:l.some(function(f){return t.isSelectedMonth(i,d,f)}):!!s&&t.isSelectedMonth(i,d,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,l=!1,u=mo(ia(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(T){return t.props.showWeekPicker?mo(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(T){return t.props.showWeekPicker?mo(T,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?f(t.props.selected):void 0,y=t.props.preSelection?d(t.props.preSelection):void 0;r.push(se.createElement(fie,nt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:u,month:Zn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,u=Av(u,1);var v=i&&s>=pie,b=!i&&!t.isWeekInMonth(u);if(v||b)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),l=s.isDisabled,u=s.labelDate;l||t.handleDayClick(ia(u),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,l=i.labelDate;s||t.handleDayMouseEnter(ia(l))},t.handleMonthNavigation=function(r,i){var s,l,u,d;(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,i),(d=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(r,i,s){var l,u=t.props,d=u.selected,f=u.preSelection,p=u.setPreSelection,y=u.minDate,v=u.maxDate,b=u.showFourColumnMonthYearPicker,T=u.showTwoColumnMonthYearPicker;if(f){var A=u2(b,T),I=t.getVerticalOffset(A),C=(l=Ub[A])===null||l===void 0?void 0:l.grid,V=function(k,D,M){var L,j,$=D,F=M;switch(k){case we.ArrowRight:$=Ai(D,cy),F=M===11?0:M+cy;break;case we.ArrowLeft:$=Xl(D,cy),F=M===0?11:M-cy;break;case we.ArrowUp:$=Xl(D,I),F=!((L=C==null?void 0:C[0])===null||L===void 0)&&L.includes(M)?M+12-I:M-I;break;case we.ArrowDown:$=Ai(D,I),F=!((j=C==null?void 0:C[C.length-1])===null||j===void 0)&&j.includes(M)?M-12+I:M+I;break}return{newCalculatedDate:$,newCalculatedMonth:F}},N=function(k,D,M){for(var L=40,j=k,$=!1,F=0,Ve=V(j,D,M),Ie=Ve.newCalculatedDate,K=Ve.newCalculatedMonth;!$;){if(F>=L){Ie=D,K=M;break}if(y&&Ie<y){j=we.ArrowRight;var ie=V(j,Ie,K);Ie=ie.newCalculatedDate,K=ie.newCalculatedMonth}if(v&&Ie>v){j=we.ArrowLeft;var ie=V(j,Ie,K);Ie=ie.newCalculatedDate,K=ie.newCalculatedMonth}if(eie(Ie,t.props)){var ie=V(j,Ie,K);Ie=ie.newCalculatedDate,K=ie.newCalculatedMonth}else $=!0;F++}return{newCalculatedDate:Ie,newCalculatedMonth:K}};if(i===we.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),p==null||p(d));return}var q=N(i,f,s),z=q.newCalculatedDate,Y=q.newCalculatedMonth;switch(i){case we.ArrowRight:case we.ArrowLeft:case we.ArrowUp:case we.ArrowDown:t.handleMonthNavigation(Y,z);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=Ub[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,l=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,d=r.key;d!==we.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,d,i),u&&u(r)},t.onQuarterClick=function(r,i){var s=Ru(t.props.day,i);ay(s,t.props)||t.handleDayClick(Kk(s),r)},t.onQuarterMouseEnter=function(r){var i=Ru(t.props.day,r);ay(i,t.props)||t.handleDayMouseEnter(Kk(i))},t.handleQuarterNavigation=function(r,i){var s,l,u,d;t.isDisabled(i)||t.isExcluded(i)||((l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,i),(d=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(r,i){var s,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case we.Enter:t.onQuarterClick(r,i),(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,t.props.selected);break;case we.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,KS(t.props.preSelection,1));break;case we.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,h3(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,l=s.day,u=s.minDate,d=s.maxDate,f=s.excludeDates,p=s.includeDates,y=si(l,r);return{isDisabled:(i=(u||d||f||p)&&A3(y,t.props))!==null&&i!==void 0?i:!1,labelDate:y}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,l=i.startDate,u=i.endDate,d=i.preSelection,f=i.monthClassName,p=f?f(si(s,r)):void 0,y=t.getSelection();return zn("react-datepicker__month-text","react-datepicker__month-".concat(r),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(s,r,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(s,r,d)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?sy(l,u,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Zn(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,l=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Ql(t.props.preSelection),s=ay(t.props.day,t.props),l=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,l=s===void 0?"Choose":s,u=i.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,f=i.day,p=i.locale,y=si(f,r),v=t.isDisabled(y)||t.isExcluded(y)?d:l;return"".concat(v," ").concat(Ot(y,"MMMM yyyy",p))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,l=i.startDate,u=i.endDate,d=i.selected,f=i.minDate,p=i.maxDate,y=i.excludeDates,v=i.includeDates,b=i.filterDate,T=i.preSelection,A=i.disabledKeyboardNavigation,I=(f||p||y||v||b)&&ay(Ru(s,r),t.props);return zn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(s,r,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&T&&t.isSelectedQuarter(s,r,T)&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?ly(l,u,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,l=i.renderMonthContent,u=i.locale,d=i.day,f=x3(r,u),p=lx(r,u);return l?l(r,f,p,d):s?p:f},t.getQuarterContent=function(r){var i,s=t.props,l=s.renderQuarterContent,u=s.locale,d=Jre(r,u);return(i=l==null?void 0:l(r,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,u=i.day,d=i.selected,f=(r=Ub[u2(l,s)])===null||r===void 0?void 0:r.grid;return f==null?void 0:f.map(function(p,y){return se.createElement("div",{className:"react-datepicker__month-wrapper",key:y},p.map(function(v,b){return se.createElement("div",{ref:t.MONTH_REFS[v],key:b,onClick:function(T){t.onMonthClick(T,v)},onKeyDown:function(T){R3(T)&&(T.preventDefault(),T.key=we.Enter),t.onMonthKeyDown(T,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(u,v)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,v,d):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,l=[1,2,3,4];return se.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return se.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(f){t.onQuarterClick(f,u)},onKeyDown:function(f){t.onQuarterKeyDown(f,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":s?t.isSelectedQuarter(i,u,s):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(i,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,d=r.showQuarterYearPicker,f=r.showWeekPicker;return zn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return se.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Ot(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(P.Component),gie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return se.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?se.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return se.createElement(q_,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(P.Component),yie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return se.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return se.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return se.createElement(gie,nt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return x3(s,t.props.locale)}:function(s){return lx(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return se.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(P.Component);function vie(n,e){for(var t=[],r=ia(n),i=ia(e);!Po(r,i);)t.push(ut(r)),r=Ai(r,1);return t}var _ie=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=uE(i),l=Wi(r.props.date,i)&&cr(r.props.date,i);return se.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":l?"true":void 0},l?se.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ot(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:vie(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=zn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.createElement(q_,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(P.Component),wie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=ia(t.props.minDate),i=ia(t.props.maxDate),s=[];!Po(r,i);){var l=uE(r);s.push(se.createElement("option",{key:l,value:l},Ot(r,t.props.dateFormat,t.props.locale))),r=Ai(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return se.createElement("select",{value:uE(ia(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=Ot(t.props.date,t.props.dateFormat,t.props.locale);return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},se.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return se.createElement(_ie,nt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=ut(r);Wi(t.props.date,i)&&cr(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(P.Component),bie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&e2(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Jk(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&cie(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&e2(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Jk(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(na(r)*3600+ra(r)*60+po(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,l;r.key===we.Space&&(r.preventDefault(),r.key=we.Enter),(r.key===we.ArrowUp||r.key===we.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===we.ArrowDown||r.key===we.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===we.Enter&&t.handleClick(i),(l=(s=t.props).handleOnKeyDown)===null||l===void 0||l.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||ut(),d=Uy(u),f=t.props.injectTimes&&t.props.injectTimes.sort(function(I,C){return I.getTime()-C.getTime()}),p=60*lie(u),y=p/l,v=0;v<y;v++){var b=oE(d,v*l);if(i.push(b),f){var T=oie(d,b,v,l,f);i=i.concat(T)}}var A=i.reduce(function(I,C){return C.getTime()<=u.getTime()?C:I},i[0]);return i.map(function(I){return se.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(C){I===A&&(t.centerLi=C)},onKeyDown:function(C){t.handleOnKeyDown(C,I)},tabIndex:I===A?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},Ot(I,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?se.createElement(se.Fragment,null):se.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},se.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return se.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),se.createElement("div",{className:"react-datepicker__time"},se.createElement("div",{className:"react-datepicker__time-box"},se.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(P.Component),d2=3,Tie=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ss([],Array(r.props.yearItemNumber),!0).map(function(){return P.createRef()}),r.isDisabled=function(i){return ai(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return cx(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var l,u;(u=(l=r.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var l,u,d,f,p=r.props,y=p.date,v=p.yearItemNumber;if(!(y===void 0||v===void 0)){var b=oo(y,v).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,s),i-b<0?r.updateFocusOnPaginate(v-(b-i)):i-b>=v?r.updateFocusOnPaginate(Math.abs(v-(i-b))):(f=(d=r.YEAR_REFS[i-b])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},r.isSameDay=function(i,s){return tt(i,s)},r.isCurrentYear=function(i){return i===qe(ut())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Wi(qi(ut(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Wi(qi(ut(),i),r.props.endDate)},r.isInRange=function(i){return oy(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,l=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate;return!(l||u||d)||!r.selectingDate()?!1:l&&p?oy(i,r.selectingDate(),p):u&&f||d&&f&&!p?oy(i,f,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var l=r.props,u=l.startDate,d=l.selectsStart,f=qi(ut(),i);return d?Wi(f,(s=r.selectingDate())!==null&&s!==void 0?s:null):Wi(f,u??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var l=r.props,u=l.endDate,d=l.selectsEnd,f=l.selectsRange,p=qi(ut(),i);return d||f?Wi(p,(s=r.selectingDate())!==null&&s!==void 0?s:null):Wi(p,u??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,l=s.minDate,u=s.maxDate,d=s.excludeDates,f=s.includeDates,p=s.filterDate,y=Cf(qi(r.props.date,i)),v=(l||u||d||f||p)&&jy(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!tt(y,Cf(r.props.selected))&&tt(y,Cf(r.props.preSelection))&&!v}},r.isSelectedYear=function(i){var s=r.props,l=s.selectsMultiple,u=s.selected,d=s.selectedDates;return l?d==null?void 0:d.some(function(f){return i===qe(f)}):!!u&&i===qe(u)},r.onYearClick=function(i,s){var l=r.props.date;l!==void 0&&r.handleYearClick(Cf(qi(l,s)),i)},r.onYearKeyDown=function(i,s){var l,u,d=i.key,f=r.props,p=f.date,y=f.yearItemNumber,v=f.handleOnKeyDown;if(d!==we.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(d){case we.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case we.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ea(r.props.preSelection,1));break;case we.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,xd(r.props.preSelection,1));break;case we.ArrowUp:{if(p===void 0||y===void 0||r.props.preSelection==null)break;var b=oo(p,y).startPeriod,T=d2,A=s-T;if(A<b){var I=y%T;s>=b&&s<b+I?T=I:T+=I,A=s-T}r.handleYearNavigation(A,xd(r.props.preSelection,T));break}case we.ArrowDown:{if(p===void 0||y===void 0||r.props.preSelection==null)break;var C=oo(p,y).endPeriod,T=d2,A=s+T;if(A>C){var I=y%T;s<=C&&s>C-I?T=I:T+=I,A=s+T}r.handleYearNavigation(A,ea(r.props.preSelection,T));break}}v&&v(i)},r.getYearClassNames=function(i){var s=r.props,l=s.date,u=s.minDate,d=s.maxDate,f=s.excludeDates,p=s.includeDates,y=s.filterDate,v=s.yearClassName;return zn("react-datepicker__year-text","react-datepicker__year-".concat(i),l?v==null?void 0:v(qi(l,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(u||d||f||p||y)&&jy(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=qe(r.props.preSelection),l=jy(i,r.props);return i===s&&!l?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,l=i.yearItemNumber,u=i.onYearMouseEnter,d=i.onYearMouseLeave;if(s===void 0)return null;for(var f=oo(s,l),p=f.startPeriod,y=f.endPeriod,v=function(A){r.push(se.createElement("div",{ref:b.YEAR_REFS[A-p],onClick:function(I){t.onYearClick(I,A)},onKeyDown:function(I){R3(I)&&(I.preventDefault(),I.key=we.Enter),t.onYearKeyDown(I,A)},tabIndex:Number(b.getYearTabIndex(A)),className:b.getYearClassNames(A),onMouseEnter:b.props.usePointerEvent?void 0:function(I){return u(I,A)},onPointerEnter:b.props.usePointerEvent?function(I){return u(I,A)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(I){return d(I,A)},onPointerLeave:b.props.usePointerEvent?function(I){return d(I,A)}:void 0,key:A,"aria-current":b.isCurrentYear(A)?"date":void 0},b.getYearContent(A)))},b=this,T=p;T<=y;T++)v(T);return se.createElement("div",{className:"react-datepicker__year"},se.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(P.Component);function Eie(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var l=n+e-s,u=!0;t&&(u=qe(t)<=l),r&&u&&(u=qe(r)>=l),u&&i.push(l)}return i}var Sie=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,d=r.state.yearsList.map(function(y){return se.createElement("div",{className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:r.onChange.bind(r,y),"aria-selected":u===y?"true":void 0},u===y?se.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",y)}),f=r.props.minDate?qe(r.props.minDate):null,p=r.props.maxDate?qe(r.props.maxDate):null;return(!p||!r.state.yearsList.find(function(y){return y===p}))&&d.unshift(se.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!r.state.yearsList.find(function(y){return y===f}))&&d.push(se.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},se.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var d=r.state.yearsList.map(function(f){return f+u});r.setState({yearsList:d})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,l=i||(s?10:5);return r.state={yearsList:Eie(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=P.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=zn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.createElement(q_,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(P.Component),xie=function(n){Mn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?qe(t.props.minDate):1900,i=t.props.maxDate?qe(t.props.maxDate):2100,s=[],l=r;l<=i;l++)s.push(se.createElement("option",{key:l,value:l},l));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return se.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return se.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},se.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return se.createElement(Sie,nt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,l;(l=(s=t.props).onSelect)===null||l===void 0||l.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return se.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(P.Component),Aie=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Iie=function(n){var e=(n.className||"").split(/\s+/);return Aie.some(function(t){return e.indexOf(t)>=0})},Die=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,l;Iie(i.target)&&((l=(s=r.props).onDropdownFocus)===null||l===void 0||l.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,l=i.selected,u=i.openToDate,d=I3(r.props),f=D3(r.props),p=ut(),y=u||l||s;return y||(d&&pc(p,d)?d:f&&Po(p,f)?f:p)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ai(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Xl(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,l){r.props.onSelect(i,s,l),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:qi(ut(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,l,u,d;(l=(s=r.props).onYearChange)===null||l===void 0||l.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(d=(u=r.props).setOpen)===null||d===void 0||d.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!ai(i,r.props))return i;for(var s=ia(i),l=Gre(i),u=Tee(l,s),d=null,f=0;f<=u;f++){var p=Si(s,f);if(!ai(p,r.props)){d=p;break}}return d},r.handleMonthChange=function(i){var s,l,u,d=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(d),r.props.adjustDateOnChange&&(r.props.onSelect(d),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(d)},r.handleCustomMonthChange=function(i){var s,l;(l=(s=r.props).onMonthChange)===null||l===void 0||l.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var l=s.date;return{date:qi(l,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var l=s.date;return{date:si(l,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var l=s.date;return{date:qi(si(l,Zn(i)),qe(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=mo(i,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(se.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=Si(s,u),f=r.formatWeekday(d,r.props.locale),p=r.props.weekDayClassName?r.props.weekDayClassName(d):void 0;return se.createElement("div",{key:u,"aria-label":Ot(d,"EEEE",r.props.locale),className:zn("react-datepicker__day-name",p)},f)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?Qre(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?Zre(i,s):Xre(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,l=i.date;return{date:xd(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,l;if(!r.props.renderCustomHeader){var u=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=r.props.showPreviousMonths?u-1:0,f=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:d,p=Xl(r.state.date,f),y;switch(!0){case r.props.showMonthYearPicker:y=r2(r.state.date,r.props);break;case r.props.showYearPicker:y=rie(r.state.date,r.props);break;case r.props.showQuarterYearPicker:y=tie(r.state.date,r.props);break;default:y=t2(p,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&y||r.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(T=r.decreaseYear),y&&r.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),T=void 0);var A=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,I=r.props,C=I.previousMonthButtonLabel,V=C===void 0?e.defaultProps.previousMonthButtonLabel:C,N=I.previousYearButtonLabel,q=N===void 0?e.defaultProps.previousYearButtonLabel:N,z=r.props,Y=z.previousMonthAriaLabel,k=Y===void 0?typeof V=="string"?V:"Previous Month":Y,D=z.previousYearAriaLabel,M=D===void 0?typeof q=="string"?q:"Previous Year":D;return se.createElement("button",{type:"button",className:b.join(" "),onClick:T,onKeyDown:r.props.handleOnKeyDown,"aria-label":A?M:k},se.createElement("span",{className:v.join(" ")},A?q:V))}}},r.increaseYear=function(){r.setState(function(i){var s,l=i.date;return{date:ea(l,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=i2(r.state.date,r.props);break;case r.props.showYearPicker:s=iie(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=nie(r.state.date,r.props);break;default:s=n2(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(d=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,p=r.props,y=p.nextMonthButtonLabel,v=y===void 0?e.defaultProps.nextMonthButtonLabel:y,b=p.nextYearButtonLabel,T=b===void 0?e.defaultProps.nextYearButtonLabel:b,A=r.props,I=A.nextMonthAriaLabel,C=I===void 0?typeof v=="string"?v:"Next Month":I,V=A.nextYearAriaLabel,N=V===void 0?typeof T=="string"?T:"Next Year":V;return se.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:r.props.handleOnKeyDown,"aria-label":f?N:C},se.createElement("span",{className:u.join(" ")},f?T:v))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),se.createElement("h2",{className:s.join(" ")},Ot(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return se.createElement(xie,nt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:qe(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return se.createElement(yie,nt({},e.defaultProps,r.props,{month:Zn(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return se.createElement(wie,nt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Qk(),i),r.props.setPreSelection&&r.props.setPreSelection(Qk())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return se.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,l=i.i;return se.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),se.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)),se.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,l,u=i.monthDate,d=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var f=t2(r.state.date,r.props),p=n2(r.state.date,r.props),y=r2(r.state.date,r.props),v=i2(r.state.date,r.props),b=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(s=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(s,nt(nt({},r.state),{customHeaderCount:d,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:y,nextYearButtonDisabled:v})),b&&se.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(i){var s=i.monthDate,l=r.props,u=l.showYearPicker,d=l.yearItemNumber,f=d===void 0?e.defaultProps.yearItemNumber:d,p=oo(s,f),y=p.startPeriod,v=p.endPeriod;return se.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(v):qe(s))},r.renderHeader=function(i){var s=i.monthDate,l=i.i,u=l===void 0?0:l,d={monthDate:s,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(d);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(d);default:return r.renderDefaultHeader(d)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=r.props.showPreviousMonths?u-1:0,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ea(r.state.date,d):Xl(r.state.date,d),p=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:d,y=0;y<u;++y){var v=y-p+d,b=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ea(f,v):Ai(f,v),T="month-".concat(y),A=y<u-1,I=y>0;l.push(se.createElement("div",{key:T,ref:function(C){r.monthContainer=C??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:b,i:y}),se.createElement(mie,nt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:b,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:y,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:A,monthShowsDuplicateDaysStart:I}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return se.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),se.createElement(Tie,nt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.createElement(bie,nt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&H_(i)&&!!r.props.selected,l=s?"".concat(a2(i.getHours()),":").concat(a2(i.getMinutes())):"";if(r.props.showTimeInput)return se.createElement(uie,nt({},e.defaultProps,r.props,{date:i,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=oo(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=s.startPeriod,u=s.endPeriod,d;return r.props.showYearPicker?d="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?d=qe(r.state.date):d="".concat(lx(Zn(r.state.date),r.props.locale)," ").concat(qe(r.state.date)),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&d)},r.renderChildren=function(){if(r.props.children)return se.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=P.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:gm}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!tt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!cr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!tt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||jre;return se.createElement(q_,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},se.createElement("div",{style:{display:"contents"},ref:this.containerRef},se.createElement(t,{className:zn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(P.Component),Rie=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return se.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(se.isValidElement(e)){var l=e;return se.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof i=="function"&&i(u)}})}return se.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},se.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},C3=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return jF.createPortal(this.props.children,this.el)},e}(P.Component),Cie="[tabindex], a, button, input, select, textarea",Pie=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},P3=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(Cie),1,-1).filter(Pie)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=P.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?se.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,se.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(P.Component);function kie(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=P.useRef(null),l=Ure(nt({open:!i,whileElementsMounted:wre,placement:t.popperPlacement,middleware:ss([Ire({padding:15}),Are(10),Dre({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=nt(nt({},t),{hidePopper:i,popperProps:nt(nt({},l),{arrowRef:s})});return se.createElement(n,nt({},u))};return e}var Mie=function(n){Mn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,l=s===void 0?e.defaultProps.hidePopper:s,u=t.popperComponent,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown,y=t.portalId,v=t.portalHost,b=t.popperProps,T=t.showArrow,A=void 0;if(!l){var I=zn("react-datepicker-popper",r);A=se.createElement(P3,{enableTabLoop:f},se.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:I,"data-placement":b.placement,onKeyDown:p},u,T&&se.createElement(Mre,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(A=P.createElement(this.props.popperContainer,{},A)),y&&!l&&(A=se.createElement(C3,{portalId:y,portalHost:v},A));var C=zn("react-datepicker-wrapper",i);return se.createElement(se.Fragment,null,se.createElement("div",{ref:b.refs.setReference,className:C},d),A)},e}(P.Component),Oie=kie(Mie),h2="react-datepicker-ignore-onclickoutside";function Nie(n,e){return n&&e?Zn(n)!==Zn(e)||qe(n)!==qe(e):n!==e}var jb="Date input not valid.",f2=function(n){Mn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ut()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,l){var u=new Date(l.date);return H_(u)?ss(ss([],s,!0),[nt(nt({},l),{date:u})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),l=I3(r.props),u=D3(r.props),d=l&&pc(s,Uy(l))?l:u&&Po(s,Xk(u))?u:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:d,highlightDates:s2(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(nt(nt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(nt(nt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:zb},function(){i||r.setState(function(l){return{focused:s?l.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ta(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,l,u=r.state.wasHidden,d=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(s=r.props).onFocus)===null||l===void 0||l.call(s,i),d&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(s=r.props).onBlur)===null||l===void 0||l.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,l;r.props.inline||r.setOpen(!1),(l=(s=r.props).onClickOutside)===null||l===void 0||l.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,l,u,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var y=f[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,f),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){r.setState({inputValue:(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:Vie});var v=r.props,b=v.selectsRange,T=v.startDate,A=v.endDate,I=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,C=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,V=(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:"";if(b){var N=V.split(I.includes("-")?S3:"-",2).map(function(j){return j.trim()}),q=N[0],z=N[1],Y=Fb(q??"",I,r.props.locale,C),k=Fb(z??"",I,r.props.locale,C),D=(T==null?void 0:T.getTime())!==(Y==null?void 0:Y.getTime()),M=(A==null?void 0:A.getTime())!==(k==null?void 0:k.getTime());if(!D&&!M||Y&&ai(Y,r.props)||k&&ai(k,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[Y,k],y)}else{var L=Fb(V,I,r.props.locale,C,(d=r.props.selected)!==null&&d!==void 0?d:void 0);(L||!V)&&r.setSelected(L,y,!0)}}},r.handleSelect=function(i,s,l){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,d=u.startDate,f=u.endDate;d&&!f&&(r.props.swapRange||!c2(i,d))&&r.setOpen(!1)}}},r.setSelected=function(i,s,l,u){var d,f,p=i;if(r.props.showYearPicker){if(p!==null&&jy(qe(p),r.props))return}else if(r.props.showMonthYearPicker){if(p!==null&&A3(p,r.props))return}else if(p!==null&&ai(p,r.props))return;var y=r.props,v=y.onChange,b=y.selectsRange,T=y.startDate,A=y.endDate,I=y.selectsMultiple,C=y.selectedDates,V=y.minTime,N=y.swapRange;if(!zl(r.props.selected,p)||r.props.allowSameDay||b||I)if(p!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(p=Bb(p,{hour:na(r.props.selected),minute:ra(r.props.selected),second:po(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&V&&(p=Bb(p,{hour:V.getHours(),minute:V.getMinutes(),second:V.getSeconds()})),r.props.inline||r.setState({preSelection:p}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),b){var q=!T&&!A,z=T&&!A,Y=T&&A;q?v==null||v([p,null],s):z&&(p===null?v==null||v([null,null],s):c2(p,T)?N?v==null||v([p,T],s):v==null||v([p,null],s):v==null||v([T,p],s)),Y&&(v==null||v([p,null],s))}else if(I){if(p!==null)if(!(C!=null&&C.length))v==null||v([p],s);else{var k=C.some(function(M){return tt(M,p)});if(k){var D=C.filter(function(M){return!tt(M,p)});v==null||v(D,s)}else v==null||v(ss(ss([],C,!0),[p],!1),s)}}else v==null||v(p,s);l||((f=(d=r.props).onSelect)===null||f===void 0||f.call(d,p,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=ta(r.props.minDate),l=ta(r.props.maxDate),u=!0;if(i){var d=Uy(i);if(s&&l)u=Pf(i,r.props.minDate,r.props.maxDate);else if(s){var f=Uy(r.props.minDate);u=Po(i,f)||zl(d,f)}else if(l){var p=Xk(r.props.maxDate);u=pc(i,p)||zl(d,p)}}u&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),d=r.props.selected?i:Bb(u,{hour:na(i),minute:ra(i)});r.setState({preSelection:d}),(l=(s=r.props).onChange)===null||l===void 0||l.call(s,d),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,l,u,d,f,p;(l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,i);var y=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(y===we.ArrowDown||y===we.ArrowUp||y===we.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(y===we.ArrowDown||y===we.ArrowUp){i.preventDefault();var v=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((d=r.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var T=ut(r.state.preSelection);y===we.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===zb?(r.handleSelect(T,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(T)):r.setOpen(!1)):y===we.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):y===we.Tab&&r.setOpen(!1),r.inputOk()||(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:jb})}},r.onPortalKeyDown=function(i){var s=i.key;s===we.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,l,u,d,f,p,y=r.props,v=y.minDate,b=y.maxDate,T=y.disabledKeyboardNavigation,A=y.showWeekPicker,I=y.shouldCloseOnSelect,C=y.locale,V=y.calendarStartDay,N=y.adjustDateOnChange,q=y.inline;if((l=(s=r.props).onKeyDown)===null||l===void 0||l.call(s,i),!T){var z=i.key,Y=i.shiftKey,k=ut(r.state.preSelection),D=function(Ie,K){var ie=K;switch(Ie){case we.ArrowRight:ie=A?Av(K,1):Si(K,1);break;case we.ArrowLeft:ie=A?Uk(K):bne(K);break;case we.ArrowUp:ie=Uk(K);break;case we.ArrowDown:ie=Av(K,1);break;case we.PageUp:ie=Y?xd(K,1):Xl(K,1);break;case we.PageDown:ie=Y?ea(K,1):Ai(K,1);break;case we.Home:ie=mo(K,C,V);break;case we.End:ie=Wre(K);break}return ie},M=function(Ie,K){for(var ie=40,de=Ie,Ee=!1,U=0,oe=D(Ie,K);!Ee;){if(U>=ie){oe=K;break}v&&oe<v&&(de=we.ArrowRight,oe=ai(v,r.props)?D(de,oe):v),b&&oe>b&&(de=we.ArrowLeft,oe=ai(b,r.props)?D(de,oe):b),ai(oe,r.props)?((de===we.PageUp||de===we.Home)&&(de=we.ArrowRight),(de===we.PageDown||de===we.End)&&(de=we.ArrowLeft),oe=D(de,oe)):Ee=!0,U++}return oe};if(z===we.Enter){i.preventDefault(),r.handleSelect(k,i),!I&&r.setPreSelection(k);return}else if(z===we.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:jb});return}var L=null;switch(z){case we.ArrowLeft:case we.ArrowRight:case we.ArrowUp:case we.ArrowDown:case we.PageUp:case we.PageDown:case we.Home:case we.End:L=M(z,k);break}if(!L){(p=(f=r.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:jb});return}if(i.preventDefault(),r.setState({lastPreSelectChange:zb}),N&&r.setSelected(L),r.setPreSelection(L),q){var j=Zn(k),$=Zn(L),F=qe(k),Ve=qe(L);j!==$||F!==Ve?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===we.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,l=s.selectsRange,u=s.onChange;l?u==null||u([null,null],i):u==null||u(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:se.createElement(Die,nt({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:aie(r.modifyHolidays()),outsideClickIgnoreClass:h2,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,l=s===void 0?e.defaultProps.dateFormat:s,u=i.locale,d=r.props.showTimeInput||r.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return r.props.selectsRange?p="Selected start date: ".concat(ii(r.props.startDate,{dateFormat:f,locale:u}),". ").concat(r.props.endDate?"End date: "+ii(r.props.endDate,{dateFormat:f,locale:u}):""):r.props.showTimeSelectOnly?p="Selected time: ".concat(ii(r.props.selected,{dateFormat:l,locale:u})):r.props.showYearPicker?p="Selected year: ".concat(ii(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?p="Selected month: ".concat(ii(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?p="Selected quarter: ".concat(ii(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(ii(r.props.selected,{dateFormat:f,locale:u})),se.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},r.renderDateInput=function(){var i,s,l,u=zn(r.props.className,(i={},i[h2]=r.state.open,i)),d=r.props.customInput||se.createElement("input",{type:"text"}),f=r.props.customInputRef||"ref",p=r.props,y=p.dateFormat,v=y===void 0?e.defaultProps.dateFormat:y,b=p.locale,T=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?$re(r.props.startDate,r.props.endDate,{dateFormat:v,locale:b}):r.props.selectsMultiple?qre((l=r.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:v,locale:b}):ii(r.props.selected,{dateFormat:v,locale:b});return P.cloneElement(d,(s={},s[f]=function(A){r.input=A},s.value=T,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=zn(d.props.className,u),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,l=i.disabled,u=i.selected,d=i.startDate,f=i.endDate,p=i.clearButtonTitle,y=i.clearButtonClassName,v=y===void 0?"":y,b=i.ariaLabelClose,T=b===void 0?"Close":b,A=i.selectedDates,I=i.readOnly;return s&&!I&&(u!=null||d!=null||f!=null||A!=null&&A.length)?se.createElement("button",{type:"button",className:zn("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:r.onClearClick,title:p,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:gm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,l,u;t.inline&&Nie(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:s2(this.props.highlightDates)}),!r.focused&&!zl(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),se.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&se.createElement(Rie,nt({icon:i,className:zn(l,!l&&s,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?se.createElement(P3,{enableTabLoop:this.props.enableTabLoop},se.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=se.createElement(C3,nt({portalId:this.props.portalId},this.props),r)),se.createElement("div",null,this.renderInputContainer(),r)}return se.createElement(Oie,nt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(P.Component),Vie="input",zb="navigate";const Lie={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},Fie=(n,e,t)=>{let r;const i=Lie[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?r+" 후":r+" 전":r},Bie={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},Uie={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},jie={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},zie={date:$u({formats:Bie,defaultWidth:"full"}),time:$u({formats:Uie,defaultWidth:"full"}),dateTime:$u({formats:jie,defaultWidth:"full"})},$ie={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},qie=(n,e,t,r)=>$ie[n],Hie={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Yie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Wie={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Gie={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},Kie={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Qie={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Xie=(n,e)=>{const t=Number(n);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(t);case"date":return t+"일";default:return t+"번째"}},Zie={ordinalNumber:Xie,era:Zi({values:Hie,defaultWidth:"wide"}),quarter:Zi({values:Yie,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Zi({values:Wie,defaultWidth:"wide"}),day:Zi({values:Gie,defaultWidth:"wide"}),dayPeriod:Zi({values:Kie,defaultWidth:"wide",formattingValues:Qie,defaultFormattingWidth:"wide"})},Jie=/^(\d+)(일|번째)?/i,ese=/\d+/i,tse={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},nse={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},rse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},ise={any:[/1/i,/2/i,/3/i,/4/i]},sse={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},ase={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},ose={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},lse={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},cse={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},use={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},dse={ordinalNumber:r3({matchPattern:Jie,parsePattern:ese,valueCallback:n=>parseInt(n,10)}),era:Ji({matchPatterns:tse,defaultMatchWidth:"wide",parsePatterns:nse,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:rse,defaultMatchWidth:"wide",parsePatterns:ise,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ji({matchPatterns:sse,defaultMatchWidth:"wide",parsePatterns:ase,defaultParseWidth:"any"}),day:Ji({matchPatterns:ose,defaultMatchWidth:"wide",parsePatterns:lse,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:cse,defaultMatchWidth:"any",parsePatterns:use,defaultParseWidth:"any"})},hse={code:"ko",formatDistance:Fie,formatLong:zie,formatRelative:qie,localize:Zie,match:dse,options:{weekStartsOn:0,firstWeekContainsDate:1}};Kre("ko",hse);const fse=W.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,pse=W.div``,mse=W.p`
  font-size: 18px;
  font-weight: 600;
  color: ${ae.colors.gray[800]};
`,gse=W.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: auto;
`,yse=W.span`
  width: 12px;
  height: 2px;
  background-color: ${ae.colors.gray[900]};
`,vse=W.div`
  width: 164px;
  height: 40px;
  border: 1px solid ${ae.colors.gray[400]};
  padding: 8px 10px;
  border-radius: 2px;

  display: flex;
  justify-content: space-between;
  align-items: center;
`,_se=W.i`
  width: 20px;
  height: 20px;
  background-image: url("/calendar.svg");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  cursor: pointer;
`,wse=W.p`
  font-size: 14px;
`,p2=P.forwardRef(({value:n,onClick:e},t)=>x.jsxs(vse,{onClick:e,ref:t,children:[x.jsx(wse,{children:n}),x.jsx(_se,{})]}));function bse({title:n,value:e,onChange:t}){const[r,i]=P.useState(new Date),[s,l]=P.useState(new Date);P.useEffect(()=>{(e==null?void 0:e.length)===2&&(i(e[0]),l(e[1]))},[e]);const u=f=>{i(f),t==null||t([f,s])},d=f=>{l(f),t==null||t([r,f])};return x.jsxs(fse,{children:[x.jsx(pse,{children:x.jsx(mse,{children:n})}),x.jsxs(gse,{children:[x.jsx(f2,{selected:r,onChange:u,customInput:x.jsx(p2,{}),dateFormat:"yyyy.MM.dd",locale:"ko"}),x.jsx(yse,{}),x.jsx(f2,{selected:s,onChange:d,customInput:x.jsx(p2,{}),dateFormat:"yyyy.MM.dd",locale:"ko"})]})]})}const Tse=W.div`
  background-color: rgba(0, 0, 0, 0.7);
  position: absolute;
  width: 402px;
  height: 874px;
  top: 0;
  left: 0;
  z-index: 999;
`,Ese=W.div`
  height: 148px;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 20px 0px;
`,Sse=W.p`
  font-size: 14px;
  line-height: 150%;
  font-weight: 500;
  color: ${ae.colors.gray[500]};
`,xse=W.p`
  font-size: 24px;
  line-height: 28px;
  font-weight: 700;
  color: ${ae.colors.gray[800]};
`,Ase=W.p`
  font-size: 18px;
  line-height: 150%;
  font-weight: 500;
  color: ${ae.colors.gray[800]};
`,Ise=W.p`
  font-size: 14px;
  line-height: 150%;
  font-weight: 500;
  color: ${ae.colors.gray[400]};
`,Dse=W.div`
  width: 100%;
`,Rse=W.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 32px;
`,Cse=W.div`
  padding-top: 24px;
  height: 472px;
  display: flex;
  flex-direction: column;
  gap: 24px;
  margin-bottom: 64px;
`,Pse=W.div`
  overflow-y: hidden;
`;function m2(){var I,C,V;const n=mr(),[e,t]=P.useState(1),[r,i]=P.useState(!1),[s,l]=P.useState(null),{id:u}=Hv();P.useEffect(()=>{u&&St.collection("post").doc(u).get().then(N=>{if(N.exists){const q=N.data();y({topic:q.topic||"",category:q.category||"",purpose:q.purpose||[],status:q.status||"",description:q.description||"",positions:q.positions||[],projectDate:q.projectDate||[]}),f(q.positions||[])}})},[u]),P.useEffect(()=>{St.collection("profile").get().then(N=>{const q=[];N.forEach(z=>q.push(z.data())),l(q[0]||null)})},[]);const[d,f]=P.useState([]),[p,y]=P.useState({topic:"",category:"",purpose:[],status:"",description:"",positions:[],projectDate:[]}),v=p.topic.trim()!==""&&p.category!==""&&p.purpose.length>0&&p.description.trim()!=="",b=p.positions.length>0,T=p.positions.length>=3,A=()=>{if(e===1&&v){t(2);return}if(e===2&&b){if(u){St.collection("post").doc(u).update(p).then(()=>{alert("수정 완료!"),n("/post")});return}const N=new Date().getTime().toString();St.collection("post").doc(N).set({id:N,date:Date.now(),viewCount:0,author:(s==null?void 0:s.name)||"익명",...p}).then(()=>{alert("작성 완료!"),n("/post")})}};return x.jsxs(x.Fragment,{children:[r&&x.jsx(Tse,{onClick:()=>i(!1)}),x.jsx(Ts,{type:"back",title:"파티 모집 작성",backTo:"/post"}),x.jsx("div",{className:"white-bg",children:x.jsx(qG,{step:e})}),x.jsxs("div",{className:`write_content_wrap ${e===2?"no-scroll":""}`,children:[x.jsxs(Ese,{children:[x.jsxs(Sse,{children:[e,"/2"]}),x.jsx(xse,{children:e===1?"기본 정보 입력":"모집 포지션 입력"}),x.jsxs(Ase,{children:[" ",e===1?"프로젝트의 기본 정보를 입력해주세요":"필요한 파티원의 포지션을 등록해주세요"]}),x.jsx(Ise,{children:e===1?"":"최대 3개까지 선택할 수 있어요."})]}),x.jsx(Dse,{children:e===1?x.jsxs(Rse,{children:[x.jsx(Mp,{title:"프로젝트 주제",placeholder:"구체적인 프로젝트 주제를 입력해 주세요",type:"essential",topic:!0,value:p.topic,onChange:N=>y({...p,topic:N})}),x.jsx(GS,{title:"카테고리",placeholder:"카테고리를 선택해주세요",items:["졸업작품","사이드 프로젝트","공모전","기타"],type:"essential",value:p.category,onSelect:N=>y({...p,category:N})}),x.jsx("div",{children:x.jsx(Op,{title:"프로젝트 목적",subtext:"최대 2개까지 선택할 수 있어요",items:["포트폴리오","수상","네트워킹","실무연습","졸업","자기개발","기타"],mode:"multi",essential:!0,value:p.purpose,onChange:N=>y({...p,purpose:N})})}),x.jsx("div",{children:x.jsx(Op,{title:"프로젝트 현황",items:["진행전","진행중"],mode:"single",essential:!1,value:p.status,onChange:N=>y({...p,status:N}),popperPlacement:"bottom-start"})}),x.jsx("div",{className:"DateRealative",children:x.jsx(bse,{title:"프로젝트 기간",selected:((I=p.projectDate)==null?void 0:I[0])||null,onChange:N=>y({...p,projectDate:N}),startDate:((C=p.projectDate)==null?void 0:C[0])||null,endDate:((V=p.projectDate)==null?void 0:V[1])||null,selectsRange:!0,placeholderText:"기간 선택",dateFormat:"yyyy.MM.dd",popperPlacement:"bottom",popperModifiers:[{name:"offset",options:{offset:[0,10]}}]})}),x.jsx(Mp,{title:"프로젝트 소개",placeholder:"프로젝트 상세 정보를 입력해 주세요.",type:"essential",topic:!1,value:p.description,onChange:N=>y({...p,description:N})})]}):x.jsxs(Cse,{children:[x.jsx(G4,{cards:p.positions.map(N=>({title:N.position,skills:N.stack})),mode:"single",purpose:"show",onChange:N=>{const q=N.map(({title:z,skills:Y})=>({position:z,stack:Y}));y({...p,positions:q})}}),x.jsx(Fr,{type:T?"disabled":"outline",btnName:"+ 파티원 추가",onClick:()=>{T||i(!0)}})]})},e),x.jsx("div",{className:"writeActionBtn",children:x.jsx(Fr,{btnName:e===1?"다음":u?"수정 완료":"작성 완료",onClick:A,type:e===1?v?"default":"disabled":b?"default":"disabled"})}),r&&x.jsx(Pse,{children:x.jsx(see,{onClose:()=>i(!1),onAdd:N=>{y(q=>({...q,positions:[...q.positions,N]})),i(!1)}})})]})]})}const kse="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2013C12.5523%2013%2013%2012.5523%2013%2012C13%2011.4477%2012.5523%2011%2012%2011C11.4477%2011%2011%2011.4477%2011%2012C11%2012.5523%2011.4477%2013%2012%2013Z'%20fill='%23424242'/%3e%3cpath%20d='M12%206C12.5523%206%2013%205.55228%2013%205C13%204.44772%2012.5523%204%2012%204C11.4477%204%2011%204.44772%2011%205C11%205.55228%2011.4477%206%2012%206Z'%20fill='%23424242'/%3e%3cpath%20d='M12%2020C12.5523%2020%2013%2019.5523%2013%2019C13%2018.4477%2012.5523%2018%2012%2018C11.4477%2018%2011%2018.4477%2011%2019C11%2019.5523%2011.4477%2020%2012%2020Z'%20fill='%23424242'/%3e%3cpath%20d='M12%2013C12.5523%2013%2013%2012.5523%2013%2012C13%2011.4477%2012.5523%2011%2012%2011C11.4477%2011%2011%2011.4477%2011%2012C11%2012.5523%2011.4477%2013%2012%2013Z'%20stroke='%23424242'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%206C12.5523%206%2013%205.55228%2013%205C13%204.44772%2012.5523%204%2012%204C11.4477%204%2011%204.44772%2011%205C11%205.55228%2011.4477%206%2012%206Z'%20stroke='%23424242'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2020C12.5523%2020%2013%2019.5523%2013%2019C13%2018.4477%2012.5523%2018%2012%2018C11.4477%2018%2011%2018.4477%2011%2019C11%2019.5523%2011.4477%2020%2012%2020Z'%20stroke='%23424242'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Mse=W.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border: 1px solid ${ae.colors.gray[400]};
  border-radius: 4px;
  overflow: hidden;
  z-index: 9999;
`,Ose=W.div`
  padding: 12px 28px;
  background-color: ${ae.colors.gray[50]};
  color: ${ae.colors.gray[800]};

  & > p {
    font-size: 14px;
  }

  cursor: pointer;
`,Nse=W.div`
  padding: 12px 28px;
  background-color: ${ae.colors.gray[50]};
  color: ${ae.colors.gray[800]};

  & > p {
    font-size: 14px;
  }

  cursor: pointer;
`;function Vse({id:n,post:e}){const t=mr(),r=()=>{St.collection("post").doc(n).delete().then(function(){alert("삭제되었습니다."),t("/post")})},i=()=>{t(`/post/write/${n}`,{state:{id:n,data:e}})};return x.jsxs(Mse,{children:[x.jsx(Ose,{onClick:i,children:x.jsx("p",{children:"수정하기"})}),x.jsx(Nse,{onClick:r,children:x.jsx("p",{children:"삭제하기"})})]})}const Lse=W.div`
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
  overflow-y: visible;
  scrollbar-width: none;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
`,Fse=W.div`
  display: flex;
  padding: 36px 20px 20px 20px;
  flex-direction: column;
  align-items: flex-start;
  gap: 16px;
  background-color: #fff;
  margin-bottom: 8px;
`,Bse=W.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 6px;
  align-self: stretch;
  z-index: 9999;

  position: relative;
`,Use=W.div`
  display: flex;
  align-items: center;
  gap: 8px;
  align-self: stretch;
`,jse=W.div`
  color: ${ae.colors.gray[900]};
  font-family: Pretendard;
  font-size: 20px;
  font-style: normal;
  font-weight: 700;
  line-height: 150%;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  flex: 1 0 0;
`,zse=W.p`
  font-size: 14px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,$se=W.p`
  font-size: 14px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,qse=W.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;
`,Hse=W.div`
  display: flex;
  gap: 4px;
  align-items: center;
`,Yse=W.img`
  width: 24px;
  height: 24px;
  border-radius: 999px;
`,Wse=W.div`
  display: flex;
  gap: 4px;
  align-items: center;
  justify-content: end;
`,Gse=W.span`
  font-size: 14px;
  font-weight: 600;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,Kse=W.img`
  opacity: 0.8;
  width: 16px;
  height: 16px;
`,Qse=W.span`
  font-size: 12px;
  line-height: 150%;
  color: ${ae.colors.gray[600]};
`,Xse=W.span`
  line-height: 150%;
  font-size: 14px;
  font-weight: 500;
  color: ${ae.colors.primary};
`,Zse=W.div`
  background-color: #fff;
  padding: 24px 20px;
  align-self: stretch;
  & > h3 {
    margin-bottom: 16px;
    font-size: 18px;
    font-weight: 700;
  }
`,Jse=W.div`
  background-color: #fff;
  display: flex;
  padding: 24px 20px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;
  align-self: stretch;
`,eae=W.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;

  & > .title {
    font-family: Pretendard;
    font-size: 16px;
    font-weight: 600;
    line-height: 150%;
  }

  & > .text {
    color: ${ae.colors.gray[600]};
  }
`,tae=W.div`
  flex-grow: 1;
  background-color: #fff;
  padding: 24px 20px;
  white-space: pre-line;

  & > h3 {
    margin-bottom: 16px;
    font-size: 18px;
    font-weight: 700;
    line-height: 150%; /* 27px */
    color: ${ae.colors.gray[800]};
  }

  & > p {
    font-size: 16px;
    font-weight: 400;
    line-height: 150%; /* 24px */
    color: ${ae.colors.gray[600]};
  }
`,nae=W.div`
  position: sticky;
  top: 0;
  background-color: #fff;
  z-index: 10;
`,$b=W.div`
  scroll-margin-top: 58px;
  display: flex;
  flex-direction: column;

  &:last-child {
    flex-grow: 1;
  }

  &:not(:last-child) {
    margin-bottom: 8px;
  }
`,rae=W.div`
  position: absolute;
  right: 0px;
  top: 40px;
`;function qb(n){const e=new Date(n);return`${e.getFullYear()}.${String(e.getMonth()+1).padStart(2,"0")}.${String(e.getDate()).padStart(2,"0")}`}function iae(n){const e=new Date,r=new Date(n).getTime()-e.getTime();return` 마감 D-${Math.ceil(r/(1e3*60*60*24))}일`}function sae(n){var I,C,V,N,q,z;const{post:e,setIsPositionSelected:t,setSelectedPosition:r,authorImageUrl:i}=n,s=Hv().id,l=P.useRef(null),u=P.useRef(null),d=P.useRef(null),f=Y=>{Y==="모집 포지션"&&l.current&&l.current.scrollIntoView({behavior:"smooth"}),Y==="정보"&&u.current&&u.current.scrollIntoView({behavior:"smooth"}),Y==="소개"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[p,y]=P.useState([]);P.useEffect(()=>{St.collection("post").doc(s).get().then(Y=>{if(Y.exists){const L=Y.data().viewCount||0;St.collection("post").doc(s).update({viewCount:L+1})}const M=Y.data().positions.map(L=>({title:L.position,skills:L.stack}));y(M),console.log("추출된 카드 데이터:",M)})},[]);const v=({label:Y,value:k})=>x.jsxs(eae,{children:[x.jsx("p",{className:"title",children:Y}),x.jsx("p",{className:"text",children:k})]}),[b,T]=P.useState(!1),A=Y=>`/WADA_final/${Y}`;return x.jsxs(Lse,{children:[x.jsxs(Fse,{children:[x.jsxs(Bse,{children:[x.jsxs(Use,{children:[x.jsx(jse,{children:e.topic}),x.jsx("img",{src:kse,style:{cursor:"pointer"},alt:"수정/삭제 버튼",onClick:()=>T(Y=>!Y)}),b&&x.jsx(rae,{children:x.jsx(Vse,{id:s})})]}),x.jsx(zse,{children:((C=(I=e.projectDate)==null?void 0:I[1])==null?void 0:C.toDate)&&x.jsxs(x.Fragment,{children:[qb(e.projectDate[1].toDate()),"까지 |",x.jsx(Xse,{children:iae(e.projectDate[1].toDate())})]})}),x.jsx($se,{children:Array.isArray(e.position)?p.join(" · "):e.position})]}),x.jsxs(qse,{children:[x.jsxs(Hse,{children:[x.jsx(Yse,{src:A(i||"/designerProfile.svg")}),x.jsx(Gse,{children:e.author||"작성자"})]}),x.jsxs(Wse,{children:[x.jsx(Kse,{src:"/WADA_final//view.svg"}),x.jsx(Qse,{children:e.viewCount})]})]})]}),x.jsx(nae,{children:x.jsx(dS,{items:["모집 포지션","정보","소개"],onChange:Y=>{console.log("선택된 탭:",Y),f(Y)}})}),x.jsx($b,{ref:l,"data-section":"모집 포지션",children:x.jsxs(Zse,{children:[x.jsx("h3",{children:"모집 포지션"}),x.jsx(G4,{cards:p,mode:"single",onSelect:Y=>{t==null||t(!0),r==null||r(Y)}})]})}),x.jsx($b,{ref:u,"data-section":"정보",children:x.jsxs(Jse,{children:[x.jsx(v,{label:"카테고리",value:e.category}),x.jsx(v,{label:"목적",value:Array.isArray(e.purpose)?e.purpose.join(" · "):e.purpose}),e.status&&x.jsx(v,{label:"현황",value:e.status}),((N=(V=e.projectDate)==null?void 0:V[0])==null?void 0:N.toDate)&&((z=(q=e.projectDate)==null?void 0:q[1])==null?void 0:z.toDate)&&x.jsx(v,{label:"기간",value:`${qb(e.projectDate[0].toDate())} ~ ${qb(e.projectDate[1].toDate())}`})]})}),x.jsx($b,{ref:d,"data-section":"소개",children:x.jsxs(tae,{children:[x.jsx("h3",{children:"프로젝트 소개"}),x.jsx("p",{children:e.description})]})})]})}const aae=W.div`
  background: #fff;
  padding: 24px 20px;

  & > h6 {
    color: ${ae.colors.gray[400]};
    font-family: Pretendard;
    font-size: 12px;
    font-weight: 400;
    margin-bottom: 8px;
  }

  & > h1 {
    color: ${ae.colors.gray[800]};
    font-family: Pretendard;
    font-size: 24px;
    font-weight: 700;
    line-height: 150%;
    margin-bottom: 4px;
  }

  & > p {
    color: ${ae.colors.gray[500]};
    font-family: Pretendard;
    font-size: 14px;
    font-weight: 400;
    line-height: 150%;
  }
`,oae=W.div`
  background: #fff;
  padding: 24px 20px;

  & > p {
    color: #444;
    font-family: Pretendard;
    font-size: 18px;
    font-weight: 700;
    line-height: 150%;
    margin-bottom: 24px;
  }
`,lae=W.div`
  background: #fff;
  padding: 24px 20px;
`,cae=W.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`;function uae({selectedPosition:n,profile:e,message:t,setMessage:r}){var i;return x.jsxs(cae,{children:[x.jsxs(aae,{children:[x.jsx("h6",{children:"지원 포지션"}),x.jsx("h1",{children:n==null?void 0:n.title}),x.jsx("p",{children:(i=n==null?void 0:n.skills)==null?void 0:i.join(" • ")})]}),x.jsxs(oae,{children:[x.jsx("p",{children:"내 프로필"}),x.jsx(hS,{profileData:e})]}),x.jsx(lae,{children:x.jsx(Mp,{title:"자유로운 한 마디",placeholder:"자유로운 한 마디를 적어주세요.",type:"default",topic:!1,value:t,onChange:r})})]})}const dae=W.div`
  background-color: #fff;
  padding: 16px 20px;
`,hae=W.div`
  height: 100%;
  display: flex;
  flex-direction: column;
`,fae=W.div`
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  scrollbar-width: none;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
`;function pae(){const n=Hv().id,e=mr(),[t,r]=P.useState({id:0,topic:"",category:"",purpose:[],status:"",description:"",positions:[],projectDate:[]}),[i,s]=P.useState(!1),[l,u]=P.useState(null);return P.useEffect(()=>{St.collection("post").doc(n).get().then(d=>{r(d.data())})},[]),x.jsxs(hae,{children:[x.jsx(Ts,{type:"back",title:"파티 모집",backTo:"/post"}),x.jsx(fae,{children:x.jsx(sae,{post:t,setIsPositionSelected:s,setSelectedPosition:u})}),x.jsx(dae,{children:x.jsx(Fr,{btnName:"지원",type:i?"default":"disabled",onClick:()=>{i&&e(`/post/${n}/signup`,{state:{post:t,selectedPosition:l}})}})})]})}const mae=W.div`
  display: flex;
  flex-direction: column;
  gap: 32px;
`,gae=W.div`
  background-color: #fff;
  width: 100%;
  height: 30px;
`,yae=W.div`
  height: 148px;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 20px 0px;
`,vae=W.p`
  font-size: 24px;
  line-height: 28px;
  font-weight: 700;
  line-height: 150%;
  color: ${({theme:n})=>n.colors.gray[800]};
`,_ae=W.p`
  font-size: 18px;
  line-height: 150%;
  font-weight: 500;
  color: ${({theme:n})=>n.colors.gray[800]};
`;function wae(){const n=mr(),[e,t]=P.useState({name:"",major:"",imageUrl:"",description:"",grade:"",enroll:"",task:"",position:[],stack:[]}),r={디자이너:["UI 디자이너","UX 디자이너","BX 디자이너","UX 전략가","서비스 디자이너","3D 디자이너","모션 디자이너","일러스트레이터","BI 디자이너"],개발자:["프론트엔드","백엔드","풀스택","퍼블리셔","개발자","서버 관리자","IOS 개발자","Android 개발자","SRE","데브옵스","데이터 엔지니어"],기획자:["서비스 기획자","PM","콘텐츠 기획자","마케팅 기획자","경쟁 분석가","기능 설계자","플로우 설계자"]},i={디자이너:["Figma"," Adobe XD","Photoshop","Illustrator","Whimsical","Affter Effecs","Cinema4D"],개발자:["React","Node.js","J-Queary","TypeScript","MongoDB","Swift","Xcode","Kotlin","Android Studio","Expo","Python","AWS"],기획자:["Notion","Excel","Jira","rello","Google Analytics","PPT"]},s={디자이너:"/designerProfile.svg",개발자:"/programmerProfile.svg",기획자:"/productmanagerProfile.svg"},[l,u]=P.useState(null),d=()=>{const f={...e};if(f.imageUrl===void 0&&delete f.imageUrl,l)St.collection("profile").doc(l).update(f).then(()=>{alert("프로필 수정 완료!"),n("/profile")});else{const p=new Date().getTime().toString();St.collection("profile").doc(p).set({id:p,...f}).then(()=>{alert("프로필 저장 완료!"),n("/profile")})}};return P.useEffect(()=>{St.collection("profile").get().then(f=>{const p=f.docs;if(p.length>0){const y=p[0];u(y.id),t(y.data())}})},[]),x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"back",title:"프로필 작성",backTo:"/profile"}),x.jsx(gae,{}),x.jsxs("div",{className:"write_content_wrap",children:[x.jsxs(yae,{children:[x.jsx(vae,{children:l?"프로필카드 수정":"프로필카드 작성"}),x.jsx(_ae,{children:"프로필 정보를 입력해 주세요"})]}),x.jsxs(mae,{children:[x.jsx(Mp,{title:"프로필 이름",placeholder:"원하는 프로필의 이름을 작성해주세요",type:"essential",topic:!0,value:e.name,onChange:f=>t({...e,name:f})}),x.jsx(Mp,{title:"전공",placeholder:"전공을 입력해주세요",type:"essential",topic:!0,value:e.major,onChange:f=>t({...e,major:f})}),x.jsx(GS,{title:"학년",placeholder:"학년을 선택해주세요",items:["1학년","2학년","3학년","4학년"],type:"essential",value:e.grade,onSelect:f=>t({...e,grade:f})}),x.jsx(Op,{title:"재학 상태",items:["재학","휴학"],mode:"single",essential:!1,value:e.enroll,onChange:f=>t({...e,enroll:f})}),x.jsx(Op,{title:"분야",items:["디자이너","개발자","기획자"],mode:"single",essential:!0,value:e.task,onChange:f=>t({...e,task:f,imageUrl:s[f]})}),x.jsx(Xu,{title:"포지션",subtext:"최대 3개까지 선택할 수 있어요",chips:r[e.task]||[],size:"large",selectedChips:e.position,onChange:f=>t({...e,position:f})}),x.jsx(Xu,{title:"기술 스택",subtext:"최대 3개까지 선택할 수 있어요",chips:i[e.task]||[],size:"large",selectedChips:e.stack,onChange:f=>t({...e,stack:f})})]}),x.jsx("div",{className:"writeActionBtn",children:x.jsx(Fr,{btnName:"완료",type:"default",onClick:d})})]})]})}const bae=W.div`
  background-color: #fff;
  padding: 16px 20px;
  display: flex;
  justify-content: space-between;
  gap: 8px;
`,Tae=W.div`
  height: 100%;
  display: flex;
  flex-direction: column;
`,Eae=W.div`
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  scrollbar-width: none;
  -ms-overflow-style: none;

  &::-webkit-scrollbar {
    display: none;
  }
`;function Sae(){const{state:n}=bs(),e=mr(),{post:t,selectedPosition:r}=n,[i,s]=P.useState(""),[l,u]=P.useState(null);P.useEffect(()=>{St.collection("profile").get().then(f=>{const p=[];f.forEach(y=>p.push(y.data())),u(p[0]||null)})},[]);const d=()=>{if(!l)return alert("프로필 정보를 불러오는 중입니다.");St.collection("applications").add({postId:t.id,applicantName:l.name,profile:{...l,imageUrl:l.imageUrl||""},message:i,position:r,createdAt:new Date}).then(()=>{alert("지원이 완료되었습니다."),e("/post")})};return x.jsxs(Tae,{children:[x.jsx(Ts,{type:"back",title:"신청",backTo:"/post"}),x.jsx(Eae,{children:x.jsx(uae,{selectedPosition:r,profile:l,message:i,setMessage:s})}),x.jsxs(bae,{children:[x.jsx(Fr,{btnName:"취소",type:"outline",onClick:()=>e("/party")}),x.jsx(Fr,{btnName:"지원",type:"default",onClick:d})]})]})}const xae=W.div`
  display: flex;
  flex-direction: column;
  background-color: #fff;
  height: 100%;
`,g2=W.div`
  padding: 16px 20px;
`,Aae=W.p`
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 16px;
`,Iae=W.p`
  color: ${ae.colors.gray[900]};
  font-size: 16px;
  line-height: 150%;
  white-space: pre-wrap;
  border-radius: ${ae.radius.small};
  width: 100%;
  resize: none;
  height: auto;
`,Dae=W.div`
  display: flex;
  gap: 8px;
  padding: 16px 20px;
  margin-top: 32px;
  position: absolute;
  width: 100%;
  bottom: 0%;
`;function Rae(){const{state:n}=bs(),e=mr(),{profile:t,message:r="",position:i,applicationId:s}=n||{},l=async u=>{const d={accepted:"지원자를 승인했어요!",rejected:"지원자를 반려했어요."};await St.collection("applications").doc(s).update({notice:u}),alert(d[u]||"신청을 처리했어요."),e("/party")};return Array.isArray(i==null?void 0:i.stack)&&i.stack.join(" · "),x.jsxs(x.Fragment,{children:[x.jsx(Ts,{type:"back",title:"지원자 확인",backTo:"/party"}),x.jsxs(xae,{children:[x.jsx(g2,{children:x.jsx(hS,{profileData:t})}),x.jsxs(g2,{children:[x.jsx(Aae,{children:"자유로운 한 마디"}),x.jsx(Iae,{children:r||"입력한 한 마디가 없습니다."})]}),x.jsxs(Dae,{children:[x.jsx(Fr,{btnName:"반려",type:"outline",onClick:()=>l("rejected")}),x.jsx(Fr,{btnName:"승인",type:"default",onClick:()=>l("accepted")})]})]})]})}const Cae=W.div`
    width: 402px;
    height: 875px;
    margin: 0 auto;
    border: 1px solid #ddd;
    box-shadow: 0 0 8px rgba(0,0,0,0.05);
    overflow: hidden;
    position: relative;
`;function Pae({children:n}){return x.jsx(Cae,{children:n})}f5.createRoot(document.getElementById("root")).render(x.jsx(P.StrictMode,{children:x.jsx(p9,{theme:ae,children:x.jsx(PF,{basename:"/WADA_final/",children:x.jsx(Pae,{children:x.jsxs(oF,{children:[x.jsx(ni,{path:"/",element:x.jsx(eG,{})}),x.jsx(ni,{path:"/post",element:x.jsx(dG,{})}),x.jsx(ni,{path:"/post/write",element:x.jsx(m2,{})}),x.jsx(ni,{path:"/post/write/:id",element:x.jsx(m2,{})}),x.jsx(ni,{path:"/post/:id",element:x.jsx(pae,{})}),x.jsx(ni,{path:"/party",element:x.jsx(hG,{})}),x.jsx(ni,{path:"/author/:id",element:x.jsx(IG,{})}),x.jsx(ni,{path:"/profile",element:x.jsx(jG,{})}),x.jsx(ni,{path:"/profile/write",element:x.jsx(wae,{})}),x.jsx(ni,{path:"/post/:id/signup",element:x.jsx(Sae,{})}),x.jsx(ni,{path:"/signup/view/:id",element:x.jsx(Rae,{})})]})})})})}));
